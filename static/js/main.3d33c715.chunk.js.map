{"version":3,"sources":["types/status/util.ts","types/equation/index.ts","types/move/index.ts","types/equation/data/ZERO_EQUATION.ts","types/equation/util.ts","types/character/data/BASE_MODIFIER.ts","types/stats/index.ts","types/stats/util.ts","types/move/util.ts","types/elemental/data/FireElement.ts","types/elemental/index.ts","types/character/util.ts","types/ability/util.ts","types/queue/queue.ts","types/status/data/FireAttackUp.ts","types/ability/data/Blaze.ts","types/elemental/data/WaterElement.ts","types/status/data/Wet.ts","types/move/data/WaterShot.ts","types/character/data/ZERO_STATS.ts","types/character/data/entities/BASE_CHARACTER.ts","types/elemental/data/AirElement.ts","types/status/data/Cursed.ts","types/move/data/Curse.ts","types/status/data/Evasive.ts","types/move/data/DoubleTeam.ts","types/status/data/Burning.ts","types/move/data/FireBall.ts","types/move/data/FlareBlitz.ts","types/status/data/Focused.ts","types/move/data/Focus.ts","types/status/data/Protected.ts","types/move/data/Protect.ts","types/status/data/Resting.ts","types/move/data/Rest.ts","types/status/data/Warped.ts","types/move/data/TimeWarp.ts","types/elemental/data/GrassElement.ts","types/move/data/RazorLeaf.ts","contexts/PlayerContext/index.tsx","types/character/data/entities/charizard.ts","types/character/data/entities/venusaur.ts","types/character/data/entities/blastoise.ts","contexts/CombatContext/buffer.tsx","contexts/CombatContext/turn.tsx","contexts/CombatContext/useQueue.tsx","contexts/CombatContext/index.tsx","contexts/CombatContext/getTargets.ts","theme.ts","components/_core/Box/index.tsx","icons/delapouite/plain-circle.svg","icons/sbed/flamer.svg","icons/lorc/drop.svg","icons/lorc/power-lightning.svg","icons/delapouite/oak-leaf.svg","icons/delapouite/stone-pile.svg","icons/lorc/fluffy-wing.svg","icons/lorc/spectre.svg","icons/sbed/death-skull.svg","icons/sbed/pulse.svg","components/_core/Icon/index.tsx","components/_core/ElementalIcon/index.tsx","components/CombatCharacterAvatar/index.tsx","components/Move/style.tsx","icons/darkzaitzev/revolt.svg","icons/lorc/magic-swirl.svg","components/Move/TypeIcon.tsx","icons/delapouite/dice-target.svg","icons/delapouite/fast-forward-button.svg","icons/delapouite/fast-backward-button.svg","components/Move/StatusTargetIcon.tsx","components/_core/TooltipCard/index.tsx","components/_core/StatusCard/descriptions.tsx","components/_core/StatusCard/index.tsx","components/_core/Tooltip/index.tsx","components/_core/StatusList/style.tsx","components/_core/StatusList/index.tsx","components/Move/MoveStatusesSection.tsx","components/Move/MoveStatuses.tsx","components/Move/MoveDetails.tsx","components/Move/index.tsx","components/_core/Button/index.tsx","components/_core/Spacer/index.tsx","components/CombatBody/CombatBodySection.tsx","components/CombatBody/CombatBodyActions.tsx","components/CombatBody/CombatBodyTargets.tsx","components/_core/AnimatedNumber/index.tsx","icons/darkzaitzev/running-ninja.svg","icons/lorc/hypersonic-bolt.svg","components/_core/Check/index.tsx","icons/lorc/star-swirl.svg","icons/lorc/lightning-trio.svg","icons/carl-olsen/flame.svg","icons/delapouite/perspective-dice-six-faces-random.svg","components/_core/StatusIcon/index.tsx","hooks/useList.ts","components/CombatMoveResults/CombatMoveResultsDetails.tsx","components/CombatMoveResults/ResultText.tsx","icons/skoll/allied-star.svg","icons/lorc/skull-crossed-bones.svg","components/CombatMoveResults/CombatMoveResultsChecks.tsx","components/CombatMoveResults/CombatMoveResultsHeader.tsx","components/CombatMoveResults/index.tsx","components/CombatBody/index.tsx","components/CombatBody/useCombatDamage.tsx","components/CombatBody/useCombatAI.tsx","components/Queue/style.tsx","components/Queue/index.tsx","components/QueueNormalized/index.tsx","components/CombatHeader/index.tsx","components/_core/Bar/index.tsx","hooks/usePrevious.ts","components/_core/Hexagon/index.tsx","components/_core/ImmunityCard/index.tsx","components/CombatCharacter/CombatCharacterStatus.tsx","icons/delapouite/eye-target.svg","icons/lorc/battered-axe.svg","icons/sbed/shield.svg","components/CombatCharacter/CombatCharacterStats.tsx","components/_core/AbilityCard/index.tsx","components/CombatCharacter/CombatCharacterAbility.tsx","components/CombatCharacter/CombatCharacterBadges.tsx","components/CombatCharacter/index.tsx","components/CombatParties/index.tsx","types/elemental/data/EarthElement.ts","types/move/data/RockSmash.ts","types/move/data/AirSlash.ts","types/elemental/data/ThunderElement.ts","types/status/data/Shocked.ts","types/move/data/Thunderbolt.ts","types/status/data/Dazed.ts","types/move/data/ThunderPunch.ts","App.tsx","types/character/data/entities/raichu.ts","types/character/data/entities/golem.ts","types/character/data/entities/pidgeot.ts","reportWebVitals.ts","contexts/ModalContext/style.tsx","contexts/ModalContext/index.tsx","contexts/index.tsx","index.tsx"],"names":["resolveStatus","status","applyChance","isApplied","Math","random","makeStatusFn","partial","duration","isPositive","id","v4","ZERO_EQUATION","makeEquationObject","m","b","makeEquation","x","addEquations","a","max","value","n","min","minmax","BASE_MODIFIER","stats","health","speed","energy","initiative","evasion","physicalArmor","specialArmor","criticalChance","criticalDamage","turnHealthRegen","activeTurnHealthRegen","queuePositionOffset","forceCombatCheckSuccess","forceCombatCheckFailure","physicalAccuracy","physicalAttack","physicalDefense","specialAccuracy","specialAttack","specialDefense","normalDamage","normalResistance","fireDamage","fireResistance","waterDamage","waterResistance","grassDamage","grassResistance","earthDamage","earthResistance","thunderDamage","thunderResistance","airDamage","airResistance","ghostDamage","ghostResistance","darkDamage","darkResistance","lightDamage","lightResistance","makeModifier","key","reduceModifiers","modifiers","Object","keys","reduce","result","keyModifier","keyMod","mod","reduceModifiersToEquations","resolveStats","baseStats","floor","getRolls","checks","stat","forceSucess","forceFailure","results","i","roll","getMovePerfectChance","move","character","statValue","getStats","type","offset","pow","getMoveFailureChance","getResolvedStatuses","statuses","flip","map","s","filter","getImmunities","statusId","includes","resolveMove","source","target","rolls","getStatsAndEquations","sStats","sMods","tStats","tMods","successes","Boolean","length","perfect","failure","dodged","baseDamage","power","damageModifier","sourceStats","targetStats","getMoveDamageModifier","critical","rawDamage","armorKey","elementalDamageKey","element","elementalResistanceKey","eSourceDamage","eTargetDamage","armor","totalDamage","perfectStatuses","failureStatuses","undefined","FireElement","getStatuses","abilityStatuses","abilities","ability","convertStats","as","fn","conditionsType","defaultValue","conditions","current","conditionValue","resolveValue","getResolvedAbilityStatusValue","abilityImmunities","immunities","getModifiers","statusModifiers","list","elementModifiers","elements","convertStat","level","ev","maxHealth","converHealth","damage","healthRatio","convertToDeltas","queue","statArray","find","qs","Error","t","distance","getDeltas","consolidateQueue","characters","c","deltaToZero","minT","apply","d","round","validateQueue","validate","moves","forEach","item","sameValueItem","anotherIndex","indexOf","validation","getActiveId","FireAttackUpId","FireAttackUp","name","isStackable","removeOnHit","removeOnActiveTurn","BlazeId","Blaze","abilityId","WaterElement","WetId","Wet","WaterShot","recovery","energyCost","ZERO_STATS","BASE_CHARACTER","energyOffset","AirElement","CursedId","Cursed","Curse","EvasiveId","Evasive","DoubleTeam","BurnedId","Burned","FireBall","FlareBlitz","FocusedId","Focused","Focus","ProtectedId","Protected","Protect","RestingId","Resting","Rest","WarpedId","Warped","TimeWarp","GrassElement","RazorLeaf","defaultParty","party","setParty","PlayerContext","createContext","moveBuffer","setMoveBuffer","bufferMove","targetsBuffer","setTargetsBuffer","clear","CombatBufferContext","useCombatBuffer","useContext","CombatBuffer","props","children","useCombat","getTargets","getActiveCharacter","useState","context","targets","Provider","turnId","turnCount","nextTurn","CombatTurnContext","useCombatTurn","CombatTurn","setTurnId","setTurnCount","enqueue","reduceStatusDurations","updateCharacter","useEffect","useQueue","initialValue","set","q","activeId","queueToMove","enQueue","updateById","qi","initialize","char","initializeQueue","parties","init","getCharacter","getCharacterPartyId","getLiveCharacters","isCharacterPlayerCharacter","hydrateCharacterIds","addDamageToCharacter","addStatusesToCharacter","updateQueueItemById","CombatContext","CombatContextProvider","setParties","setCharacters","chars","ids","p","characterIds","contextParties","useMemo","initParties","targetIds","sourceParty","enemyParty","getTargetIds","statusesToApply","oldStatuses","tokens","statsGreen","statsPink","healthBarRed","energyBarGreen","perfectCheckColor","physicalColor","specialColor","boxGradientFrom","boxGradientTo","white","white0","white1","white2","white3","white4","white5","white6","white7","white8","white9","white10","space","space0","space1","space2","space3","space4","space5","space6","theme","boxGradient","Box","styled","animated","div","background","border","color","flexbox","layout","position","textAlign","_extends","assign","arguments","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","displayName","defaultProps","display","flexDirection","_ref2","fill","SvgPlainCircle","_ref","svgRef","title","titleId","xmlns","viewBox","ref","ForwardRef","SvgFlamer","SvgDrop","SvgPowerLightning","SvgOakLeaf","SvgStonePile","SvgFluffyWing","SvgSpectre","SvgDeathSkull","SvgPulse","Wrapper","Icon","rest","iconMap","normal","Normal","fire","Fire","water","Water","grass","Grass","earth","Earth","thunder","Thunder","air","Air","ghost","Ghost","dark","Dark","light","Light","colorMap","ElementalIcon","Body","height","width","boxShadow","boxSizing","whiteSpace","overflow","alignItems","justifyContent","textOverflow","lineHeight","fontWeight","CombatCharacterAvatar","backgroundColor","borderWidth","borderColor","borderStyle","Header","marginBottom","AttackWrapper","AttackPower","flex","fontSize","AttackAccuracy","accuracyColors","1","2","3","4","5","6","AttackAccuracyText","MoveDetailsTitle","MoveDetailsValue","SvgRevolt","SvgMagicSwirl","physical","Physical","special","Special","TypeIcon","Name","SvgDiceTarget","SvgFastForwardButton","SvgFastBackwardButton","Target","Source","StatusTargetIcon","marginRight","TooltipCard","padding","maxWidth","statusDescriptions","statKeyMap","StatusCard","modKeys","description","style","modIndex","eq","marginTop","Tooltip","isOpen","content","contentProps","options","useLayer","arrowProps","layerProps","triggerProps","renderLayer","zIndex","marginLeft","StatusWrapper","StatusChance","opacity","StatusName","cursor","textDecoration","isHovering","StatusList","showIcon","paddingTop","flexWrap","StatusListItem","setIsHovering","onMouseEnter","onMouseLeave","toFixed","auto","placement","triggerOffset","Section","TitleWrapper","Title","textTransform","Spacer","borderBottom","margin","Chance","MoveStatusesSection","checksColor","chance","checksArray","Array","_","MoveStatuses","hasPerfectStatuses","hasFailureStatuses","perfectChance","failureChance","targetTypeStringMap","all","self","MoveDetails","Move","accuracy","paddingRight","fontFamily","activeColor","StyledButton","textShadow","Button","borderRadius","CombatBodySection","CombatBodyActions","activeMove","setActiveMove","styles","useSpring","from","config","molasses","paddingLeft","overflowY","maxHeight","disabled","onClick","CombatBodyTargets","targetsOptions","str","AnimatedNumber","to","v","AnimatedNumberValue","SvgRunningNinja","SvgHypersonicBolt","Inner","Check","isDone","size","delay","nullColor","failureColor","successColor","onRest","dropRef","useSpringRef","drop","top","shakeRef","shake","borderRef","shadowColor","shadowValue","shadow","useChain","transform","range","output","SvgStarSwirl","SvgLightningTrio","SvgFlame","SvgPerspectiveDiceSixFacesRandom","Dazed","Shocked","StatusIcon","Na","useList","count","setList","index","_list","CombatMoveResultsDetails","moveResults","resultsDone","onDone","resultsDoneArray","setResultDone","every","TargetResult","damageDone","setDamageDone","dodgeDone","setDodgeDone","critDone","setCritDone","statusesDoneArray","setStatusDone","wrapper","mass","tension","friction","clamp","inset","SourceResults","Text","ResultText","miss","perfectTextColor","perfectStyles","bottom","left","right","SvgAlliedStar","SvgSkullCrossedBones","CombatMoveResultsChecks","checksDone","checksDoneArray","setCheckDone","Color","lighten","rgb","toString","focusedCheckColor","isPerfect","isMiss","some","r","CombatMoveResultsHeader","CombatMoveResults","onChildrenDone","setChecksDone","setResultsDone","setIsDone","setTimeout","wrapperStyles","slow","innerStyles","minWidth","CombatBody","setRolls","setMoveResults","moveCommited","setMoveCommitted","clearMoveResults","rollDamage","commitMove","protectedStatus","hasEnemySourceStatus","commitTurn","mods","useCombatDamage","moveIndex","targetsIndex","useCombatAI","QueueWrapper","Queue","mv","getMaxValue","maxValue","mva","getPosition","sort","transitions","useTransition","leave","enter","update","deltas","statsArray","QueueNormalized","delta","charactersInOrder","magicWidthCoef","sum","CombatHeader","Bar","previous","useRef","usePrevious","percent","diff","barSpeed","barStyles","deltaSpeed","deltaStyles","StyledHexagon","baseHeight","sqrt","sharedWidth","shared","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","borderTop","Hexagon","ImmunityCard","CombatCharacterStatus","SvgEyeTarget","SvgBatteredAxe","SvgShield","CombatCharacterStats","icon","AbilityCard","normalStatuses","criticalStatuses","immunity","AbilityText","CombatCharacterAbility","CombatCharacterBadges","Badge","CombatCharacter","activeCharacter","side","currentHealth","currentEnergy","healthStyles","String","padStart","CombatParty","EarthElement","RockSmash","AirSlash","ThunderElement","ShockedId","Thunderbolt","DazedId","ThunderPunch","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ModalContextWrapper","ModalNodeWrapper","open","close","ModalContext","ModalContextProvider","setIsOpen","componentProps","componentRef","Component","AppContexts","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kMAGaA,EAAgB,SAACC,GAAoC,IACxDC,EAAgBD,EAAhBC,YACR,OAAO,2BACFD,GADL,IAEEE,UAAWD,EAAcE,KAAKC,YAQrBC,EAAe,SAACC,GAC3B,OAAO,SAACL,EAAaM,EAAUC,GAAxB,mBAAC,eACHF,GADE,IAELG,GAAIC,cACJT,cACAM,WACAC,kB,gCCrBJ,qnB,gCCAA,qkB,8ECEaG,EAAgBC,YAAmB,EAAG,I,gCCFnD,wNAGaA,EAAqB,SAACC,EAAWC,GAAZ,MAA2C,CAC3ED,IACAC,MAGWC,EACX,SAAC,GAAD,IAAGF,EAAH,EAAGA,EAAGC,EAAN,EAAMA,EAAN,OACA,SAACE,GAAD,OACEH,EAAIG,EAAIF,IAECG,EAAe,eAC1BC,EAD0B,uDACNP,IACpBG,EAF0B,uDAENH,IAFM,MAGN,CACpBE,EAAGK,EAAEL,EAAIC,EAAED,EACXC,EAAGI,EAAEJ,EAAIA,EAAEA,IAQAK,EAAM,SAACC,EAAeC,GAAhB,OAA+BD,EAAQC,EAAIA,EAAID,GAErDE,EAAM,SAACF,EAAeC,GAAhB,OAA+BD,EAAQC,EAAIA,EAAID,GAErDG,EAAS,SAACH,EAAeE,EAAaH,GAA7B,OACpBC,EAAQD,EAAMA,EAAMC,EAAQE,EAAMA,EAAMF,I,kEC7BnC,IAAMI,EAAkC,CAC7CC,MAAO,CACLC,OAAQ,CAAEb,EAAG,EAAGC,EAAG,GACnBa,MAAO,CAAEd,EAAG,EAAGC,EAAG,GAClBc,OAAQ,CAAEf,EAAG,EAAGC,EAAG,GACnBe,WAAY,CAAEhB,EAAG,EAAGC,EAAG,GACvBgB,QAAS,CAAEjB,EAAG,EAAGC,EAAG,GACpBiB,cAAe,CAAElB,EAAG,EAAGC,EAAG,GAC1BkB,aAAc,CAAEnB,EAAG,EAAGC,EAAG,GACzBmB,eAAgB,CAAEpB,EAAG,EAAGC,EAAG,GAC3BoB,eAAgB,CAAErB,EAAG,EAAGC,EAAG,GAC3BqB,gBAAiB,CAAEtB,EAAG,EAAGC,EAAG,GAC5BsB,sBAAuB,CAAEvB,EAAG,EAAGC,EAAG,GAClCuB,oBAAqB,CAAExB,EAAG,EAAGC,EAAG,GAChCwB,wBAAyB,CAAEzB,EAAG,EAAGC,EAAG,GACpCyB,wBAAyB,CAAE1B,EAAG,EAAGC,EAAG,GAEpC0B,iBAAkB,CAAE3B,EAAG,EAAGC,EAAG,GAC7B2B,eAAgB,CAAE5B,EAAG,EAAGC,EAAG,GAC3B4B,gBAAiB,CAAE7B,EAAG,EAAGC,EAAG,GAC5B6B,gBAAiB,CAAE9B,EAAG,EAAGC,EAAG,GAC5B8B,cAAe,CAAE/B,EAAG,EAAGC,EAAG,GAC1B+B,eAAgB,CAAEhC,EAAG,EAAGC,EAAG,GAE3BgC,aAAc,CAAEjC,EAAG,EAAGC,EAAG,GACzBiC,iBAAkB,CAAElC,EAAG,EAAGC,EAAG,GAC7BkC,WAAY,CAAEnC,EAAG,EAAGC,EAAG,GACvBmC,eAAgB,CAAEpC,EAAG,EAAGC,EAAG,GAC3BoC,YAAa,CAAErC,EAAG,EAAGC,EAAG,GACxBqC,gBAAiB,CAAEtC,EAAG,EAAGC,EAAG,GAC5BsC,YAAa,CAAEvC,EAAG,EAAGC,EAAG,GACxBuC,gBAAiB,CAAExC,EAAG,EAAGC,EAAG,GAC5BwC,YAAa,CAAEzC,EAAG,EAAGC,EAAG,GACxByC,gBAAiB,CAAE1C,EAAG,EAAGC,EAAG,GAC5B0C,cAAe,CAAE3C,EAAG,EAAGC,EAAG,GAC1B2C,kBAAmB,CAAE5C,EAAG,EAAGC,EAAG,GAC9B4C,UAAW,CAAE7C,EAAG,EAAGC,EAAG,GACtB6C,cAAe,CAAE9C,EAAG,EAAGC,EAAG,GAC1B8C,YAAa,CAAE/C,EAAG,EAAGC,EAAG,GACxB+C,gBAAiB,CAAEhD,EAAG,EAAGC,EAAG,GAC5BgD,WAAY,CAAEjD,EAAG,EAAGC,EAAG,GACvBiD,eAAgB,CAAElD,EAAG,EAAGC,EAAG,GAC3BkD,YAAa,CAAEnD,EAAG,EAAGC,EAAG,GACxBmD,gBAAiB,CAAEpD,EAAG,EAAGC,EAAG,M,gCC7ChC,6d,+MCUO,SAASoD,EACdC,GAEW,IADX/C,EACU,uDADcT,gBAExB,MAAO,CACLc,MAAM,eACH0C,EAAM/C,IAKN,SAASgD,EAAgBC,GAE9B,OADiBC,OAAOC,KAAK/C,IAAcC,OAC3B+C,QAAO,SAACC,EAAQN,GAAS,IAAD,IAChCO,EAAcL,EAAUG,QAC5B,SAACG,EAAQC,GAAT,OACEV,EAAaC,EAAKlD,uBAAa0D,EAAOlD,MAAM0C,GAAMS,EAAInD,MAAM0C,OAC9DD,EAAaC,EAAKxD,kBAEpB,OAAO,2BACF8D,GADL,IAEEhD,MAAM,2BACDgD,EAAOhD,OADP,kBAEF0C,EAAM,CACLrD,GAAG,UAAA4D,EAAYjD,MAAM0C,UAAlB,eAAwBrD,IAAK,EAChCD,GAAG,UAAA6D,EAAYjD,MAAM0C,UAAlB,eAAwBtD,IAAK,SAIrC,IAGE,SAASgE,EAA2BR,GACzC,IAAM5C,EAAQ2C,EAAgBC,GAAW5C,MAEzC,OADa6C,OAAOC,KAAK9C,GACb+C,QAAO,SAACC,EAAQN,GAAS,IAAD,IAClC,OAAO,2BACFM,GADL,IAEEhD,MAAM,2BACDgD,EAAOhD,OADP,kBAEF0C,EAAMpD,uBAAa,CAClBD,GAAG,UAAAW,EAAM0C,UAAN,eAAYrD,IAAK,EACpBD,GAAG,UAAAY,EAAM0C,UAAN,eAAYtD,IAAK,UAIzB,IAGE,SAASiE,EAAaC,EAA2BV,GACtD,IAAM5C,EAAQoD,EAA2BR,GAAW5C,MAEpD,OADa6C,OAAOC,KAAK9C,GACb+C,QACV,SAACC,EAAQN,GAAT,mBAAC,eACIM,GADL,kBAEGN,EAAMhE,KAAK6E,MAAMvD,EAAM0C,GAAKM,EAAON,SAEtCY,K,8PC/CSE,EAAW,SACtBC,EACAC,GAKA,IAFe,IAFfC,EAEc,uDAFQ,EACtBC,EACc,uDADS,EAEnBC,EAAqB,GAChBC,EAAI,EAAGA,EAAIL,EAAQK,IAAK,CAC/B,IAAMC,EAAuB,IAAhBrF,KAAKC,SACdqE,EAASe,EAAOL,EAChBC,EAAcG,EAChBd,GAAS,EAELY,EAAeE,IACjBd,GAAS,GAGba,EAAO,sBAAOA,GAAP,CAAgBb,IAEzB,OAAOa,GAcIG,EAAuB,SAACC,EAAYC,GAC/C,IAEMC,GAFQC,YAASF,GACJ,GAAD,OAAID,EAAKI,KAAT,aACQJ,EAAKK,QAAU,IACzC,OAAO5F,KAAK6F,IAAIJ,EAAWF,EAAKR,SAGrBe,EAAuB,SAACP,EAAYC,GAC/C,IAEMC,GAFQC,YAASF,GACJ,GAAD,OAAID,EAAKI,KAAT,aACQJ,EAAKK,QAAU,IACzC,OAAO5F,KAAK6F,IAAI,EAAIJ,EAAWF,EAAKR,SAGzBgB,EAAsB,SACjCC,EACAR,GAEsB,IADtBS,EACqB,wDACrB,OAAOD,EACJE,KAAI,SAACC,GAAD,mBAAC,eACDvG,YAAcuG,IADd,IAEH9F,WAAY4F,GAAQE,EAAE9F,WAAa8F,EAAE9F,gBAEtC+F,QACC,SAACD,GAAD,OACGE,YAAcb,GACZU,KAAI,SAACd,GAAD,OAAOA,EAAEkB,YACbC,SAASJ,EAAEG,cAcTE,EAAc,SACzBC,EACAC,EACAnB,EACAoB,GACgB,IAAD,EACoBC,YAAqBH,GADzC,mBACRI,EADQ,KACSC,EADT,KACExF,MADF,EAEoBsF,YAAqBF,GAFzC,mBAERK,EAFQ,KAESC,EAFT,KAEE1F,MACX2F,EAAYN,EAAMP,OAAOc,SAASC,OAClCC,EAAUH,IAAc1B,EAAKR,OAC7BsC,EAAwB,IAAdJ,EACVK,EACJxC,EAAS,EAAGiC,EAAOpF,SAAS,KAC3ByF,IACAC,KACCZ,EAAOnG,KAAOoG,EAAOpG,IACnBiH,EAAcN,EAAY1B,EAAKR,QAAWQ,EAAKiC,OAAS,GACxDC,EAtE6B,SACnClC,EACAmC,EACAC,GAEA,OACED,EAAY,GAAD,OAAInC,EAAKI,KAAT,WACXgC,EAAY,GAAD,OAAIpC,EAAKI,KAAT,YA+DUiC,CAAsBrC,EAAMsB,EAAQE,GAZ5C,EAaIjC,EAAS,EAAG+B,EAAO/E,gBAA/B+F,EAbQ,oBAeTC,EAAYP,EAAaE,GADXI,GAAYT,EAAUP,EAAO9E,eAAiB,GAE5DgG,EAAQ,UAAMxC,EAAKI,KAAX,SACRqC,EAAkB,UACnBzC,EAAK0C,QADc,UAElBC,EAAsB,UACvB3C,EAAK0C,QADkB,cAEtBE,EAAgBrB,EAAMkB,GAAoBF,GAC1CM,EAAgBpB,EAAMkB,GAAwBJ,EAAYK,GAC1DE,EAAQtB,EAAOgB,GACfO,EACU,IAAdR,EACI,EACA3G,cAAInB,KAAK6E,MAAMiD,EAAYK,EAAgBC,GAAiBC,EAAO,GACnErC,GAA0BoB,EAC5B7B,EAAKgD,gBACLlB,EACA9B,EAAKiD,qBACLC,IAAc,CAAE/B,OAAQ,GAAID,OAAQ,IAOxC,MAAO,CACL6B,YAAahB,EAAS,EAAIgB,EAC1BT,SAAUA,GAAYT,EACtBE,SACAtB,SAT6C,CAC7CS,OAAQV,EAAoBC,EAASS,OAAQA,GAC7CC,OAAQX,EAAoBC,EAASU,OAAQA,GAAQ,IAQrDD,SACAC,SACAnB,U,kEChJG,IAAMmD,EAAyB,CACpCT,QAAS,OACT/D,UAAW,CACT,CACE5C,MAAO,CACLuB,WAAY,CACVnC,EAAG,IACHC,EAAG,GAELmC,eAAgB,CACdpC,EAAG,GACHC,EAAG,GAELqC,gBAAiB,CACftC,GAAI,GACJC,EAAG,Q,gCCjBb,iE,wQCaagI,EAAc,SAACnD,GAC1B,IAAMoD,EAAkBpD,EAAUqD,UAAUxE,QAAO,SAAC2B,EAAU8C,GAC5D,IAAMxH,EAAQyH,EAAavD,GAC3B,MAAM,GAAN,mBACKQ,GADL,YAEK8C,EAAQ9C,SAASI,QAAO,SAACD,GAAD,OCEY,SAC3C6C,EACA1H,GAEA,IAEM2H,EAA2B,QAAtBD,EAAGE,eAFF,SAACnI,EAAYJ,GAAb,OAA4BI,GAAKJ,GAClC,SAACI,EAAYJ,GAAb,OAA4BI,GAAKJ,GAEtCwI,EAAqC,QAAtBH,EAAGE,eACxB,OAAOF,EAAGI,WAAW/E,QAAO,SAACC,EAAQ+E,GACnC,IAAMrE,EAAO1D,EAAM+H,EAAQrE,MACnB/D,EAAgBoI,EAAhBpI,MAAO0E,EAAS0D,EAAT1D,KACf,OAAOsD,EAAG3E,EA5BO,SACnBrD,EACAqI,EACA3D,GAWA,OALW,iBAATA,EAJkB,SAAC5E,EAAWJ,GAAZ,OAA0BI,EAAIJ,GAMnC,cAATgF,EALW,SAAC5E,EAAWJ,GAAZ,OAA0BI,EAAIJ,GACjC,SAACI,EAAWJ,GAAZ,OAA0BI,IAAMJ,IAOpCM,EAAOqI,GAcGC,CAAavE,EAAM/D,EAAO0E,MAC3CwD,GDbGK,CAA8BrD,EAAG7E,UAGpC,IACH,MAAM,GAAN,mBAAWkE,EAAUQ,UAArB,YAAkC4C,KAGvBvC,EAAgB,SAACb,GAC5B,IAAMiE,EAAoBjE,EAAUqD,UAAUxE,QAC5C,SAACqF,EAAYZ,GACX,MAAM,GAAN,mBAAWY,GAAX,YAA0BZ,EAAQY,eAEpC,IAEF,MAAM,GAAN,mBAAWlE,EAAUkE,YAArB,YAAoCD,KAGzBE,EAAe,SAACnE,GAC3B,IAAMoE,EAAkBjB,EAAYnD,GAAWnB,QAC7C,SAACwF,EAAMhK,GAAP,4BAAsBgK,GAAtB,YAA+BhK,EAAOqE,cACtC,IAEI4F,EAAmBtE,EAAUuE,SAAS1F,QAC1C,SAACwF,EAAM5B,GAAP,4BAAuB4B,GAAvB,YAAgC5B,EAAQ/D,cACxC,IAEF,MAAM,CAAE7C,KAAR,mBAA0BuI,GAA1B,YAA8CE,KAS1CE,EAAc,SAAChF,EAAciF,GAGjC,OAAOjK,KAAK6E,MAAuD,IAA9C,GAAK,EAAIG,EAAOkF,IAAUD,EAAS,IAAM,KAGnDlB,EAAe,SAACvD,GAC3B,IAAMZ,EAAS,eAAQY,EAAUlE,OAC3B6I,EAda,SAAC5I,EAAgB0I,GAGpC,OAAOjK,KAAK6E,OAAQ,GAAK,EAAItD,EAAS2I,IAAUD,EAAS,IAAM,GAAKA,GAWlDG,CAAaxF,EAAUrD,OAAQiE,EAAUyE,OACrD1I,EAAS4I,EAAY3E,EAAU6E,OACrC,OAAO,2BACFzF,GADL,IAEErD,OAAQ4I,EACR3I,MAAOwI,EAAYpF,EAAUpD,MAAOgE,EAAUyE,OAC9C3H,eAAgB0H,EAAYpF,EAAUtC,eAAgBkD,EAAUyE,OAChExH,cAAeuH,EAAYpF,EAAUnC,cAAe+C,EAAUyE,OAC9D1H,gBAAiByH,EAAYpF,EAAUrC,gBAAiBiD,EAAUyE,OAClEvH,eAAgBsH,EAAYpF,EAAUlC,eAAgB8C,EAAUyE,OAChEK,YAAa/I,EAAS4I,KAIbzE,EAAW,SAACF,GACvB,IAAMtB,EAAYyF,EAAanE,GACzBlE,EAAQqD,uBAAaoE,EAAavD,GAAYtB,GAC9C3C,EAASD,EAAMC,OAASiE,EAAU6E,OACxC,OAAO,2BACF/I,GADL,IAEEe,iBAAkBrB,cAAIM,EAAMe,iBAAkB,IAC9CG,gBAAiBxB,cAAIM,EAAMkB,gBAAiB,IAC5CD,gBAAiBpB,cAAIG,EAAMiB,gBAAiB,GAC5CG,eAAgBvB,cAAIG,EAAMoB,eAAgB,GAC1ClB,MAAOL,cAAIG,EAAME,MAAO,GACxBC,OAAQN,cAAIG,EAAMG,OAAQ,GAC1BE,QAASP,iBAAOE,EAAMK,QAAS,EAAG,KAClC2I,YAAa/I,EAASD,EAAMC,UAYnBqF,EAAuB,SAClCpB,GAIA,MAAO,CAFOE,EAASF,GACNd,qCAA2BiF,EAAanE,O,wHE5D9C+E,EAAkB,SAACC,EAAcC,GAC5C,OAAOD,EAAMtE,KAAI,SAACd,GAAO,IAAD,EAChB9D,EAAK,UAAGmJ,EAAUC,MAAK,SAACC,GAAD,OAAQA,EAAGrK,KAAO8E,EAAE9E,aAAtC,aAAG,EAAwCW,MACtD,IAAKK,EAAO,MAAM,IAAIsJ,MAAM,2BAC5B,IAAMC,EAXe,SAACvJ,EAAuBwJ,GAC/C,IAAMtJ,EAAQF,EAAME,MAAQ,EAAIF,EAAME,MAAQ,EAG9C,OADoB,IAAVA,EAAc,MAAQsJ,EAAWtJ,EAQ/BuJ,CAAUzJ,EAAO8D,EAAEnE,OAC7B,MAAO,CACLX,GAAI8E,EAAE9E,GACNW,MAAO4J,OAKAG,EAAmB,SAACR,EAAcS,GAC7C,IAAMR,EAAwBQ,EAAW/E,KAAI,SAACgF,GAAD,MAAQ,CACnD5K,GAAI4K,EAAE5K,GACNW,MAAOyE,YAASwF,OAEZC,EAAcZ,EAAgBC,EAAOC,GACrCW,EAAOpL,KAAKmB,IAAIkK,MACpBrL,KACAmL,EAAYjF,KAAI,SAACoF,GAAD,OAAOA,EAAErK,UAE3B,OAAO,YACFuJ,EAAMtE,KAAI,SAACd,GAAO,IAAD,EACZ9D,EAAK,UAAGmJ,EAAUC,MAAK,SAACC,GAAD,OAAQA,EAAGrK,KAAO8E,EAAE9E,aAAtC,aAAG,EAAwCW,MACtD,IAAKK,EAAO,MAAM,IAAIsJ,MAAM,oCAE5B,MAAO,CACLtK,GAAI8E,EAAE9E,GACNW,MAAOjB,KAAKuL,MAAMnG,EAAEnE,MAAQmK,EAAO9J,EAAME,aAgCpCgK,EAAgB,SAAChB,EAAclJ,GAqB1C,IApBA,IAAMmK,EAAW,SAACjB,EAAclJ,GAC9B,IAAIoK,EAAQ,EACRpH,EAAM,YAAOkG,GAcjB,OAbAlG,EAAOqH,SAAQ,SAACC,GACd,IAAMC,EAAgBvH,EAAOoG,MAC3B,SAACtF,GAAD,OAAOA,EAAEnE,QAAU2K,EAAK3K,OAASmE,EAAE9E,KAAOsL,EAAKtL,MAE3CwL,EAAeD,EAAgBvH,EAAOyH,QAAQF,IAAkB,EAClEA,GAAiBC,EAAe,IAClCJ,IACApH,EAAOwH,GAAP,2BACKD,GADL,IAEE5K,OAAoB,OAAb4K,QAAa,IAAbA,OAAA,EAAAA,EAAe5K,OAAQ,QAI7B,CAACqD,EAAQoH,IAGdM,EAAaP,EAASjB,GACnBwB,EAAW,GAAK,GACrBA,EAAaP,EAASO,EAAW,IAEnC,OAAOA,EAAW,IAGPC,EAAc,SAACzB,GAC1B,IAAMoB,EAAOpB,EAAME,MAAK,SAACtF,GAAD,OAAmB,IAAZA,EAAEnE,SACjC,OAAK2K,EACEA,EAAKtL,GADM,I,QCpIP4L,EAAiB3L,cACjB4L,EAAejM,YAAa,CACvCoG,SAAU4F,EACVE,KAAM,iBACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLuB,WAAY,CACVnC,EAAG,GACHC,EAAG,QCXA6L,EAAUjM,cACVkM,EAAiB,CAC5BnM,GAAIC,cACJmM,UAAWF,EACXJ,KAAM,QACNpG,SAAU,CAAC,2BAEJmG,EAAa,GAAI,GAAG,IAFjB,IAGNjD,eAAgB,MAChBE,WAAY,CACV,CACEpE,KAAM,cACN/D,MAAO,EAAI,EACX0E,KAAM,iBAKd+D,WAAY,ICpBDiD,EAA0B,CACrC1E,QAAS,QACT/D,UAAW,CACT,CACE5C,MAAO,CACLyB,YAAa,CACXrC,EAAG,IACHC,EAAG,GAELqC,gBAAiB,CACftC,EAAG,GACHC,EAAG,GAELuC,gBAAiB,CACfxC,GAAI,GACJC,EAAG,OCdAiM,EAAQrM,cACRsM,EAAM3M,YAAa,CAC9BoG,SAAUsG,EACVR,KAAM,MACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLoB,eAAgB,CACdhC,GAAI,GACJC,EAAG,QCXAmM,EAAkB,CAC7BxM,GAAIC,cACJ6L,KAAM,aACNzG,KAAM,UACNsC,QAAS,QACTvB,OAAQ,sBACR3B,OAAQ,EACRa,QAAS,EACT4B,MAAO,IACPuF,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAACmG,EAAI,IAAM,GAAG,IACtBpG,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,CAACoG,EAAI,IAAM,GAAG,MCnBbI,EAA6B,CACxC1L,OAAQ,EACRC,MAAO,EACPC,OAAQ,EACRC,WAAY,EACZC,QAAS,EACTC,cAAe,EACfC,aAAc,EACdC,eAAgB,EAChBC,eAAgB,EAChBC,gBAAiB,EACjBC,sBAAuB,EACvBC,oBAAqB,EACrBC,wBAAyB,EACzBC,wBAAyB,EACzBC,iBAAkB,EAClBC,eAAgB,EAChBC,gBAAiB,EACjBC,gBAAiB,EACjBC,cAAe,EACfC,eAAgB,EAChBC,aAAc,EACdC,iBAAkB,EAClBC,WAAY,EACZC,eAAgB,EAChBC,YAAa,EACbC,gBAAiB,EACjBC,YAAa,EACbC,gBAAiB,EACjBC,YAAa,EACbC,gBAAiB,EACjBC,cAAe,EACfC,kBAAmB,EACnBC,UAAW,EACXC,cAAe,EACfC,YAAa,EACbC,gBAAiB,EACjBC,WAAY,EACZC,eAAgB,EAChBC,YAAa,EACbC,gBAAiB,GCtCNoJ,EAA4B,CACvC5M,GAAIC,cACJ6L,KAAM,GACNnC,MAAO,EACPF,SAAU,GACVlB,UAAW,GACX7C,SAAU,GACV0D,WAAY,GACZW,OAAQ,EACR8C,aAAc,EACd7L,MAAM,eAAM2L,GACZvB,MAAO,I,QCbI0B,EAAwB,CACnCnF,QAAS,MACT/D,UAAW,CACT,CACE5C,MAAO,CACLiC,UAAW,CACT7C,EAAG,IACHC,EAAG,GAEL6C,cAAe,CACb9C,EAAG,GACHC,EAAG,GAEL2C,kBAAmB,CACjB5C,GAAI,GACJC,EAAG,OCdA0M,EAAW9M,cACX+M,EAASpN,YAAa,CACjCoG,SAAU+G,EACVjB,KAAM,SACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLc,wBAAyB,CACvB1B,EAAG,EACHC,EAAG,QCXA4M,EAAc,CACzBjN,GAAIC,cACJ6L,KAAM,QACNzG,KAAM,UACNsC,QAAS,QACTvB,OAAQ,sBACR3B,OAAQ,EACRa,OAAQ,EACRmH,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAAC4G,EAAO,EAAG,GAAG,IACtB7G,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,KCjBC+G,EAAYjN,cACZkN,EAAUvN,YAAa,CAClCoG,SAAUkH,EACVpB,KAAM,UACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLK,QAAS,CACPjB,EAAG,EACHC,EAAG,UCXA+M,EAAmB,CAC9BpN,GAAIC,cACJ6L,KAAM,cACNzG,KAAM,UACNsC,QAAS,SACTvB,OAAQ,OACR3B,OAAQ,EACRa,OAAQ,EACRmH,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAAC+G,EAAQ,EAAG,GAAG,IACvBhH,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,KCjBCkH,EAAWpN,cACXqN,EAAS1N,YAAa,CACjCoG,SAAUqH,EACVvB,KAAM,SACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLgB,eAAgB,CACd5B,GAAI,GACJC,EAAG,QCXAkN,EAAiB,CAC5BvN,GAAIC,cACJ6L,KAAM,YACNzG,KAAM,UACNsC,QAAS,OACTvB,OAAQ,sBACR3B,OAAQ,EACRa,QAAS,GACT4B,MAAO,GACPuF,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAACkH,EAAO,IAAM,GAAG,IACzBnH,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,CAACmH,EAAO,IAAM,GAAG,MCjBhBE,EAAmB,CAC9BxN,GAAIC,cACJ6L,KAAM,cACNzG,KAAM,WACNsC,QAAS,OACTvB,OAAQ,qBACR3B,OAAQ,EACRa,OAAQ,EACR4B,MAAO,IACPuF,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAACkH,EAAO,IAAM,GAAG,IACzBnH,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,CAACmH,EAAO,EAAK,GAAG,MClBfG,EAAYxN,cACZyN,EAAU9N,YAAa,CAClCoG,SAAUyH,EACV3B,KAAM,UACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLa,wBAAyB,CACvBzB,EAAG,EACHC,EAAG,QCXAsN,EAAc,CACzB3N,GAAIC,cACJ6L,KAAM,QACNzG,KAAM,UACNsC,QAAS,QACTvB,OAAQ,oBACR3B,OAAQ,EACRa,OAAQ,EACRmH,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAACsH,EAAQ,EAAG,GAAG,IACvBvH,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,KCjBCyH,EAAc3N,cACd4N,EAAYjO,YAAa,CACpCoG,SAAU4H,EACV9B,KAAM,YACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,OCRA8M,EAAgB,CAC3B9N,GAAIC,cACJ6L,KAAM,UACNzG,KAAM,UACNsC,QAAS,QACTvB,OAAQ,oBACR3B,OAAQ,EACRa,OAAQ,EACRmH,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAACyH,EAAU,GAAI,GAAG,IAC1B1H,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,KCjBC4H,EAAY9N,cACZ+N,EAAUpO,YAAa,CAClCoG,SAAU+H,EACVjC,KAAM,UACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLE,MAAO,CACLd,GAAI,EACJC,EAAG,GAELsB,sBAAuB,CACrBvB,EAAG,EACHC,EAAG,QCfA4N,EAAa,CACxBjO,GAAIC,cACJ6L,KAAM,OACNzG,KAAM,WACNsC,QAAS,MACTvB,OAAQ,OACR3B,OAAQ,EACRa,OAAQ,EACRmH,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAAC4H,EAAQ,EAAG,GAAG,IACvB7H,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,KCjBC+H,EAAWjO,cACXkO,EAASvO,YAAa,CACjCoG,SAAUkI,EACVpC,KAAM,SACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLY,oBAAqB,CACnBxB,EAAG,EACHC,EAAG,UCXA+N,EAAiB,CAC5BpO,GAAIC,cACJ6L,KAAM,YACNzG,KAAM,UACNsC,QAAS,OACTvB,OAAQ,sBACR3B,OAAQ,EACRa,OAAQ,EACRmH,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAAC+H,EAAO,EAAG,GAAG,IACtBhI,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,KClBCkI,EAA0B,CACrC1G,QAAS,QACT/D,UAAW,CACT,CACE5C,MAAO,CACL2B,YAAa,CACXvC,EAAG,IACHC,EAAG,GAELuC,gBAAiB,CACfxC,EAAG,GACHC,EAAG,GAELmC,eAAgB,CACdpC,GAAI,GACJC,EAAG,OCdAiO,EAAkB,CAC7BtO,GAAIC,cACJ6L,KAAM,aACNzG,KAAM,UACNsC,QAAS,QACTvB,OAAQ,sBACR3B,OAAQ,EACRa,QAAS,GACT4B,MAAO,GACPuF,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,GACRD,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,K,OCbNoI,GAAe,iBAAc,CACjCvO,GAAIC,cACJ0K,WAAY,CCQW,YAAC,eACrBiC,GADoB,IAEvB5M,GAAIC,cACJ6L,KAAM,YACNnC,MAAO,IACPF,SAAU,CAACrB,cAAa0E,GACxBvE,UAAW,CAAC4D,GACZzG,SAAU,GACV0D,WAAY,GACZW,OAAQ,EACR8C,aAAc,EACd7L,MAAM,2BACD2L,GADA,IAEH1L,OAAQ,GACRC,MAAO,IACPC,OAAQ,IACRC,WAAY,IACZC,QAAS,EACTG,eAAgB,EAChBC,eAAgB,IAChBM,iBAAkB,GAClBC,eAAgB,GAChBC,gBAAiB,GACjBC,gBAAiB,GACjBC,cAAe,IACfC,eAAgB,KAElBgJ,MAAO,CACLmC,EACAC,EACAS,EACAG,EACAN,EACAV,EACAH,EACAU,KC5CoB,YAAC,eACpBf,GADmB,IAEtB5M,GAAIC,cACJ6L,KAAM,WACNnC,MAAO,IACPF,SAAU,CAAC4E,GACX9F,UAAW,CAAC4D,GACZzG,SAAU,GACV0D,WAAY,GACZW,OAAQ,EACR8C,aAAc,EACd7L,MAAM,2BACD2L,GADA,IAEH1L,OAAQ,GACRC,MAAO,GACPC,OAAQ,IACRC,WAAY,IACZC,QAAS,EACTG,eAAgB,EAChBC,eAAgB,IAChBM,iBAAkB,GAClBC,eAAgB,GAChBC,gBAAiB,GACjBC,gBAAiB,GACjBC,cAAe,IACfC,eAAgB,MAElBgJ,MAAO,CAACkD,KC3Be,YAAC,eACrB1B,GADoB,IAEvB5M,GAAIC,cACJ6L,KAAM,YACNnC,MAAO,IACPF,SAAU,CAAC4C,GACX9D,UAAW,CAAC4D,GACZzG,SAAU,GACV0D,WAAY,GACZW,OAAQ,EACR8C,aAAc,EACd7L,MAAM,2BACD2L,GADA,IAEH1L,OAAQ,GACRC,MAAO,GACPC,OAAQ,IACRC,WAAY,IACZC,QAAS,EACTG,eAAgB,EAChBC,eAAgB,IAChBM,iBAAkB,GAClBC,eAAgB,GAChBC,gBAAiB,IACjBC,gBAAiB,GACjBC,cAAe,GACfC,eAAgB,MAElBgJ,MAAO,CAACoB,QHnBJ3D,GAAmC,CACvC2F,MAAOD,KACPE,SAAU,cAGCC,GAAgBC,wBAAc9F,IIRrCA,GAAyC,CAC7C+F,gBAAYzG,EACZ0G,cAAe,aACfC,WAAY,aACZC,mBAAe5G,EACf6G,iBAAkB,aAClBC,MAAO,cAGIC,GACXP,wBAAwC9F,IAC7BsG,GAAkB,kBAAMC,qBAAWF,KAEnCG,GAAe,SAACC,GAAkC,IACrDC,EAAaD,EAAbC,SADoD,EAEjBC,KAAnCC,EAFoD,EAEpDA,WAAYC,EAFwC,EAExCA,mBAFwC,EAGxBC,qBAHwB,mBAGrDf,EAHqD,KAGzCC,EAHyC,OAIlBc,qBAJkB,mBAIrDZ,EAJqD,KAItCC,EAJsC,KAmBtDY,EAAoC,CACxChB,aACAC,gBACAC,WAjBiB,SAAC7J,GAClB4J,EAAc5J,GACd,IAAMC,EAAYwK,IAClB,GAAIxK,EAAW,CACb,IAAM2K,EAAUJ,EAAWxK,EAAMC,GACV,IAAnB2K,EAAQhJ,QACVmI,EAAiBa,EAAQ,MAY7Bd,gBACAC,mBACAC,MAVY,WACZJ,OAAc1G,GACd6G,OAAiB7G,KAUnB,OACE,cAAC+G,GAAoBY,SAArB,CAA8BnP,MAAOiP,EAArC,SACGL,KCvCD1G,GAAuC,CAC3CkH,OAAQ9P,cACR+P,UAAW,EACXC,SAAU,cAGCC,GAAoBvB,wBAAc9F,IAClCsH,GAAgB,kBAAMf,qBAAWc,KAEjCE,GAAa,SAACd,GAAkC,IACnDC,EAAaD,EAAbC,SADkD,EAE9BI,mBAAiB1P,eAFa,mBAEnD8P,EAFmD,KAE3CM,EAF2C,OAGxBV,mBAAS,GAHe,mBAGnDK,EAHmD,KAGxCM,EAHwC,OAStDd,KAJFe,EALwD,EAKxDA,QACAC,EANwD,EAMxDA,sBACAd,EAPwD,EAOxDA,mBACAe,EARwD,EAQxDA,gBARwD,EAU5BtB,KAAtBF,EAVkD,EAUlDA,MAAOL,EAV2C,EAU3CA,WACT1J,EAAYwK,IAKZE,EAAkC,CACtCG,SACAC,YACAC,SAPe,WACfI,EAAUpQ,eACVqQ,GAAa,SAAC1F,GAAD,OAAOA,EAAI,OAyB1B,OAjBA8F,qBAAU,WACJX,GAAUC,EAAY,GAAKpB,IAC7B4B,IACAD,EAAQ3B,GACRK,OAED,CAACe,IAEJU,qBAAU,WACJxL,GACFuL,EAAgBvL,EAAUlF,IAAI,SAAC4K,GAAD,mBAAC,eAC1BA,GADyB,IAE5BlF,SAAUkF,EAAElF,SAASI,QAAO,SAACD,GAAD,OAAQA,EAAEoG,6BAGzC,QAAC/G,QAAD,IAACA,OAAD,EAACA,EAAWlF,KAGb,cAACkQ,GAAkBJ,SAAnB,CAA4BnP,MAAOiP,EAAnC,SACGL,KCvDMoB,GAAW,SAACC,GAA0B,IAAD,EAC3BjB,mBAAgBiB,GAAgB,IADL,mBACzC1G,EADyC,KAClC2G,EADkC,KAWhD,MAAO,CACL3G,QACAqG,QAXc,SAAC5F,EAAyB1F,GACxC4L,GAAI,SAACC,GAAD,OhCkEe,SACrB5G,EACA6G,EACApG,EACA1F,GAEA,IAAMkF,EAAwBQ,EAAW/E,KAAI,SAACgF,GAAD,MAAQ,CACnD5K,GAAI4K,EAAE5K,GACNW,MAAOyE,YAASwF,OAGZoG,EAAc,sBACf9G,EAAMpE,QAAO,SAAChB,GAAD,OAAOA,EAAE9E,KAAO+Q,MADd,CAElB,CACE/Q,GAAI+Q,EACJpQ,MAAOjB,KAAKuL,MAAMhG,EAAKwH,aAEzB3G,QAAO,SAACgL,GACR,IAAM5L,EAAYyF,EAAWP,MAAK,SAACQ,GAAD,OAAOA,EAAE5K,KAAO8Q,EAAE9Q,MAC9CgB,EAAQmJ,EAAUC,MAAK,SAACvE,GAAD,OAAOA,EAAE7F,KAAO8Q,EAAE9Q,MAC/C,OAAOkF,GAAalE,GAASkE,EAAU6E,OAAS/I,EAAML,MAAMM,UAG9D,OAAOiK,EAAcR,EAAiBsG,EAAarG,GAAaR,GgCzFnD8G,CAAQH,EAAGnF,EAAYmF,GAAInG,EAAY1F,OAWlDiM,WATiB,SAAClR,EAAY2I,GAC9BkI,GAAI,SAACC,GAAD,OAAOA,EAAElL,KAAI,SAACuL,GAAD,OAASA,EAAGnR,KAAOA,EAAK2I,EAAGwI,GAAMA,SASlDC,WAPiB,SAACzG,GAClBkG,EhCL2B,SAAClG,GAC9B,IAAM3J,EAAoB2J,EAAW/E,KAAI,SAACgF,GAAD,MAAQ,CAC/C5K,GAAI4K,EAAE5K,GACNW,MAAOyE,YAASwF,OAElB,OAAOF,EACL1J,EACG4E,KAAI,SAACyE,GAAD,MAAS,CACZrK,GAAIqK,EAAGrK,GACPW,MAAO0J,EAAG1J,MAAMS,WAChBJ,MAAOqJ,EAAG1J,UAEXmF,QAAO,SAACqL,GACP,IAAME,EAAO1G,EAAWP,MAAK,SAACQ,GAAD,OAAOA,EAAE5K,KAAOmR,EAAGnR,MAChD,IAAKqR,EAAM,OAAO,EAClB,IACMpQ,EADQwH,YAAa4I,GACNpQ,OACrB,OAAOoQ,EAAKtH,OAAS9I,KAEzB0J,GgCdI2G,CAAgB3G,OCmBlB9B,GAAmC,CACvCqB,MAAO,GACPqH,QAAS,GACT5G,WAAY,GACZ6G,KAAM,aACNC,aAAc,aACdC,oBAAqB,aACrBC,kBAAmB,iBAAM,IACzBC,2BAA4B,kBAAM,GAClClC,mBAAoB,aACpBmC,oBAAqB,iBAAM,IAC3BpC,WAAY,iBAAM,IAClBgB,gBAAiB,aACjBqB,qBAAsB,aACtBC,uBAAwB,aACxBvB,sBAAuB,aACvBD,QAAS,aACTyB,oBAAqB,cAGVC,GAAgBtD,wBAAkC9F,IAClD2G,GAAY,kBAAMJ,qBAAW6C,KAE7BC,GAAwB,SAAC5C,GAAkC,IAC9DC,EAAaD,EAAbC,SACAf,EP1CqBY,qBAAWV,IO0ChCF,MAF6D,EAGvCmB,mBAAwB,IAHe,mBAG9D4B,EAH8D,KAGrDY,EAHqD,OAIjCxC,mBAAsB,IAJW,mBAI9DhF,EAJ8D,KAIlDyH,EAJkD,OAKlBzB,GAAS,IAApDzG,EAL6D,EAK7DA,MAAOqG,EALsD,EAKtDA,QAASW,EAL6C,EAK7CA,WAAYE,EALiC,EAKjCA,WAC9BX,EAAkB,SAACzQ,EAAY2I,GACnCyJ,GAAc,SAACC,GAAD,OAAWA,EAAMzM,KAAI,SAACgF,GAAD,OAAQA,EAAE5K,KAAOA,EAAK2I,EAAGiC,GAAKA,SAmC7DiH,EAAsB,SAACS,GAAD,OAC1BA,EACG1M,KAAI,SAAC5F,GAAD,OAAQ2K,EAAWP,MAAK,SAACQ,GAAD,OAAOA,EAAE5K,KAAOA,QAC5C8F,QAAO,SAAC8E,GAAD,YAAazC,IAANyC,MAEb6G,EAAe,SAACzR,GAAD,OACnB6R,EAAoB,CAAC7R,IAAK,IAEtB0R,EAAsB,SAAC1R,GAAD,uBAC1BuR,EAAQnH,MAAK,SAACmI,GAAD,OAAOA,EAAEC,aAAavM,SAASjG,aADlB,aAC1B,EAAkDA,IAwC9CyS,EAAiBC,mBAAQ,WAC7B,OAAOnB,EAAQ3L,KAAI,SAAC4I,GAAD,MAAY,CAC7BxO,GAAIwO,EAAMxO,GACV2K,WAAY6D,EAAMgE,aACf5M,KAAI,SAAC5F,GAAD,OAAQ2K,EAAWP,MAAK,SAACQ,GAAD,OAAOA,EAAE5K,KAAOA,QAC5C8F,QAAO,SAAC8E,GAAD,YAAazC,IAANyC,WAElB,CAAC2G,EAAS5G,IAEPiF,EAA8B,CAClC1F,QACAqH,QAASkB,EACT9H,aACA6G,KA7BW,SAACe,GACZ,IAAMI,EAAc,CAACnE,EAAO+D,GAC5BJ,EACEQ,EAAY/M,KAAI,SAAC4I,GAAD,MAAY,CAC1BxO,GAAIwO,EAAMxO,GACVwS,aAAchE,EAAM7D,WAAW/E,KAAI,SAACgF,GAAD,OAAOA,EAAE5K,WAGhD,IAAMqS,EAAQM,EAAY5O,QACxB,SAACC,EAAQwK,GAAT,4BAAuBxK,GAAvB,YAAkCwK,EAAM7D,eACxC,IAEFyH,EAAcC,GACdjB,EAAWiB,IAiBXZ,eACAC,sBACAC,kBAtDwB,kBACxBhH,EAAW7E,QAAO,SAACuL,GACjB,IACMpQ,EADQwH,YAAa4I,GACNpQ,OACrB,OAAOoQ,GAAQA,EAAKtH,OAAS9I,MAmD/B2Q,2BAhDiC,SAAC5R,GAAD,OACjC0R,EAAoB1R,KAAQwO,EAAMxO,IAgDlC0P,mBA9CyB,kBAAM+B,EAAa9F,EAAYzB,KA+CxD2H,sBACApC,WA9CiB,SAACxK,EAAYkB,GAC9B,IAAMyM,EC/GkB,SAC1B3N,EACAkB,EACAoL,GAEA,IAAMsB,EAActB,EAAQnH,MAAK,SAACoE,GAAD,OAC/BA,EAAMgE,aAAavM,SAASE,EAAOnG,OAErC,IAAK6S,EAAa,MAAM,IAAIvI,MAAM,iCAClC,IAAMwI,EAAavB,EAAQnH,MAAK,SAACoE,GAAD,OAAWA,EAAMxO,KAAO6S,EAAY7S,MACpE,IAAK8S,EAAY,MAAM,IAAIxI,MAAM,uCACjC,OAAQrF,EAAKmB,QACX,IAAK,MACH,MAAO,CAAC,GAAD,mBAAKyM,EAAYL,cAAjB,YAAkCM,EAAWN,gBACtD,IAAK,OACH,MAAO,CAAC,CAACrM,EAAOnG,KAClB,IAAK,mBACH,MAAO,CAAC6S,EAAYL,cACtB,IAAK,oBAEL,IAAK,oBAEH,OAAOK,EAAYL,aAAa5M,KAAI,SAAC5F,GAAD,MAAQ,CAACA,MAC/C,IAAK,qBACH,MAAO,CAAC8S,EAAWN,cACrB,IAAK,sBAEL,IAAK,sBAEH,OAAOM,EAAWN,aAAa5M,KAAI,SAAC5F,GAAD,MAAQ,CAACA,MAC9C,QACE,MAAO,IDgFS+S,CAAa9N,EAAMkB,EAAQoL,GAC7C,GAAyB,IAArBqB,EAAU/L,OACZ,MAAM,IAAIyD,MAAM,sCAClB,OAAOsI,EACJhN,KAAI,SAAC0M,GAAD,OAAST,EAAoBS,MACjC1M,KAAI,SAACyM,GAAD,OAAWA,EAAMvM,QAAO,SAAC8E,GAAD,OAAOA,EAAEb,OAAS3E,YAASwF,GAAG3J,aAC1D6E,QAAO,SAACuM,GAAD,OAAWA,EAAMxL,OAAS,MAwCpC4J,kBACAqB,qBAxG2B,SAAC9R,EAAY+J,GAAb,OAC3B0G,EAAgBzQ,GAAI,SAAC4K,GAAD,mBAAC,eAAYA,GAAb,IAAgBb,OAAQa,EAAEb,OAASA,QAwGvDgI,uBAtG6B,SAAC/R,EAAY0F,GAC1C,IAAMsN,EAAkBtN,EAASI,QAAO,SAACvG,GAAD,OAAYA,EAAOE,aAE3DgR,EAAgBzQ,GAAI,SAAC4K,GACnB,IAAIqI,EAAW,YAAOrI,EAAElF,UAQxB,OAPAsN,EAAgB3H,SAAQ,SAAC9L,GAClBA,EAAOwM,cACVkH,EAAcA,EAAYnN,QACxB,SAACD,GAAD,OAAOA,EAAEG,WAAazG,EAAOyG,gBAI5B,2BAAK4E,GAAZ,IAAelF,SAAS,GAAD,mBAAMuN,GAAN,YAAsBD,UA2F/CxC,sBAvF4B,WAC5B7F,EAAWU,SAAQ,SAACnG,GAClBuL,EAAgBvL,EAAUlF,IAAI,SAAC4K,GAAD,mBAAC,eAC1BA,GADyB,IAE5BlF,SAAUkF,EAAElF,SACTE,KAAI,SAACrG,GAAD,mBAAC,eACDA,GADA,IAEHO,SAAUP,EAAOO,SAAW,OAE7BgG,QAAO,SAACvG,GAAD,OAAgC,IAApBA,EAAOO,qBA+EjCyQ,QAAS,SAACtL,GAAD,OAAgBsL,EAAQ5F,EAAY1F,IAC7C+M,oBAAqBd,GAGvB,OACE,cAACe,GAAcnC,SAAf,CAAwBnP,MAAOiP,EAA/B,SACE,cAAC,GAAD,UACE,cAAC,GAAD,UAAaL,S,SEzLf2D,GAAS,CACbC,WAAY,UACZC,UAAW,UACXC,aAAc,yBACdC,eAAgB,yBAChBC,kBAAmB,UAEnBC,cAAe,oBACfC,aAAc,qBAEdC,gBAAiB,mBACjBC,cAAe,mBAEfC,MAAO,sBACPC,OAAQ,sBACRC,OAAQ,yBACRC,OAAQ,yBACRC,OAAQ,yBACRC,OAAQ,yBACRC,OAAQ,yBACRC,OAAQ,yBACRC,OAAQ,yBACRC,OAAQ,yBACRC,OAAQ,yBACRC,QAAS,wBAETC,MAAO,OACPC,OAAQ,MACRC,OAAQ,MACRC,OAAQ,MACRC,OAAQ,MACRC,OAAQ,OACRC,OAAQ,OACRC,OAAQ,QAGGC,GAAK,2BACb9B,IADa,IAEhB+B,YAAY,sCAAD,OAEP/B,GAAOQ,gBAFA,qBAGPR,GAAOS,cAHA,gB,kCCQAuB,GAZKC,aAAOC,YAASC,IAAhBF,CAChBG,KACAC,KACAC,KACAC,KACAC,KACAC,KACAnB,KACAoB,MC1CF,SAASC,KAA2Q,OAA9PA,GAAWhS,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAASK,GAAyBjQ,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxMmQ,CAA8BpQ,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,ED8Cne8O,GAAIyB,YAAc,MAClBzB,GAAI0B,aAAe,CACjBC,QAAS,OACTC,cAAe,UC3CjB,IAAIC,GAAqB,gBAAoB,OAAQ,CACnDC,KAAM,OACNhM,EAAG,oHAGL,SAASiM,GAAeC,EAAMC,GAC5B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ8G,GAAyBc,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOrB,GAAS,CACtDyB,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAML,IAGpB,IAAIU,GAA0B,aAAiBR,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWpT,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,8LAGL,SAAS0M,GAAUR,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBM,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW7T,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,+TAGL,SAAS2M,GAAQT,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBO,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW9T,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,oKAGL,SAAS4M,GAAkBV,EAAMC,GAC/B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBQ,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW/T,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,uqDAGL,SAAS6M,GAAWX,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBS,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWhU,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,yrCAGL,SAAS8M,GAAaZ,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBU,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWjU,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,wlDAGL,SAAS+M,GAAcb,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBW,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWlU,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,mrDAGL,SAASgN,GAAWd,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBY,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWnU,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,8lBAGL,SAASiN,GAAcf,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBa,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWpU,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,uZAGL,SAASkN,GAAShB,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,I,GAAI,GAA0B,aAAiBc,I,IAChC,I,OCxBTC,GAAUhD,aAAOD,GAAPC,CAAH,8DAED,SAAC5C,GAAD,OACNA,EAAEiD,OAA4B,kBAAZjD,EAAEiD,MAAqBjD,EAAEiD,MAAQ,aAI5C4C,GAAO,SAAC9I,GAAsB,IACjCC,EAAsBD,EAAtBC,SAAa8I,EADmB,aACV/I,EADU,cAExC,OAAO,cAAC6I,GAAD,2BAAaE,GAAb,aAAoB9I,MCCvB+I,GAAoD,CACxDC,OAAQC,GACRC,KAAMC,GACNC,MAAOC,GACPC,MAAOC,GACPC,MAAOC,GACPC,QAASC,GACTC,IAAKC,GACLC,MAAOC,GACPC,KAAMC,GACNC,MAAOC,IAGIC,GAA0C,CACrDpB,OAAQ,OACRE,KAAM,SACNE,MAAO,iBACPE,MAAO,aACPE,MAAO,MACPE,QAAS,OACTE,IAAK,aACLE,MAAO,eACPE,KAAM,iBACNE,MAAO,eAOIG,GAAgB,SAACtK,GAA+B,IACnDjK,EAAyBiK,EAAzBjK,KAAMmQ,EAAmBlG,EAAnBkG,MAAU6C,EADkC,aACzB/I,EADyB,kBAEpDuK,EAAOvB,GAAQjT,GACrB,OACE,cAAC,GAAD,2BAAUgT,GAAV,IAAgB7C,MAAOA,GAASmE,GAAStU,GAAzC,SACE,cAACwU,EAAD,QAKND,GAAchD,aAAe,CAC3BkD,OAAQ,OACRC,MAAO,QCnDT,I,GAAM5B,GAAUhD,aAAOD,GAAPC,EAAY,SAAC5C,GAAD,MAAQ,CAClCyH,UAAW,sCACXC,UAAW,aACXC,WAAY,SACZC,SAAU,SACVC,WAAY,SACZC,eAAgB,SAChBC,aAAc,WACdzD,QAAS,eACTrB,MAAO,QACP+E,WAAW,QAAD,OAAUhI,EAAEuH,OAAZ,WACVU,WAAY,QAMDC,GAAwB,SAACnL,GAAuC,IACnEpK,EAAiCoK,EAAjCpK,UAAWqK,EAAsBD,EAAtBC,SAAa8I,EAD0C,aACjC/I,EADiC,0BAE1E,OACE,cAAC,GAAD,2BACM+I,GADN,IAEEqC,gBACEf,GAAQ,OAACzU,QAAD,IAACA,OAAD,EAACA,EAAWuE,SAAS,GAAG9B,SAHpC,SAMG4H,MAKPkL,GAAsB7D,aAAe,CACnCkD,OAAQ,OACRC,MAAO,OACPY,YAAa,MACbC,YAAa,QACbC,YAAa,SCrCR,IAAM1C,GAAUhD,aAAOD,GAAPC,CAAH,qQAQJH,GAAMC,aAET6F,GAAS3F,aAAOD,GAAPC,CAAY,CAChC2B,cAAe,MACfsD,WAAY,SACZW,aAAc,SAGHC,GAAgB7F,KAAOE,IAAI,CACtCwB,QAAS,OACTC,cAAe,MACfvB,OAAQ,oBAGG0F,GAAc9F,KAAOE,KAA2B,SAAC/F,GAAD,MAAY,CACvEuH,QAAS,OACTqE,KAAM,EACNC,SAAU,OACVX,WAAY,IACZH,eAAgB,SAChBD,WAAY,SACZ9E,WACiB,YAAfhG,EAAMjK,KACF,0EACA,6EAIK+V,GAAiBjG,KAAOE,IAAI,CACvCwB,QAAS,OACTqE,KAAM,EACN5F,WAAY,QACZE,MAAO,wBACP6E,eAAgB,SAChBD,WAAY,WAGRiB,GAAsB,CAC1BC,EAAG,aACHC,EAAG,iBACHC,EAAG,aACHC,EAAG,SACHC,EAAG,SACHC,EAAG,UAEQC,GAAqBzG,KAAOE,KAAwB,SAAC/F,GAAD,MAAY,CAC3EkL,WAAY,IACZW,SAAU,GACV3F,MAAO6F,GAAe/L,EAAM7K,SAAW,YAG5BoX,GAAmB1G,aAAOD,GAAPC,CAAY,CAC1CK,MAAO,yBACP2F,SAAU,OACVZ,WAAY,OACZC,WAAY,IACZN,WAAY,WAGD4B,GAAmB3G,aAAOD,GAAPC,CAAY,CAC1CK,MAAO,QACPgF,WAAY,IACZW,SAAU,SC3EZ,SAAS,KAA2Q,OAA9P,GAAWtX,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,40EAGL,SAAS+Q,GAAU7E,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiB2E,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWlY,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,uoCAGL,SAASgR,GAAc9E,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,I,GAAI,GAA0B,aAAiB4E,ICtBzC1D,IDuBS,ICvByC,CACtD2D,SAAUC,GACVC,QAASC,KAGLzC,GAAwC,CAC5CsC,SAAU,QACVE,QAAS,SAGLhE,GAAUhD,KAAOE,IAAV,+FAID,SAAC9C,GAAD,OAAOA,EAAEiD,SAQR6G,GAAW,SAAC/M,GAA0B,IACzCjK,EAAgBiK,EAAhBjK,KAAMmQ,EAAUlG,EAAVkG,MACR8G,EAAOhE,GAAQjT,GACrB,OACE,cAAC,GAAD,CAASmQ,MAAOA,GAASmE,GAAStU,GAAlC,SACE,cAACiX,EAAD,O,SCjCN,SAAS,KAA2Q,OAA9P,GAAWzY,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,4hDAGL,SAASuR,GAAcrF,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBmF,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW1Y,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,mTAGL,SAASwR,GAAqBtF,EAAMC,GAClC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBoF,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW3Y,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,oTAGL,SAASyR,GAAsBvF,EAAMC,GACnC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBqF,ICpBzCnE,IDqBS,ICrB8C,CAC3DlS,OAAQsW,GACRvW,OAAQwW,KAGJhD,GAA6C,CACjDvT,OAAQ,yBACRD,OAAQ,0BAMGyW,GAAmB,SAACtN,GAAkC,IACzDjK,EAAyBiK,EAAzBjK,KAAMmQ,EAAmBlG,EAAnBkG,MAAU6C,EADwC,aAC/B/I,EAD+B,kBAE1DgN,EAAOhE,GAAQjT,GACrB,OACE,cAAC,GAAD,yBACEyU,OAAO,OACPC,MAAM,OACN8C,YAAY,MACZrH,MAAOA,GAASmE,GAAStU,IACrBgT,GALN,aAOE,cAACiE,EAAD,QC7BOQ,GAAc3H,aAAOD,GAAPC,CAAY,CACrCG,WAAY,QACZyH,QAAS,MACTC,SAAU,U,SCJCC,GAA0C,gBACpDrP,EACC,6FCESsP,GAAmD,CAC9Djc,OAAQ,SACRC,MAAO,QACPC,OAAQ,SACRC,WAAY,aACZC,QAAS,UACTC,cAAe,aACfC,aAAc,aACdC,eAAgB,kBAChBC,eAAgB,kBAChBC,gBAAiB,2BACjBC,sBAAuB,yBACvBC,oBAAqB,iBACrBC,wBAAyB,uBACzBC,wBAAyB,uBACzBC,iBAAkB,gBAClBC,eAAgB,cAChBC,gBAAiB,eACjBC,gBAAiB,gBACjBC,cAAe,cACfC,eAAgB,eAChBC,aAAc,gBACdC,iBAAkB,aAClBC,WAAY,cACZC,eAAgB,WAChBC,YAAa,eACbC,gBAAiB,YACjBC,YAAa,eACbC,gBAAiB,YACjBC,YAAa,eACbC,gBAAiB,YACjBC,cAAe,iBACfC,kBAAmB,cACnBC,UAAW,aACXC,cAAe,UACfC,YAAa,eACbC,gBAAiB,YACjBC,WAAY,cACZC,eAAgB,WAChBC,YAAa,eACbC,gBAAiB,aAON2Z,GAAa,SAAC7N,GAA4B,IAC7C/P,EAAW+P,EAAX/P,OACF6d,EAAU7d,EAAOqE,UAAUgC,KAAI,SAACzB,GAAD,OACnCN,OAAOC,KAAKK,EAAInD,UAEZqc,EAAcJ,GAAmB1d,EAAOyG,UAC9C,OACE,eAAC8W,GAAD,WACE,cAAC5H,GAAD,CAAKoI,MAAO,CAAE9C,WAAY,KAA1B,SAAkCjb,EAAOuM,OAEzC,cAACoJ,GAAD,CACEM,MAAM,mBACNuF,aAAa,MACbuC,MAAO,CAAE9C,WAAY,IAAKW,SAAU,QAHtC,SAKE,uBAAMmC,MAAO,CAAEpD,WAAY,UAA3B,sBACY,KACY,IAArB3a,EAAOO,SAAkB,0CAAuBP,EAAOO,SAF1D,QAGuB,IAApBP,EAAOO,SAAiB,IAAM,QAGlCud,GAAe,cAACnI,GAAD,CAAKoI,MAAO,CAAEnC,SAAU,QAAxB,SAAmCkC,KACjDA,GACA,cAACnI,GAAD,CAAKoI,MAAO,CAAEnC,SAAU,QAAxB,SACGiC,EAAQxX,KAAI,SAAC9B,EAAMyZ,GAAP,OACXzZ,EAAK8B,KAAI,SAAClC,GACR,IACM8Z,EADMje,EAAOqE,UAAU2Z,GACdvc,MAAM0C,GACrB,OAAK8Z,EAEH,eAACtI,GAAD,WACY,IAATsI,EAAGpd,GACF,eAAC8U,GAAD,WACGgI,GAAWxZ,GADd,KACsB8Z,EAAGpd,EAAI,EAAI,IAAM,GAC7B,IAAPod,EAAGpd,EAFN,OAKQ,IAATod,EAAGnd,GACF,eAAC6U,GAAD,WACGgI,GAAWxZ,GADd,KACsB8Z,EAAGnd,EAAI,EAAI,IAAM,GACpCmd,EAAGnd,OAVV,UAAad,EAAOS,GAApB,YAA0B0D,IAFZ,cAqBtBnE,EAAOyM,aAAezM,EAAO0M,qBAC7B,eAACiJ,GAAD,CAAKuI,UAAU,MAAMH,MAAO,CAAE9C,WAAY,KAA1C,UACGjb,EAAOyM,aACN,cAACkJ,GAAD,CAAKoI,MAAO,CAAEnC,SAAU,QAAxB,6BAED5b,EAAO0M,oBACN,cAACiJ,GAAD,CAAKoI,MAAO,CAAEnC,SAAU,QAAxB,mD,SClGCuC,GAAU,SAACpO,GAAyB,IAAD,EAQ1CA,EANFqO,cAF4C,SAG5CC,EAKEtO,EALFsO,QACArO,EAIED,EAJFC,SAJ4C,EAQ1CD,EAHFuO,oBAL4C,MAK7B,GAL6B,IAQ1CvO,EAFFwO,eAN4C,MAMlC,GANkC,EAOzCzF,EAPyC,aAQ1C/I,EAR0C,4DAUgByO,aAAS,aACrEJ,UACGG,IAFGE,EAVsC,EAUtCA,WAAYC,EAV0B,EAU1BA,WAAYC,EAVc,EAUdA,aAAcC,EAVA,EAUAA,YAK9C,OACE,qCACE,cAACjJ,GAAD,uCAASmD,GAAU6F,GAAnB,aACG3O,KAEFoO,GACCQ,EACE,eAACjJ,GAAD,uCAAS2I,GAAkBI,GAA3B,IAAuCG,OAAQ,IAA/C,UACGR,EACD,cAAC,KAAD,eAAWI,aC9BV7F,GAAUhD,aAAOD,GAAPC,CAAY,CACjCkJ,WAAY,MACZvH,cAAe,MACfsD,WAAY,eAGDkE,GAAgBnJ,aAAOD,GAAPC,EAAqC,SAAC7F,GAAD,MAAY,CAC5EkG,MAAQlG,EAAMvP,WAA+BiV,GAAM7B,WAAxB6B,GAAM5B,UACjCyJ,YAAa,MACb/F,cAAe,MACfsD,WAAY,aAGDmE,GAAepJ,aAAOD,GAAPC,CAAY,CACtC0H,YAAa,MACb2B,QAAS,IACTrD,SAAU,OACVX,WAAY,MAGDiE,GAAatJ,aAAOD,GAAPC,EAAsC,SAAC7F,GAAD,MAAY,CAC1E6L,SAAU,OACVX,WAAY,IACZkE,OAAQ,UACRC,eAAgBrP,EAAMsP,WAAa,YAAc,WCftCC,GAAa,SAACvP,GAA4B,IAC7C5J,EAAoC4J,EAApC5J,SAAUL,EAA0BiK,EAA1BjK,KADkC,EACRiK,EAApBwP,gBAD4B,SAEpD,OAAe,OAARpZ,QAAQ,IAARA,OAAA,EAAAA,EAAUmB,QACf,eAAC,GAAD,WACGiY,GACC,cAAC5J,GAAD,CAAK6J,WAAW,MAAMlC,YAAY,MAAlC,SACE,cAAC,GAAD,CAAkBxX,KAAMA,MAG5B,cAAC6P,GAAD,CAAK4B,cAAc,MAAMkI,SAAS,OAAlC,SACGtZ,EAASE,KAAI,SAACrG,EAAQuF,GAAT,OACZ,cAAC,GAAD,CAAgBvF,OAAQA,EAAxB,SACGuF,IAAMY,EAASmB,OAAS,EAAI,IAAM,aAKzC,MAMOoY,GAAiB,SAC5B3P,GACI,IACI/P,EAAqB+P,EAArB/P,OAAQgQ,EAAaD,EAAbC,SADb,EAEiCI,oBAAS,GAF1C,mBAEIiP,EAFJ,KAEgBM,EAFhB,KAGH,OACE,eAACZ,GAAD,CACEve,WAAYR,EAAOQ,WACnBof,aAAc,kBAAMD,GAAc,IAClCE,aAAc,kBAAMF,GAAc,IAHpC,UAKG3f,EAAOC,YAAc,GACpB,eAAC+e,GAAD,gBAAsC,IAArBhf,EAAOC,aAAmB6f,QAAQ,GAAnD,QAEF,cAAC,GAAD,CACE1B,OAAQiB,EACRhB,QAAS,cAAC,GAAD,CAAYre,OAAQA,IAC7Bue,QAAS,CACPwB,MAAM,EACNC,UAAW,gBACXC,cAAe,GANnB,SASE,cAACf,GAAD,CAAYG,WAAYA,EAAxB,SAAqCrf,EAAOuM,SAE7CyD,MCtDDkQ,GAAUtK,aAAOD,GAAPC,CAAY,CAC1B4E,MAAO,SAEH2F,GAAevK,aAAOD,GAAPC,CAAY,CAC/B2B,cAAe,MACfuD,eAAgB,gBAChBD,WAAY,WAERuF,GAAQxK,aAAOD,GAAPC,CAAY,CACxBqF,WAAY,IACZhF,MAAO,yBACPoK,cAAe,YACfzE,SAAU,SAEN0E,GAAS1K,aAAOD,GAAPC,CAAY,CACzB+F,KAAM,EACNpB,OAAQ,MACRgG,aAAc,mCACdC,OAAQ,aAEJC,GAAS7K,aAAOD,GAAPC,CAAY,CACzBgG,SAAU,OACVqD,QAAS,MAWEyB,GAAsB,SAAC3Q,GAAqC,IAErE7K,EAME6K,EANF7K,OAFoE,EAQlE6K,EALF4Q,mBAHoE,MAGtD,QAHsD,EAIpEC,EAIE7Q,EAJF6Q,OACAza,EAGE4J,EAHF5J,SACA0R,EAEE9H,EAFF8H,MACGiB,EAPiE,aAQlE/I,EARkE,sDAShE8Q,EAAcC,MAAM5b,GAAQuS,KAAK,MACvC,OACE,eAACyI,GAAD,2BAAapH,GAAb,cACE,eAACqH,GAAD,WACE,cAACC,GAAD,UAAQvI,IACR,cAACyI,GAAD,IACA,eAAC3K,GAAD,CAAK4B,cAAc,MAAMsD,WAAW,SAApC,UACE,cAAClF,GAAD,CAAK4B,cAAc,MAAM+F,YAAY,MAArC,SACGuD,EAAYxa,KAAI,SAAC0a,EAAGxb,GAAJ,OACf,cAAC,GAAD,CAAc0Q,MAAO0K,EAAapG,OAAO,OAAOC,MAAM,OAAtD,SACE,cAAC,GAAD,KADSjV,aAMHqD,IAAXgY,GACC,eAACH,GAAD,gBAAoB,IAATG,GAAcd,QAAQ,GAAjC,cAIN,cAAC,GAAD,CAAY3Z,SAAQ,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAUS,OAAQd,KAAK,WAC7C,cAAC,GAAD,CAAYK,SAAQ,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAUU,OAAQf,KAAK,gBCxDtCkb,GAAe,SAACjR,GAA8B,IACjDrK,EAAoBqK,EAApBrK,KAAMC,EAAcoK,EAAdpK,UACRsb,EACJvb,EAAKgD,iBACLhD,EAAKgD,gBAAgB9B,OAAOU,OAAS5B,EAAKgD,gBAAgB7B,OAAOS,OAAS,EACtE4Z,EACJxb,EAAKiD,iBACLjD,EAAKiD,gBAAgB/B,OAAOU,OAAS5B,EAAKiD,gBAAgB9B,OAAOS,OAAS,EACtE6Z,EAAgBxb,EAClBF,gCAAqBC,EAAMC,QAC3BiD,EACEwY,EAAgBzb,EAClBM,gCAAqBP,EAAMC,QAC3BiD,EAEJ,OAAKsY,GAAuBD,EAE1B,eAACtL,GAAD,CAAKI,WAAW,mBAAmByH,QAAQ,MAAMgD,OAAO,SAAxD,UACGS,GACC,cAAC,GAAD,CACE/b,OAAQQ,EAAKR,OACb0b,OAAQO,EACRhb,SAAUT,EAAKgD,gBACfmP,MAAM,eAGTqJ,GACC,cAAC,GAAD,CACEhc,OAAQQ,EAAKR,OACbyb,YAAY,yBACZC,OAAQQ,EACRjb,SAAUT,EAAKiD,gBACfkP,MAAM,aACNqG,UAAW+C,EAAqB,MAAQ,OAlBO,MCzBnDI,GAAkD,CACtDC,IAAK,MACLC,KAAM,OACN,sBAAuB,QACvB,sBAAuB,SACvB,qBAAsB,QACtB,oBAAqB,OACrB,oBAAqB,SACrB,mBAAoB,QAOTC,GAAc,SAACzR,GAA6B,IAC/CrK,EAASqK,EAATrK,KACR,OACE,eAACiQ,GAAD,CACE4B,cAAc,MACdwG,MAAO,CAAE1H,UAAW,UACpBmK,OAAO,eAHT,UAKE,eAAC7K,GAAD,CAAKgG,KAAM,EAAX,UACE,cAACW,GAAD,qBACA,cAACC,GAAD,UAAmB8E,GAAoB3b,EAAKmB,aAE9C,eAAC8O,GAAD,CAAKgG,KAAM,EAAX,UACE,cAACW,GAAD,0BACA,cAACC,GAAD,UAAmB7W,EAAKyH,gBAE1B,eAACwI,GAAD,CAAKgG,KAAM,EAAX,UACE,cAACW,GAAD,uBACA,cAACC,GAAD,UAAmB7W,EAAKwH,kBCZnBuU,GAAO,SAAC1R,GAAyC,IACpDrK,EAA8BqK,EAA9BrK,KAAMC,EAAwBoK,EAAxBpK,UAAWqK,EAAaD,EAAbC,SACnB0R,EAAWvO,mBAAQ,WACvB,GAAIxN,EAAW,CACb,IAAMlE,EAAQoE,YAASF,GACvB,MAAM,IAAN,OACElE,EAAM,GAAD,OAAIiE,EAAKI,KAAT,aAAkDJ,EAAKK,OAD9D,MAIF,MAAM,IAAN,OAAWL,EAAKK,QAAU,GAAK,KAA/B,OAAqCL,EAAKK,OAA1C,OACC,CAACJ,EAAWD,IAEf,OACE,eAAC,GAAD,WACE,eAAC6V,GAAD,WACE,cAAC,GAAD,CAAezV,KAAMJ,EAAK0C,UAC1B,cAACuN,GAAD,CAAKgG,KAAM,EAAGgG,aAAa,OAA3B,SACE,sBACE5D,MAAO,CAAEe,WAAY,EAAGlD,SAAU,GAAIgG,WAAY,eADpD,SAGGlc,EAAK6G,YAIZ,eAACkP,GAAD,WACE,eAACC,GAAD,CAAa5V,KAAMJ,EAAKI,KAAxB,UACE,cAAC,GAAD,CAAUA,KAAMJ,EAAKI,OACpBJ,EAAKiC,MACJ,sBAAMoW,MAAO,CAAEe,WAAY,GAA3B,SAAiCpZ,EAAKiC,QACpC,QAEN,eAACkU,GAAD,WACE,cAACQ,GAAD,CAAoBnX,OAAQQ,EAAKR,OAAQ6Y,MAAO,CAAET,YAAa,GAA/D,SACG5X,EAAKR,SAEP,IAJH,IAISwc,QAIX,cAAC,GAAD,CAAahc,KAAMA,IACnB,cAAC,GAAD,CAAcA,KAAMA,EAAMC,UAAWA,IACrC,cAACgQ,GAAD,CAAKgG,KAAM,IACV3L,MC/DD6R,GAAc,yBAEdC,GAAelM,aAAOD,GAAPC,EAAyB,SAAC5C,GAAD,oBAC5C6H,WAAY,SACZ9E,WAAY,mBACZC,OAAO,aAAD,OANc,0BAOpBC,MAAO4L,GACP1C,OAAQ,UACRvD,SAAU,OACVZ,WAAY,OACZC,WAAY,IACZoF,cAAe,YACf0B,WAAY,+BACZH,WAAY,cACZ,SAAU,CACR7L,WAAY,yBACZsF,YAAawG,GACb5L,MAAO4L,IAET,UAAW,CACT9L,WAAY,eAEd,YAAa,CACXkJ,QAAS,IACTlJ,WAAY,yBACZoJ,OAAQ,gBAENnM,EAAEqM,WACF,CACEJ,QAAS,EACTlJ,WAAY,yBACZsF,YAAawG,GACb5L,MAAO4L,IAET,OAGOG,GAAS,SAACjS,GAAD,OACpB,cAAC+R,GAAD,aAAc3Y,GAAG,UAAa4G,KAGhCiS,GAAO3K,aAAe,CACpBmG,QAAS,WACTyE,aAAc,OC5CT,IAAM3B,GAAS1K,aAAOD,GAAPC,CAAY,CAChC+F,KAAM,EACNpB,OAAQ,QAGV+F,GAAOjJ,aAAe,CACpBmJ,OAAQ,YACRD,aAAc,oCCHT,IAAM2B,GAAoB,SAACnS,GAAmC,IAC3D8H,EAA6B9H,EAA7B8H,MAAO7H,EAAsBD,EAAtBC,SAAa8I,EADsC,aAC7B/I,EAD6B,sBAElE,OACE,eAAC4F,GAAD,yBAAKgG,KAAK,IAAIf,SAAS,UAAa9B,GAApC,cACE,cAACnD,GAAD,CACEkF,WAAW,SACX5E,MAAM,QACNsB,cAAc,MACdiE,aAAa,OACbV,eAAe,SACfzE,UAAU,SACV0H,MAAO,CAAEnC,SAAU,OAAQX,WAAY,IAAK2G,WAAY,eAP1D,SASG/J,IAEF7H,OCLMmS,GAAoB,SAACpS,GAAmC,IAAD,IACPE,KAAnDE,EAD0D,EAC1DA,mBACAZ,GAF0D,EACtC8C,2BACLzC,KAAfL,YACF5J,EAAYwK,IAHgD,EAI9BC,mBAAQ,OAC1CzK,QAD0C,IAC1CA,OAD0C,EAC1CA,EAAWkG,MAAM,IAL+C,mBAI3DuW,EAJ2D,KAI/CC,EAJ+C,KAO5D5gB,EAAQkE,EAAYE,YAASF,QAAaiD,EAE1C0Z,EAASC,qBAAU,CACvBtD,QAAS,EACTuD,KAAM,CAAEvD,QAAS,GACjBwD,OAAQA,UAAOC,WAGjB,OACE,cAAC,GAAD,CACE7K,MAEI,eAAClC,GAAD,CAAKgG,KAAM,EAAX,UACE,eAAChG,GAAD,CAAK4B,cAAc,MAAnB,UACE,cAAC,GAAD,IACA,cAAC5B,GAAD,CAAK6F,aAAa,OAAlB,SACE,iCACE,wCAAO7V,QAAP,IAAOA,OAAP,EAAOA,EAAW4G,KAAlB,QADF,aAIF,cAAC,GAAD,OAEF,cAACoJ,GAAD,kCAbR,SAkBE,eAACA,GAAD,CACE4B,cAAc,MACduD,eAAe,SACf0C,QAAQ,WACR5C,SAAS,SACTmD,MAAOuE,EALT,UAOE,cAAC3M,GAAD,CAAKgG,KAAM,IACX,eAAChG,GAAD,CAAK8H,SAAS,QAAQ7C,SAAS,SAA/B,UACE,eAACjF,GAAD,CAAK4B,cAAc,MAAMsD,WAAW,WAApC,UACGlV,GACC,cAAC,GAAD,CACEA,UAAWA,EACXyQ,SAAS,WACTkH,YAAY,OACZwB,WAAW,QACXtD,aAAa,QACbyG,aAAa,MACb1H,OAAO,OACPC,MAAM,OACNqE,OAAQ,IAGZ,eAAClJ,GAAD,CAAK4B,cAAc,MAAMsD,WAAW,SAAS8H,YAAY,OAAzD,UACE,cAAC,GAAD,CACEtD,YAAY,EACZ/B,YAAY,MACZ2E,aAAa,cACblE,MAAO,CAAEwC,aAAc,QAJzB,qBAQA,cAAC,GAAD,CACE0B,aAAa,cACblE,MAAO,CAAEwC,aAAc,QAFzB,yBAQJ,eAAC5K,GAAD,CACEkF,WAAW,aACX9E,WAAW,mBACXC,OAAM,oBAAeP,GAAMb,QAC3B4I,QAAQ,MACR7B,KAAK,IACLpE,cAAc,MANhB,UAQE,cAAC5B,GAAD,CACEgG,KAAK,IACL6B,QAAQ,kBACRoF,UAAU,SACVC,UAAU,QAJZ,gBAMGld,QANH,IAMGA,GANH,UAMGA,EAAWkG,aANd,aAMG,EAAkBxF,KAAI,SAACX,GAAD,OACrB,cAACiQ,GAAD,CAAKiK,aAAc,kBAAMyC,EAAc3c,IAAvC,SACE,eAAC,GAAD,CAEEmV,WAAW,SACXtD,cAAc,MACd2G,UAAU,MACVV,QAAQ,MACRhD,MAAM,QACNsI,UACGrhB,GACDA,EAAMG,OAAS+D,EAAU2H,aAAe5H,EAAKyH,WAE/CkS,WAAY3Z,EAAKjF,MAAL,OAAY2hB,QAAZ,IAAYA,OAAZ,EAAYA,EAAY3hB,IACpCsiB,QAAS,WACPxT,EAAW7J,IAbf,UAgBE,cAAC,GAAD,CAAe6U,OAAO,OAAOzU,KAAMJ,EAAK0C,UACxC,cAACuN,GAAD,UAAMjQ,EAAK6G,SAhBN7G,EAAKjF,WAqBlB,cAACkV,GAAD,CAAKgG,KAAK,IAAIb,eAAe,SAA7B,SACGsH,GACC,cAAC,GAAD,CAAM1c,KAAM0c,EAAYzc,UAAWA,YAK3C,cAACgQ,GAAD,CAAKgG,KAAM,UC9Hb2E,GAAS1K,aAAOD,GAAPC,CAAY,CACzB+F,KAAM,EACNpB,OAAQ,MACRgG,aAAc,mCACdC,OAAQ,cAOGwC,GAAoB,SAACjT,GAAmC,IAC3DkT,EAAmBlT,EAAnBkT,eAD0D,EAEVrT,KAAhDP,EAF0D,EAE1DA,WAAYC,EAF8C,EAE9CA,cAAeG,EAF+B,EAE/BA,iBAE7B6S,EAASC,qBAAU,CACvBtD,QAAS,EACTuD,KAAM,CAAEvD,QAAS,GACjBwD,OAAQA,UAAOC,WAGjB,OACE,eAAC,GAAD,CACE7K,MAEI,eAAClC,GAAD,CAAKgG,KAAM,EAAX,UACE,eAAChG,GAAD,CAAK4B,cAAc,MAAnB,UACE,cAAC,GAAD,IACA,cAAC5B,GAAD,CAAK6F,aAAa,OAAlB,SACE,iCACE,sCAAOnM,QAAP,IAAOA,OAAP,EAAOA,EAAY9C,OADrB,iBAIF,cAAC,GAAD,OAEF,cAACoJ,GAAD,kCAbR,UAkBE,cAACA,GAAD,CAAK4B,cAAc,MAAMuD,eAAe,SAASiD,MAAOuE,EAAxD,SACGW,EAAe5c,KAAI,SAACiK,EAAS/K,GAAV,OAClB,eAACoQ,GAAD,CAEE6H,QAAQ,OACRgD,OAAO,MACPxK,OAAO,kBACP6E,WAAW,SACX9E,WAAYN,GAAMC,YANpB,UAQGpF,EAAQjK,KAAI,SAACQ,GAAD,OACX,cAAC,GAAD,CAEE0T,OAAO,OACPC,MAAM,OACN7U,UAAWkB,GAHNA,EAAOpG,OAMhB,cAAC,GAAD,CAAQyd,UAAU,MAAM6E,QAAS,kBAAMtT,EAAiBa,IAAxD,SACGA,EAAQ9L,QAAO,SAAC0e,EAAKrc,EAAQtB,GAC5B,OACE2d,EAAMrc,EAAO0F,MAAQhH,IAAM+K,EAAQhJ,OAAS,EAAI,KAAO,MAExD,QApBA/B,QAyBX,cAACoQ,GAAD,CAAKuI,UAAU,OAAO3G,cAAc,MAAMuD,eAAe,SAAzD,SACE,cAAC,GAAD,CAAQiI,QAAS,kBAAMzT,OAAc1G,IAArC,yCCvEKua,GAAiB,SAACpT,GAAgC,IACrD3O,EAAmB2O,EAAnB3O,MAAU0X,EAD0C,aACjC/I,EADiC,WAE5D,OAAO,cAAC4F,GAAD,2BAASmD,GAAT,aAAgB1X,EAAMgiB,IAAG,SAACC,GAAD,OAAOA,EAAEvD,QAAQ,UAQtCwD,GAAsB,SAACvT,GAAqC,IAC/DC,EAAqBD,EAArBC,SAAUyS,EAAW1S,EAAX0S,OACVrhB,EAAUmhB,qBAAU,CAC1BnhB,MAAO4O,EACPyS,WAFMrhB,MAIR,OAAO,cAAC,GAAD,CAAgBA,MAAOA,KCxBhC,SAAS,KAA2Q,OAA9P,GAAWkD,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,olDAGL,SAAS8X,GAAgB5L,EAAMC,GAC7B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiB0L,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWjf,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,qoDAGL,SAAS+X,GAAkB7L,EAAMC,GAC/B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiB2L,ICtBzC5K,IDuBS,ICvBChD,aAAOD,GAAPC,EAAY,SAAC5C,GAAD,MAAQ,CAClCoD,SAAU,WACVwE,SAAU,SACVU,YAAa,QACbb,UAAW,yCAGPgJ,GAAQ7N,aAAOD,GAAPC,EAAY,iBAAO,CAC/B6E,UAAW,4BACXoE,OAAQ,MAeG6E,GAAQ,SAAC3T,GAAuB,IAAD,EAgBtCA,EAdF4T,cAFwC,SAGxCviB,EAaE2O,EAbF3O,MACAwiB,EAYE7T,EAZF6T,KAJwC,EAgBtC7T,EAXFyN,eALwC,MAK9B,MAL8B,IAgBtCzN,EAVFqL,mBANwC,MAM1B,MAN0B,IAgBtCrL,EATFyQ,cAPwC,MAO/B,MAP+B,IAgBtCzQ,EARF8T,aARwC,MAQhC,EARgC,IAgBtC9T,EAPF+T,iBATwC,MAS5B,yBAT4B,IAgBtC/T,EANFgU,oBAVwC,MAUzB,yBAVyB,IAgBtChU,EALFiU,oBAXwC,MAWzB,sBAXyB,IAgBtCjU,EAJFoL,uBAZwC,MAYtB,0BAZsB,EAaxCnL,EAGED,EAHFC,SACAiU,EAEElU,EAFFkU,OACGnL,EAfqC,aAgBtC/I,EAhBsC,oJAmBpCmU,EAAUC,0BACVC,EAAO7B,qBAAU,CACrBtK,IAAKiM,EACL1B,KAAM,CAAE6B,IAAKV,EAAS,GAAKC,GAC3BS,IAAK,EACL5B,OAAQ,CAAEliB,SANS,KAOnBsjB,MAAOA,IAIHS,EAAWH,0BACXI,EAAQhC,qBAAU,CACtBtK,IAAKqM,EACL9B,KAAM,CAAExhB,EAAG,GACXoiB,GAAI,CAAEpiB,EAAG2iB,EAAS,EAAI,GACtBlB,OAAQ,CAAEliB,SANU,KAOpBsjB,MAAOA,EAjBY,IAkBnBI,OAAQ,WACNA,GAAUA,OAIRO,EAAYL,0BACZnO,EAASuM,qBAAU,CACvBtK,IAAKuM,EACLhC,KAAM,CACJnH,YAAayI,GAEfV,GAAI,CACF/H,YAAasI,EAAUviB,EAAQ4iB,EAAeD,EAAgBD,KAI5DW,EAAcrjB,EAAQ,gBAAkB,kBACxCsjB,EAAcf,EAAM,uBACNc,EADM,gCAEPA,EAFO,UAIpBE,EAASpC,qBAAU,CACvB9H,UAAWiK,EACXvJ,gBAAiBA,IAInB,OADAyJ,oBAAS,CAACV,EAASI,EAAUE,IAE3B,cAAC,GAAD,2BACM1L,GADN,IAEEyB,OAAQqJ,EACRpJ,MAAOoJ,EACPxI,YAAaA,EACboF,OAAQA,EACRzC,MAAK,2BACA/H,GADA,IAEH6O,UAAWN,EAAMvjB,EACdoiB,GAAG,CACF0B,MAAO,CAAC,EAAG,GAAK,GAChBC,OAAQ,CAAC,EAAGpB,EAAS,EAAIC,EAAO,EAAG,KAEpCR,IAAG,SAACpiB,GAAD,iCAA2BA,EAA3B,iBAbV,SAgBE,cAACyiB,GAAD,CACElJ,OAAQqJ,EACRpJ,MAAOoJ,EACPxN,SAAS,WACT2H,MAAK,uCACAqG,GACAO,GAFA,IAGHlN,KAAMzB,EAAOqF,cAPjB,SAUE,cAAC,GAAD,CAAMM,KAAM,EAAG6B,QAASA,EAAxB,SACGxN,GAAY,cAAC,GAAD,YCzHvB,SAAS,KAA2Q,OAA9P,GAAW1L,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,66BAGL,SAASuZ,GAAarN,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBmN,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW1gB,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,0RAGL,SAASwZ,GAAiBtN,EAAMC,GAC9B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBoN,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW3gB,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,grBAGL,SAASyZ,GAASvN,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBqN,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW5gB,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,gxFAGL,SAAS0Z,GAAiCxN,EAAMC,GAC9C,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBsN,ICnBzCpM,IDoBS,ICpBoC,CACjDhL,OAAQA,GACRqX,MAAOA,GACPC,QAASA,KAOEC,GAAa,SAACvV,GAA4B,IAC7C/P,EAAoB+P,EAApB/P,OAAW8Y,EADiC,aACxB/I,EADwB,YAE9CuK,EAAOvB,GAAQ/Y,EAAOuM,OAASgZ,GACrC,OACE,cAAC,GAAD,2BAAUzM,GAAV,aACE,cAACwB,EAAD,QAKNgL,GAAWjO,aAAe,CACxBkD,OAAQ,OACRC,MAAO,QC7BF,IAAMgL,GAAU,SACrBC,EACAnc,GAC8C,IAAD,EACrB8G,mBAAc0Q,MAAM2E,GAAOhO,KAAKnO,IADX,mBACtCU,EADsC,KAChC0b,EADgC,KAI7C,MAAO,CAAC1b,EAFI,SAAC2b,EAAevkB,GAAhB,OACVskB,GAAQ,SAACE,GAAD,OAAWA,EAAMvf,KAAI,SAACgd,EAAG9d,GAAJ,OAAWA,IAAMogB,EAAQvkB,EAAQiiB,WCWrDwC,GAA2B,SACtC9V,GACI,IACI+V,EAAqC/V,EAArC+V,YAAaC,EAAwBhW,EAAxBgW,YAAaC,EAAWjW,EAAXiW,OAD/B,EAEuCR,GACxCM,EAAYxe,QACZ,GAJC,mBAEI2e,EAFJ,KAEsBC,EAFtB,KAaH,OANA/U,qBAAU,WACJ8U,EAAiBE,MAAM9e,WAAa0e,GACtCC,GAAUA,MAEX,CAACC,IAGF,eAACtQ,GAAD,CACE6H,QAAQ,WACRzH,WAAYN,GAAMC,YAClBM,OAAM,oBAAeP,GAAMd,QAH7B,UAKE,cAACgB,GAAD,CACEM,MAAM,QACNuF,aAAa,MACbnF,UAAU,SACV0H,MAAO,CAAE6D,WAAY,eAJvB,qBAQCkE,EAAYzf,KAAI,SAAC5B,EAAQc,GAAT,OACf,cAACoQ,GAAD,CAAauI,UAAW3Y,EAAI,EAAI,OAAS,EAAzC,SACE,cAAC,GAAD,CACEd,OAAQA,EACRshB,YAAaA,EACbC,OAAQ,kBAAME,EAAc3gB,GAAG,OAJzBA,MAQZ,cAAC,GAAD,CACEd,OAAQqhB,EAAY,GACpBC,YAAaA,EACbC,OAAQ,mBAWVI,GAAe,SAACrW,GAA8B,IAC1CtL,EAAgCsL,EAAhCtL,OAAQshB,EAAwBhW,EAAxBgW,YAAaC,EAAWjW,EAAXiW,OADoB,EAEb5V,mBAAS2V,GAFI,mBAE1CM,EAF0C,KAE9BC,EAF8B,OAGflW,oBAAS,GAHM,mBAG1CmW,EAH0C,KAG/BC,EAH+B,OAIjBpW,oBAAS,GAJQ,mBAI1CqW,EAJ0C,KAIhCC,EAJgC,OAKNlB,GACzC/gB,EAAO0B,SAASU,OAAOS,OACvBye,GAP+C,mBAK1CY,EAL0C,KAKvBC,EALuB,KAU3CC,EAAUtE,qBAAU,CACxBC,KAAM,CAAEvD,QAAS,GACjBmE,GAAI,CAAEnE,QAAS,GACfwD,OAAQ,CACNliB,SAAU,KAEZ0jB,OAAQ,WACqB,IAAvBxf,EAAOgE,aACT6d,GAAc,MAId9b,EAAS+X,qBAAU,CACvB/X,OAAQ/F,EAAOgE,YACf+Z,KAAM,CACJhY,OAAQ6b,EAAa5hB,EAAOgE,YAAc,GAE5Cga,OAAQ,CACNqE,KAAM,GACNC,QAAS,IACTC,SAAU,IACVC,OAAO,GAEThD,OAAQ,kBAAMqC,GAAc,MAS9B,OANAnV,qBAAU,WACJkV,GAAcM,EAAkBR,MAAM9e,UACxC2e,MAED,CAACK,EAAYM,IAGd,eAAChR,GAAD,CAAKoI,MAAO8I,EAASjM,SAAS,SAA9B,UACE,eAACjF,GAAD,CAAK4B,cAAc,MAAMsD,WAAW,SAASC,eAAe,SAA5D,UACE,cAAC,GAAD,CACEP,OAAO,OACPC,MAAM,OACNgG,OAAO,MACP7a,UAAWlB,EAAOoC,SAEnBpC,EAAOiB,KAAKiC,MACX,cAACgO,GAAD,CAAK6E,MAAM,QAAQK,WAAW,SAASzE,SAAS,WAAhD,SACE,cAAC,GAAD,CACEH,MAAOxR,EAAOuD,UAAYqe,EAAa,YAAc,QACrDtI,MAAO,CAAEnC,SAAU,OAAQX,WAAY,KACvC7Z,MAAOoJ,EAAOA,WAGhB,KACH/F,EAAOmC,OAAOnG,KAAOgE,EAAOoC,OAAOpG,IAClC,eAACkV,GAAD,CAAKkF,WAAW,SAASzE,SAAS,WAAlC,UACE,cAAC,GAAD,CACEwN,KAAM,GACNxI,YAAY,MACZha,MAAOqD,EAAOgD,OACdkc,OAAQ4C,EACRvC,aAAcvO,GAAM5B,UACpBoQ,OAAQ,kBAAMuC,GAAa,IAN7B,SAQE,cAAC,GAAD,MAED/hB,EAAOgD,QAAU4e,GAChB,cAAC1Q,GAAD,CACES,SAAS,WACT0E,eAAe,SACfD,WAAW,SACXkD,MAAO,CACLnC,SAAU,OACVsL,MAAO,MACPjR,MAAO,sBACP2L,WAAY,cACZG,WAAY,iCAThB,wBAiBLtd,EAAOmC,OAAOnG,KAAOgE,EAAOoC,OAAOpG,IAClC,eAACkV,GAAD,CAAKkF,WAAW,SAASzE,SAAS,WAAlC,UACE,cAAC,GAAD,CACEwN,KAAM,GACNxI,YAAY,MACZha,MAAOqD,EAAOuD,SACd2b,OAAQ8C,EACRzC,aAAc,aACdC,OAAQ,kBAAMyC,GAAY,IAN5B,SAQE,cAAC,GAAD,MAEDjiB,EAAOuD,UAAYqe,GAClB,cAAC1Q,GAAD,CACES,SAAS,WACT0E,eAAe,SACfD,WAAW,SACXkD,MAAO,CACLnC,SAAU,OACVsL,MAAO,MACPjR,MAAO,sBACP2L,WAAY,cACZG,WAAY,iCAThB,yBAkBR,cAACpM,GAAD,CAAK4E,OAAQ9V,EAAO0B,SAASU,OAAOS,OAAS,OAAS,MAAtD,SACG+e,GACC,cAAC1Q,GAAD,CAAK4B,cAAc,MAAMuD,eAAe,SAAxC,SACGrW,EAAO0B,SAASU,OAAOR,KAAI,SAACrG,EAAQuF,GAAT,OAC1B,eAACoQ,GAAD,CAEEM,MAAM,QACNsB,cAAc,MACdsD,WAAW,SACX2C,QAAQ,QALV,UAOE,cAAC,GAAD,CACEoG,KAAM,GACNpG,QAAQ,MACRpC,YAAa,MACboF,OAAO,MACPpf,MAAOpB,EAAOE,UACdyjB,OAAQgD,EAAkBphB,GAC1Bye,aAAcvO,GAAM7B,WACpBqQ,OAAQ,kBAAM2C,EAAcrhB,GAAG,IARjC,SAUG,cAAC,GAAD,CAAYvF,OAAQA,EAAQua,OAAO,OAAOC,MAAM,WAEnD,cAAC7E,GAAD,CAAKsJ,QAASjf,EAAOE,UAAY,EAAI,IAArC,SAA4CF,EAAOuM,SAlB9CvM,EAAOS,eA4Bf0mB,GAAgB,SAACpX,GAA8B,IAClDtL,EAAgCsL,EAAhCtL,OAAQshB,EAAwBhW,EAAxBgW,YADyC,GACjBhW,EAAXiW,OACcR,GACzC/gB,EAAO0B,SAASS,OAAOU,OACvBye,IAJuD,mBAElDY,EAFkD,KAE/BC,EAF+B,KAOzD,OAAKniB,GAA4C,IAAlCA,EAAO0B,SAASS,OAAOU,OAGpC,qCACE,cAACqO,GAAD,CACEM,MAAM,QACNiI,UAAU,MACV7H,UAAU,SACV0H,MAAO,CAAE6D,WAAY,eAJvB,oBAQCnd,EAAO0B,SAASS,OAAOP,KAAI,SAACrG,EAAQuF,GAAT,OAC1B,eAACoQ,GAAD,CAEEM,MAAM,QACNsB,cAAc,MACduD,eAAe,SACfD,WAAW,SACX2C,QAAQ,QANV,UAQE,cAAC,GAAD,CACEoG,KAAM,GACNpG,QAAQ,MACRpC,YAAa,MACbha,MAAOpB,EAAOE,UACdyjB,OAAQgD,EAAkBphB,GAC1Bye,aAAcvO,GAAM7B,WACpBqQ,OAAQ,kBAAM2C,EAAcrhB,GAAG,IAPjC,SASG,cAAC,GAAD,CAAYvF,OAAQA,EAAQua,OAAO,OAAOC,MAAM,WAEnD,cAAC7E,GAAD,CAAKsJ,QAASjf,EAAOE,UAAY,EAAI,IAArC,SAA4CF,EAAOuM,SAlB9CvM,EAAOS,UAduC,M,oBC5NvD2mB,GAAOxR,aAAOD,GAAPC,CAAY,CACvBqF,WAAY,IACZW,SAAU,SAGCyL,GAAa,SAACtX,GAA+C,IAChExI,EAA2DwI,EAA3DxI,QAAS+f,EAAkDvX,EAAlDuX,KAAMvB,EAA4ChW,EAA5CgW,YAAawB,EAA+BxX,EAA/BwX,iBAAkBvX,EAAaD,EAAbC,SAChDwX,EAAgBjF,qBAAU,CAC9BC,KAAM,CACJT,WAAY,oCAEdqB,GAAI,CACFrB,WAAYgE,EACR,6BACA,oCAENtD,OAAQ,CACNqE,KAAM,EACNC,QAAS,KACTC,SAAU,IACVC,OAAO,KAIX,OACE,eAACtR,GAAD,CACES,SAAS,WACTiO,IAAI,IACJoD,OAAO,IACPC,KAAK,IACLC,MAAM,IACNrQ,QAAQ,OACRwD,eAAe,SACfD,WAAW,SACXkD,MAAO,CACL6D,WAAY,eAVhB,UAaGra,GAAWwe,GACV,cAACqB,GAAD,CAAMnR,MAAOsR,EAAkBxJ,MAAOyJ,EAAtC,SACGxX,IAGJsX,GAAQ,cAACF,GAAD,CAAMnR,MAAM,yBAAZ,yBCvDf,SAAS,KAA2Q,OAA9P,GAAW3R,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,ggBAGL,SAASmc,GAAcjQ,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiB+P,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWtjB,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,0+CAGL,SAASoc,GAAqBlQ,EAAMC,GAClC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBgQ,ICRlCC,IDSE,ICTwB,SAAC/X,GAAwC,IACtEjJ,EAA2CiJ,EAA3CjJ,MAAOif,EAAoChW,EAApCgW,YAAagC,EAAuBhY,EAAvBgY,WAAY/B,EAAWjW,EAAXiW,OAElCrgB,GAAYwK,EADaF,KAAvBE,sBAFqE,EAIrCqV,GACtC1e,EAAMQ,OACNygB,GAN2E,mBAItEC,EAJsE,KAIrDC,EAJqD,KAQvEV,EAAmBpU,mBACvB,kBAAM+U,KAAMzS,GAAMzB,mBAAmBmU,QAAQ,IAAKC,MAAMC,aACxD,CAAC5S,GAAMzB,oBAEHsU,EAAoBnV,mBACxB,kBAAM+U,KAAMzS,GAAMzB,mBAAmBmU,QAAQ,IAAKC,MAAMC,aACxD,CAAC5S,GAAMzB,oBAEHvS,EAAQ0R,mBAAQ,WACpB,OAAOxN,EAAYE,YAASF,GAAayH,IACxC,CAACzH,IACE4iB,EAAYzhB,EAAMqf,MAAM9e,SACxBmhB,GAAU1hB,EAAM2hB,KAAKphB,SAQ3B,OANA8J,qBAAU,YACH4W,GAAcC,EAAgB7B,MAAM9e,UACvC2e,GAAUA,MAEX,CAACgC,IAGF,eAACrS,GAAD,CAAK4B,cAAc,MAAMnB,SAAS,WAAW0E,eAAe,SAA5D,UACGhU,EAAMT,KAAI,SAACqiB,EAAGnjB,GAAJ,OACT,cAAC,GAAD,CAEEqe,KAAM,IACNC,MAAO,IAAMte,EACbnE,MAAOsnB,EACP/E,OAAQqE,EAAgBziB,GACxBwe,aACEtiB,EAAMc,wBAA0BgD,EAC5B,2BACAqD,EAENob,aACE+D,EACItmB,EAAMa,wBAA0BiD,EAC9B+iB,EACAC,EACA9S,GAAMzB,uBACNpL,OACFA,EAENuS,gBACE4M,EACIW,EACE,yBACA,mBACF,mBAENzE,OAAQ,WACNgE,EAAa1iB,GAAG,IA5BpB,SA+BG9D,EAAMa,wBAA0BiD,EAC/B,cAAC,GAAD,IACE9D,EAAMc,wBAA0BgD,EAClC,cAAC,GAAD,SACEqD,GAlCCrD,MAqCRwiB,GACC,cAAC,GAAD,CACExgB,QAASghB,EACTjB,KAAMkB,EACNzC,YAAaA,EACbwB,iBAAkBA,EAJpB,0BC/EKoB,GAA0B,SACrC5Y,GACI,IACI+V,EAAgB/V,EAAhB+V,YADL,EAEwD7V,KAAnDE,EAFL,EAEKA,mBAAoBkC,EAFzB,EAEyBA,2BACpBhD,EAAeO,KAAfP,WACF1J,EAAYwN,mBAAQ,kBAAMhD,MAAsB,IACtD,OAAKxK,GAAc0J,EAGjB,eAACsG,GAAD,CACEM,MAAM,QACNI,UAAU,SACVmF,aAAa,OACbuC,MAAO,CAAEnC,SAAU,QAJrB,UAME,iCACE,sBACEmC,MAAO,CACL6D,WAAY,cACZ3L,MAAO5D,EAA2B1M,EAAUlF,IACxC,YACA,eALR,SAQGkF,EAAU4G,OAEb,sBAAMwR,MAAO,CAAEP,QAAS,WAAxB,oBACA,sBACEO,MAAO,CACL6D,WAAY,cACZ3L,MAAOmE,GAAS/K,EAAWjH,UAH/B,SAMGiH,EAAW9C,QAEZuZ,EAAYK,OAAM,SAACuC,GAAD,OAAOA,EAAE7hB,OAAOpG,KAAOkF,EAAUlF,OACnD,sBAAMsd,MAAO,CAAEP,QAAS,WAAxB,sBAGFsI,EAAYK,OAAM,SAACuC,GAAD,OAAOA,EAAE7hB,OAAOpG,KAAOkF,EAAUlF,OACnD,+BACGqlB,EAAYzf,KAAI,SAAC5B,EAAQc,GAAT,OACf,iCACE,sBACEwY,MAAO,CACL6D,WAAY,cACZ3L,MAAO5D,EAA2B5N,EAAOoC,OAAOpG,IAC5C,YACA,eALR,SAQGgE,EAAOoC,OAAO0F,OAEhBhH,IAAMugB,EAAYxe,OAAS,EACxB,GACA/B,IAAMugB,EAAYxe,OAAS,EAC3B,SACA,OAfK/B,WApCiB,MCH3BqjB,GAAoB,SAAC7Y,GAAkC,IAC1DjJ,EAA+CiJ,EAA/CjJ,MAAOgf,EAAwC/V,EAAxC+V,YAAa+C,EAA2B9Y,EAA3B8Y,eAAgB7C,EAAWjW,EAAXiW,OADqB,EAE7B5V,oBAAS,GAFoB,mBAE1D2X,EAF0D,KAE9Ce,EAF8C,OAG3B1Y,oBAAS,GAHkB,mBAG1D2V,EAH0D,KAG7CgD,EAH6C,OAIrC3Y,oBAAS,GAJ4B,mBAI1DuT,EAJ0D,KAIlDqF,EAJkD,KAMjE7X,qBAAU,WACJ4W,GAAchC,IAAgBpC,IAChCkF,GAAkBA,IAClBI,YAAW,WACTD,GAAU,KACT,QAEJ,CAACjB,EAAYhC,IAEhB,IAAMmD,EAAgB3G,qBAAU,CAC9BtD,QAAS0E,EAAS,EAAI,EACtBlB,OAAQA,UAAO0G,KACftF,MAAO,IACPI,OAAQ,WACN+B,GAAUA,OAIRoD,EAAc7G,qBAAU,CAC5BtD,QAAS,EACTuD,KAAM,CAAEvD,QAAS,GACjBwD,OAAQA,UAAOC,WAGjB,OAAKoD,EAGH,cAACnQ,GAAD,CAAK6H,QAAQ,SAASO,MAAOmL,EAA7B,SACE,eAACvT,GAAD,CAAKoI,MAAOqL,EAAZ,UACE,cAAC,GAAD,CAAyBtD,YAAaA,IACtC,eAACnQ,GAAD,CAAK0T,SAAS,QAAQvO,eAAe,SAArC,UACE,cAAC,GAAD,CACEhU,MAAOA,EACPihB,WAAYA,EACZhC,YAAaA,EACbC,OAAQ,kBAAM8C,GAAc,MAE7Bf,GACC,eAACpS,GAAD,CAAK4B,cAAc,MAAnB,UACE,cAAC5B,GAAD,CAAKgG,KAAM,IACX,cAAChG,GAAD,CAAK0T,SAAS,QAAQnL,UAAU,OAAhC,SACE,cAAC,GAAD,CACE4H,YAAaA,EACbC,YAAaA,EACbC,OAAQ,kBAAM+C,GAAe,QAGjC,cAACpT,GAAD,CAAKgG,KAAM,eAvBE,M,SCpCd2N,GAAa,WAAO,IAAD,EAE5BrZ,KADME,EADsB,EACtBA,mBAAoBD,EADE,EACFA,WAAYmC,EADV,EACUA,2BADV,EAGQzC,KAA9BP,EAHsB,EAGtBA,WAAYG,EAHU,EAGVA,cAHU,ECKD,WAAO,IAAD,EAS/BS,KAPFE,EAFiC,EAEjCA,mBACAgC,EAHiC,EAGjCA,oBACAC,EAJiC,EAIjCA,kBACAlB,EALiC,EAKjCA,gBACAsB,EANiC,EAMjCA,uBACAD,EAPiC,EAOjCA,qBACAE,EARiC,EAQjCA,oBARiC,EAUN7B,KAArBJ,EAV2B,EAU3BA,OAAQE,EAVmB,EAUnBA,SAVmB,EAWGd,KAA9BP,EAX2B,EAW3BA,WAAYG,EAXe,EAWfA,cAXe,EAYTY,mBAAoB,IAZX,mBAY5BtJ,EAZ4B,KAYrByiB,EAZqB,OAaGnZ,qBAbH,mBAa5B0V,EAb4B,KAaf0D,EAbe,OAcMpZ,oBAAS,GAdf,mBAc5BqZ,EAd4B,KAcdC,EAdc,KAe7B/jB,EAAYwK,IAEZwZ,EAAmB,kBAAMH,OAAe5gB,IAExCghB,EAAa,SAAClkB,EAAYkB,EAAmB0J,GACjD,IAAIwV,EAAJ,CACA,IAAMrkB,EAAQoE,YAASe,GACjBE,EAAQ7B,oBACZS,EAAKR,OACLzD,EAAM,GAAD,OAAIiE,EAAKI,KAAT,aAAkDJ,EAAKK,OAC5DtE,EAAMa,wBACNb,EAAMc,yBAERgnB,EAASziB,GACT0iB,EACElZ,EAAQjK,KAAI,SAACQ,GACX,OAAOF,uBAAYC,EAAQC,EAAQnB,EAAMoB,SA6F/C,OAxFAqK,qBAAU,WACJxL,GAAa0J,GAAcG,IAAkBsW,GAC/C8D,EAAWva,EAAY1J,EAAW6J,KAEnC,CAAC7J,EAAW0J,EAAYG,EAAesW,IAE1C3U,qBAAU,WACRuY,GAAiB,KAChB,CAAClZ,IAgFG,CACL1J,QACAgf,cACA2D,eACAG,aACAD,mBACAE,WApFiB,WACblkB,GAAa0J,GAAcyW,IAAgB2D,IAC7CC,GAAiB,GACJ,OAAbla,QAAa,IAAbA,KAAe1D,SAAQ,SAACgG,EAAMvM,GAC5B,GAAIugB,EAAYvgB,GAAI,CACR,IAANA,GACFiN,EAAuB7M,EAAUlF,GAAIqlB,EAAYvgB,GAAGY,SAASS,QAE/D,IAAMkjB,EAAkBhhB,YAAYgJ,GAAMjH,MACxC,SAACvE,GAAD,OAAOA,EAAEG,WAAa4H,KAElB0b,EACJ5X,EAAoBL,EAAKrR,MACvB0R,EAAoBxM,EAAUlF,KAChCqlB,EAAYvgB,GAAGY,SAASU,OAAOS,OAAS,EAGxCwiB,IACChE,EAAYvgB,GAAGkD,YAAc,GAAKshB,GAEnC7Y,EAAgBY,EAAKrR,IAAI,SAAC4K,GAAD,mBAAC,eACrBA,GADoB,IAEvBlF,SAAUkF,EAAElF,SAASI,QAAO,SAACD,GAAD,OAAQA,EAAEmG,qBAGxCyE,EAAgBY,EAAKrR,IAAI,SAAC4K,GAAD,mBAAC,eACrBA,GADoB,IAEvBlF,SAAUkF,EAAElF,SAASI,QAAO,SAACD,GAAD,OAAQA,EAAEmG,oBAExC+F,EAAuBV,EAAKrR,GAAIqlB,EAAYvgB,GAAGY,SAASU,QACxD0L,EAAqBT,EAAKrR,GAAIqlB,EAAYvgB,GAAGkD,kBAInDyI,EAAgBvL,EAAUlF,IAAI,SAAC4K,GAC7B,OAAO,2BACFA,GADL,IAEEiC,aAAcjC,EAAEiC,aAAe+B,EAAWlC,kBAgDhD6c,WA1CiB,WACbrkB,GAAa0J,IACf6B,EAAgBvL,EAAUlF,IAAI,SAAC4K,GAAO,IAAD,EACFtE,YAAqBpB,GADnB,mBAC5BlE,EAD4B,KACZwoB,EADY,KACnBxoB,MAChB,OAAO,2BACF4J,GADL,IAEEb,OAAQlJ,eAAI+J,EAAEb,OAASyf,EAAK7nB,sBAAsBX,EAAMC,QAAS,QAGrE0Q,IAAoBtG,SAAQ,SAACgG,GAC3BZ,EAAgBY,EAAKrR,IAAI,SAAC4K,GAAO,IAAD,EACGtE,YAAqBpB,GADxB,mBACvBlE,EADuB,KACPwoB,EADO,KACdxoB,MAChB,OAAO,2BACF4J,GADL,IAEEb,OAAQlJ,eAAI+J,EAAEb,OAASyf,EAAK9nB,gBAAgBV,EAAMC,QAAS,QAG3DoQ,EAAKrR,KAAOkF,EAAUlF,IACxBgS,EAAoBX,EAAKrR,IAAI,SAACmR,GAC5B,IAAMnQ,EAAQoE,YAASiM,GACvB,OAAO,2BACFF,GADL,IAEExQ,MAAOwQ,EAAGxQ,MAAQK,EAAMY,4BAMhCqO,IACAuY,YAAW,WACTU,MACC,MDzHgDO,GAA/CpE,EAJsB,EAItBA,YAAahf,EAJS,EAITA,MAAO+iB,EAJE,EAIFA,WAAYG,EAJV,EAIUA,WAClCrkB,EAAYwK,IACZ8S,EACJ5T,GAAc1J,EAAYuK,EAAWb,EAAY1J,QAAaiD,EAIhE,OEhByB,WAAO,IAAD,EAE7BqH,KADME,EADuB,EACvBA,mBAAoBD,EADG,EACHA,WAAYmC,EADT,EACSA,2BAElC1M,EAAYwK,IAHa,EAK7BP,KADMP,EAJuB,EAIvBA,WAAYC,EAJW,EAIXA,cAAeE,EAJJ,EAIIA,cAAeC,EAJnB,EAImBA,iBAGlD0B,qBAAU,WACR,GAAIxL,IAAc0J,IAAeG,IAC1B6C,EAA2B1M,EAAUlF,IAAK,CAC7C,IAAM0pB,EAAYhqB,KAAK6E,MAAM7E,KAAKC,SAAWuF,EAAUkG,MAAMvE,QACvD5B,EAAOC,EAAUkG,MAAMse,GAC7B,GAAIzkB,EAAM,CACR4J,EAAc5J,GACd,IAAM4K,EAAUJ,EAAWxK,EAAMC,GAC3BykB,EAAejqB,KAAK6E,MAAM7E,KAAKC,SAAWkQ,EAAQhJ,QACxDmI,EAAiBa,EAAQ8Z,QAI9B,CAACzkB,EAAW0J,EAAYG,IFN3B6a,GAGE,cAAC1U,GAAD,CAAKgG,KAAM,EAAGuC,UAAU,OAAxB,SACE,eAACvI,GAAD,CAAKgG,KAAK,IAAId,WAAW,SAAzB,WACIxL,GAAcgD,GAAoC,OAAT1M,QAAS,IAATA,OAAA,EAAAA,EAAWlF,KAAM,KAC1D,cAAC,GAAD,IAEDwiB,IACEzT,GACD6C,GAAoC,OAAT1M,QAAS,IAATA,OAAA,EAAAA,EAAWlF,KAAM,KAC1C,cAAC,GAAD,CAAmBwiB,eAAgBA,IAEtCzT,GACC,mCACE,cAAC,GAAD,CACEsW,YAAaA,EACbhf,MAAOA,EACP+hB,eAAgB,WACdgB,KAEF7D,OAAQ,WACNgE,e,kBGtCHM,GAAe1U,KAAOE,IAAI,CACrCM,SAAU,WACVuF,KAAM,EACNrE,QAAS,OACTiD,OAAQ,SCcGgQ,GAAQ,SAACxa,GAAuB,IACnCpF,EAAsBoF,EAAtBpF,MAAOS,EAAe2E,EAAf3E,WACTof,E9FqHmB,SAAC7f,GAAD,OACzBxK,KAAKgB,IAAIqK,MACPrL,KACAwK,EAAMtE,KAAI,SAACoF,GAAD,OAAOA,EAAErK,U8FxHVqpB,CAAY9f,GACjB+f,EAAWF,EAAK,EAAI,EAAIA,EACxBG,EAAM7J,MAAM4J,GAAUjT,UAAK7O,GAE3BgiB,EAAc,SAACxpB,GAAD,gBAAuBA,EAAQspB,EAAY,IAA3C,MANsB,EAOjB/f,EAAMkgB,MAAK,SAAC3pB,EAAGJ,GAAJ,OAAUI,EAAEE,MAAQN,EAAEM,SAPhB,kBAOzB0X,GAPyB,iBAQpCgS,EAAcC,yBAAcjS,EAAM,CACtC3U,IAAK,SAAC4H,GAAD,OAAyBA,EAAKtL,IACnC+hB,KAAM,CAAEkF,KAAM,OAAQ3hB,OAAQ,EAAGkZ,QAAS,GAC1C+L,MAAO,CAAEtD,KAAM,KAAM3hB,QAAS,GAAIkZ,QAAS,GAC3CgM,MAAO,gBAAG7pB,EAAH,EAAGA,MAAH,MAAgB,CACrB6d,QAAS,EACTlZ,OAAQ,EACR2hB,KAAMkD,EAAYxpB,KAEpB8pB,OAAQ,gBAAG9pB,EAAH,EAAGA,MAAH,MAAgB,CACtB2E,OAAQ,EACR2hB,KAAMkD,EAAYxpB,KAEpBqhB,OAAQA,UAAO0G,OAEXgC,EAAShY,mBAAQ,WACrB,IAAMiY,EAAahgB,EAAW/E,KAAI,SAACgF,GAAD,MAAQ,CAAE5K,GAAI4K,EAAE5K,GAAIW,MAAOyE,YAASwF,OACtE,OAAOX,EAAgBC,EAAOygB,KAC7B,CAAChgB,EAAYT,IAEhB,OACE,cAACgL,GAAD,CAAKgG,KAAM,EAAG6E,OAAO,cAAcpK,SAAS,WAAWuL,aAAa,OAApE,SACE,eAAC2I,GAAD,WACGQ,GAAY,SAACxI,EAAQvW,GAAT,MA1BAtL,EA0BA,OACX,cAAC,GAAD,CACEyd,UAAU,OACV7H,UAAU,SACV1Q,WA9BSlF,EA8BYsL,EAAKtL,GA9BF2K,EAAWP,MAAK,SAACQ,GAAD,OAAOA,EAAE5K,KAAOA,MA+BxDsd,MAAK,2BACAuE,GADA,IAEHuC,UAAWvC,EAAOvc,OAAOqd,IAAG,SAACC,GAAD,4BAAsBA,EAAtB,iBAE9BjN,SAAS,WARX,SAUE,cAAC,GAAD,UACwD,MAApD,UAAA+U,EAAOtgB,MAAK,SAACY,GAAD,OAAOA,EAAEhL,KAAOsL,EAAKtL,aAAjC,eAAsCW,QAAS,UAIvD,cAACuU,GAAD,CACEgG,KAAK,IACLpE,cAAc,MACdvB,OAAO,mCACPuE,OAAO,OAJT,SAMGoQ,EAAItkB,KAAI,SAAC0a,EAAGxb,GAAJ,OACP,cAACoQ,GAAD,CAEEoI,MAAO,CACLvD,MAAM,GAAD,OAAK,IAAMkQ,EAAX,KACLnQ,OAAQ,OACRxE,WAAY,2BAJTxQ,cC1DN8lB,GAAkB,SAACtb,GAAuB,IAC7CpF,EAAsBoF,EAAtBpF,MAAOS,EAAe2E,EAAf3E,WACP8G,EAAiBjC,KAAjBiC,aACFtH,EAAwBuI,mBAC5B,kBACE/H,EAAW/E,KAAI,SAACgF,GAAD,MAAQ,CACrB5K,GAAI4K,EAAE5K,GACNW,MAAOyE,YAASwF,SAEpB,CAACD,IATiD,EAWd+H,mBAAQ,WAC5C,OAAOzI,EAAgBC,EAAOC,GAC3BigB,MAAK,SAAC3pB,EAAGJ,GAAJ,OAAUI,EAAEE,MAAQN,EAAEM,SAC3BiF,KAAI,SAACilB,GAAD,OAAWpZ,EAAaoZ,EAAM7qB,OAClC8F,QAAO,SAAC8E,GAAD,YAAazC,IAANyC,OAChB,CAACV,EAAOC,IAhByC,kBAWnC2gB,GAXmC,iBAkB9CvhB,EAAI,YAAOuhB,GAEXC,EAAiB,OAMjBV,EAAcC,yBAClB/gB,EAAK3D,KAAI,SAACyL,EAAiBvM,GAAlB,mBAAC,eACLuM,GADI,IAEP9Q,GARU2kB,EAQFpgB,EAPVyE,EAAKxF,QAAO,SAACinB,EAAKpgB,EAAG9F,GAEnB,OAAOkmB,GADG9F,EAAQpgB,EAAI8F,EAAEkB,KAAKjF,OAASkkB,EAzB9BhR,GAyBuD,KAE9D,MAJQ,IAACmL,KAUZ,CACExhB,IAAK,SAAC2N,GAAD,OAAqBA,EAAKrR,IAC/BuqB,MAAO,CAAE/L,QAAS,GAClBgM,MAAO,gBAAGjqB,EAAH,EAAGA,EAAH,MAAY,CAAEie,QAAS,EAAG4F,UAAU,eAAD,OAAiB7jB,EAAjB,aAC1CkqB,OAAQ,gBAAGlqB,EAAH,EAAGA,EAAH,MAAY,CAAE6jB,UAAU,eAAD,OAAiB7jB,EAAjB,aAC/ByhB,OAAQA,UAAO0G,OAInB,OACE,cAACxT,GAAD,CAAK6K,OAAO,eAAejG,OAAO,OAAOhD,cAAc,MAAvD,SACGuT,GAAY,SAACxI,EAAQ3c,GACpB,OACE,eAACgQ,GAAD,CAEEoI,MAAOuE,EACP/K,cAAc,MACdsD,WAAW,SACXzE,SAAS,WALX,UAOE,cAAC,GAAD,CAAMH,MAAM,yBAAyBuE,MAAM,OAA3C,SACE,cAAC,GAAD,MAEF,cAAC7E,GAAD,CACE4E,OAAO,OACPC,MAAK,UAAK7U,EAAU4G,KAAKjF,OAASkkB,EAA7B,MACL1M,WAAW,MACXxB,YAAY,MACZ1C,SAAS,SACTtD,QAAQ,eACRyG,MAAO,CACLpD,WAAY,SACZI,aAAc,WACdC,WAAY,OACZY,SAAU,OACVgG,WAAY,eAEd3L,MAAOmE,GAASzU,EAAUuE,SAAS,GAAG9B,SAdxC,SAgBGzC,EAAU4G,SAzBR5G,EAAUlF,UCrDdirB,GAAe,SAAC3b,GAA8B,aAC9CA,GAD6C,MAENE,KAA1CtF,EAFgD,EAEhDA,MAAOS,EAFyC,EAEzCA,WAAY+E,EAF6B,EAE7BA,mBACnBM,EAAcG,KAAdH,UACF9K,EAAYwK,IAClB,OACE,cAACwF,GAAD,CAAKI,WAAW,qBAAhB,SACE,eAACJ,GAAD,CAAK4B,cAAc,MAAMiG,QAAQ,mBAAjC,UACG7X,GACC,eAACgQ,GAAD,CAAK4B,cAAc,MAAMiD,MAAM,QAA/B,UACE,cAAC7E,GAAD,CAAKgG,KAAM,IACX,eAAChG,GAAD,CAAKmF,eAAe,SAApB,UACE,eAACnF,GAAD,CACEM,MAAM,yBACNI,UAAU,QACVmH,QAAQ,MAHV,kBAKQ/M,EAAY,KAEpB,cAACkF,GAAD,CAAKI,WAAW,QAAQyH,QAAQ,UAAUC,SAAS,QAAnD,SACE,iCACE,mCAAS9X,EAAU4G,KAAnB,QADF,gBAKJ,cAAC,GAAD,CACEsS,OAAQ,GACRtE,OAAO,OACPC,MAAM,OACN0D,UAAU,OACVvY,UAAWA,OAIjB,eAACgQ,GAAD,CAAKgG,KAAK,IAAV,UACE,cAAC,GAAD,CAAOhR,MAAOA,EAAOS,WAAYA,IACjC,cAAC,GAAD,CAAiBT,MAAOA,EAAOS,WAAYA,OAE7C,cAACuK,GAAD,CAAK6E,MAAM,gBCnCNmR,GAAM,SAAC5b,GAAqB,IAC/B3O,EAAuD2O,EAAvD3O,MAAOD,EAAgD4O,EAAhD5O,IADuB,EACyB4O,EAA3CzO,WADkB,MACZ,EADY,EACT0O,EAAkCD,EAAlCC,SAAU+F,EAAwBhG,EAAxBgG,WAAe+C,EADhB,aACyB/I,EADzB,+CAEhC6b,ECZmB,SAAIxqB,GAC7B,IAAM6W,EAAM4T,mBAMZ,OAJA1a,qBAAU,WACR8G,EAAIzO,QAAUpI,IACb,CAACA,IAEG6W,EAAIzO,QDKMsiB,CAAY1qB,IAAU,EACjC2qB,EAAW3qB,GAASD,EAAMG,GAAQ,IAClC0qB,EAAOJ,EAAWxqB,EAElB6qB,EAAWL,EAAWxqB,EAAQ,EAAkB,IAAb4qB,EAAO,IAC1CE,EAAY3J,qBAAU,CAC1B/H,MAAM,GAAD,OAAKuR,EAAL,KACLtJ,OAAQ,CACNliB,SAAU0rB,KAIRE,EAAaP,GAAYxqB,EAAQ,EAAkB,IAAb4qB,EAAO,IAC7CI,EAAc7J,qBAAU,CAC5B/H,MAAM,GAAD,OAAKuR,EAAL,KACLtJ,OAAQ,CACNliB,SAAU4rB,KAId,OACE,eAACxW,GAAD,2BAASmD,GAAT,IAAe1C,SAAS,WAAWL,WAAW,mBAAmB8I,OAAQ,EAAzE,UACE,cAAClJ,GAAD,CACES,SAAS,WACTiO,IAAI,MACJoD,OAAO,MACP1R,WAAY,QACZ8I,OAAQ,EACRd,MAAOqO,IAERhrB,EAAQwqB,GACP,cAACjW,GAAD,CACES,SAAS,WACTiO,IAAI,MACJoD,OAAO,MACP1R,WAAY,QACZ8I,OAAQ,EACRrE,MAAK,UAAKuR,EAAL,OAGT,cAACpW,GAAD,CACES,SAAS,WACTiO,IAAI,MACJoD,OAAO,MACP1R,WAAYA,EACZ8I,OAAQ,EACRd,MAAOmO,IAET,cAACvW,GAAD,CACES,SAAS,WACTiO,IAAI,MACJoD,OAAO,MACPC,KAAK,MACLC,MAAM,MACN9M,WAAW,SACXC,eAAe,WACf7E,MAAM,yBACNsB,cAAc,MACdiG,QAAQ,UACRqB,OAAQ,EACRd,MAAO,CACLgE,WAAY,6BAbhB,SAgBG/R,GACC,iCACE,cAAC,GAAD,UAAsB5O,IADxB,IACsDD,YEtE1DkrB,GAAgBzW,aAAOD,GAAPC,EAA0B,SAAC7F,GAAW,IAClD6T,EAA0B7T,EAA1B6T,KADiD,EACvB7T,EAApBqL,mBAD2C,MAC7B,EAD6B,EAEnDkR,EAAa1I,EAAOzjB,KAAKosB,KAAK,GAC9BC,EAAc5I,EAAOzjB,KAAKosB,KAAK,GAC/BE,EAAwB,CAC5BpO,QAAS,KACTjI,SAAU,WACVyI,OAAQ,EACR1D,gBAAiB,UACjBX,MAAM,GAAD,OAAKgS,EAAL,MACLjS,OAAO,GAAD,OAAKiS,EAAL,MACN3H,UAAU,gCACV6C,KAAK,GAAD,OAAK,SAAY9D,EAAOxI,EAAxB,MACJE,YAAa,UACbD,YAAa,WAEf,MAAO,CACLjF,SAAU,WACVsE,UAAW,aACXmE,OAAQ,EACRrE,MAAM,GAAD,OAAKoJ,EAAL,MACLrJ,OAAO,GAAD,OAAK+R,EAAL,MACN9L,OAAO,GAAD,OAAK8L,EAAa,EAAlB,MACNnR,gBAAiBpL,EAAMkG,MACvBqF,YAAa,QACbD,YAAatL,EAAMsL,YACnBqR,gBAAgB,GAAD,OAAKtR,EAAL,MACfuR,iBAAiB,GAAD,OAAKvR,EAAL,MAChBwR,eAAgB,EAChBC,kBAAmB,EAEnB,UAAU,2BACLJ,GADL,IAEE/R,UAAW,aACX2J,IAAI,GAAD,OAAWmI,EAAc,GAAnB,EAAN,MACHI,eAAe,GAAD,OAAKxR,EAAcjb,KAAKosB,KAAK,GAA7B,MACdM,kBAAmB,EACnBF,iBAAiB,GAAD,OAAKvR,EAAcjb,KAAKosB,KAAK,GAA7B,MAChBG,gBAAiB,IAEnB,SAAS,2BACJD,GADL,IAEE/R,UAAW,aACX+M,OAAO,GAAD,OAAW+E,EAAc,GAAnB,EAAN,MACNM,UAAW,EACXD,kBAAkB,GAAD,OAAKzR,EAAcjb,KAAKosB,KAAK,GAA7B,MACjBI,iBAAkB,EAClBD,gBAAgB,GAAD,OAAKtR,EAAcjb,KAAKosB,KAAK,GAA7B,YAKRQ,GAAU,SAAChd,GAAD,OACrB,cAACsc,GAAD,2BAAmBtc,GAAnB,aAA2BA,EAAMC,aC3DtBgd,GAAe,SAACjd,GAA4B,IAC/C/P,EAAW+P,EAAX/P,OAER,OACE,cAACud,GAAD,UACE,eAAC5H,GAAD,CAAKoI,MAAO,CAAE9C,WAAY,KAA1B,UAAkCjb,EAAOuM,KAAzC,kBCEO0gB,GAAwB,SAACld,GAAuC,IACnE/P,EAA+C+P,EAA/C/P,OADkE,EACnB+P,EAAvCkG,aAD0D,MAClD,QADkD,EACzCjG,EAAsBD,EAAtBC,SAAa8I,EAD4B,aACnB/I,EADmB,iCAEtCK,oBAAS,GAF6B,mBAEnEiP,EAFmE,KAEvDM,EAFuD,KAG1E,OACE,cAAChK,GAAD,yBACEmJ,WAAW,OACPhG,GAFN,IAGE8G,aAAc,kBAAMD,GAAc,IAClCE,aAAc,kBAAMF,GAAc,IAJpC,SAME,cAAC,GAAD,CACEvB,OAAQiB,EACRhB,QAASrO,GAAc,cAAC,GAAD,CAAYhQ,OAAQA,IAC3Cue,QAAS,CACPyB,UAAW,gBACXC,cAAe,EACfF,MAAM,GANV,SASE,cAACpK,GAAD,CAAK6H,QAAQ,UAAb,SACE,cAAC,GAAD,CAAYxd,OAAQA,EAAQiW,MAAOA,YC/B7C,SAAS,KAA2Q,OAA9P,GAAW3R,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,q9BAGL,SAASyhB,GAAavV,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBqV,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW5oB,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,oiCAGL,SAAS0hB,GAAexV,EAAMC,GAC5B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBsV,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW7oB,OAAOiS,QAAU,SAAU1P,GAAU,IAAK,IAAItB,EAAI,EAAGA,EAAIiR,UAAUlP,OAAQ/B,IAAK,CAAE,IAAIqB,EAAS4P,UAAUjR,GAAI,IAAK,IAAIpB,KAAOyC,EAActC,OAAOmS,UAAUC,eAAeC,KAAK/P,EAAQzC,KAAQ0C,EAAO1C,GAAOyC,EAAOzC,IAAY,OAAO0C,IAA2B2E,MAAMoL,KAAMJ,WAEhT,SAAS,GAAyB5P,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAAkEzC,EAAKoB,EAAnEsB,EAEzF,SAAuCD,EAAQkQ,GAAY,GAAc,MAAVlQ,EAAgB,MAAO,GAAI,IAA2DzC,EAAKoB,EAA5DsB,EAAS,GAAQkQ,EAAazS,OAAOC,KAAKqC,GAAqB,IAAKrB,EAAI,EAAGA,EAAIwR,EAAWzP,OAAQ/B,IAAOpB,EAAM4S,EAAWxR,GAAQuR,EAAS5K,QAAQ/H,IAAQ,IAAa0C,EAAO1C,GAAOyC,EAAOzC,IAAQ,OAAO0C,EAFxM,CAA8BD,EAAQkQ,GAAuB,GAAIxS,OAAO2S,sBAAuB,CAAE,IAAIC,EAAmB5S,OAAO2S,sBAAsBrQ,GAAS,IAAKrB,EAAI,EAAGA,EAAI2R,EAAiB5P,OAAQ/B,IAAOpB,EAAM+S,EAAiB3R,GAAQuR,EAAS5K,QAAQ/H,IAAQ,GAAkBG,OAAOmS,UAAUU,qBAAqBR,KAAK/P,EAAQzC,KAAgB0C,EAAO1C,GAAOyC,EAAOzC,IAAU,OAAO0C,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnD4Q,KAAM,OACNhM,EAAG,oGAGL,SAAS2hB,GAAUzV,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACf/H,EAAQ,GAAyB4H,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClB/H,GAAQ8H,EAAqB,gBAAoB,QAAS,CAC3DpX,GAAIqX,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBuV,IClBlCC,IDmBE,ICnBqB,SAACtd,GAAsC,IACjE2M,EAAqC3M,EAArC2M,SAAUE,EAA2B7M,EAA3B6M,QAAS0Q,EAAkBvd,EAAlBud,KAASxU,EADoC,aAC3B/I,EAD2B,+BAExE,OACE,eAAC4F,GAAD,2BACMmD,GADN,IAEE+B,WAAW,SACXC,eAAe,gBACfvD,cAAc,MACdtB,MAAM,QACN8H,MAAO,CACLnC,SAAU,QAPd,UAUE,cAAC,GAAD,CAAMpB,MAAM,OAAOvE,MAAM,QAAQqH,YAAY,MAA7C,SACGgQ,IAEH,eAAC3X,GAAD,CACEkF,WAAW,SACXC,eAAe,gBACfvD,cAAc,MACdwG,MAAO,CACLgE,WAAY,gCALhB,UAQE,cAACpM,GAAD,CACEI,WAAYN,GAAMxB,cAClBgO,aAAa,cACbzE,QAAQ,UAHV,SAKGd,IAEH,cAAC/G,GAAD,CACEI,WAAYN,GAAMvB,aAClB+N,aAAa,cACbzE,QAAQ,UAHV,SAKGZ,aCrCE2Q,GAAc,SAACxd,GAA6B,IAC/C9G,EAAY8G,EAAZ9G,QACFukB,EAAkC,GAClCC,EAAmBxkB,EAAQ9C,SACjC,OACE,eAACoX,GAAD,WACE,cAAC5H,GAAD,CAAKoI,MAAO,CAAE9C,WAAY,KAA1B,SAAkChS,EAAQsD,OACzCihB,EAAelmB,OAAS,GACvB,eAACqO,GAAD,CAAKuI,UAAU,MAAMnI,WAAW,mBAAmByH,QAAQ,MAA3D,UACE,cAAC7H,GAAD,CAAKM,MAAM,QAAQ8H,MAAO,CAAE9C,WAAY,IAAKW,SAAU,QAAvD,sBAGA,cAAC,GAAD,CACE9V,KAAK,SACLK,SAAUqnB,EACVjO,UAAU,OAIfkO,EAAiBnmB,OAAS,GACzB,eAACqO,GAAD,CAAKuI,UAAU,MAAMnI,WAAW,mBAAmByH,QAAQ,MAA3D,UACE,cAAC7H,GAAD,CAAKM,MAAM,QAAQ8H,MAAO,CAAE9C,WAAY,IAAKW,SAAU,QAAvD,+BAGA,cAAC,GAAD,CACE9V,KAAK,SACLK,SAAUsnB,EACVlO,UAAU,OAIftW,EAAQY,WAAWvC,OAAS,GAC3B,eAACqO,GAAD,CAAKuI,UAAU,MAAf,UACE,cAACvI,GAAD,CAAKoI,MAAO,CAAE9C,WAAY,IAAKW,SAAU,QAAzC,wBACC3S,EAAQY,WAAWxD,KAAI,SAACqnB,GAAD,OACtB,cAAC/X,GAAD,CAAKoI,MAAO,CAAEnC,SAAU,QAAxB,SAAmC8R,EAASnhB,iBCjClDohB,GAAc/X,aAAOD,GAAPC,EAAqC,SAAC5C,GAAD,oBACvDiD,MAAO,yBACP,SAAU,CACRA,MAAO,QACPmJ,eAAgB,cAEdpM,EAAEqM,WAAa,CAAEpJ,MAAO,QAASmJ,eAAgB,aAAgB,OAO1DwO,GAAyB,SAAC7d,GAAwC,IACrE9G,EAAgD8G,EAAhD9G,QAA0B+G,GAAsBD,EAAvCkG,MAAuClG,EAAtBC,UAAa8I,EAD6B,aACpB/I,EADoB,kCAExCK,oBAAS,GAF+B,mBAErEiP,EAFqE,KAEzDM,EAFyD,KAG5E,OACE,cAAChK,GAAD,yBACE2H,YAAY,OACRxE,GAFN,IAGE8G,aAAc,kBAAMD,GAAc,IAClCE,aAAc,kBAAMF,GAAc,IAJpC,SAME,cAAC,GAAD,CACEvB,OAAQiB,EACRhB,QAASrO,GAAc,cAAC,GAAD,CAAa/G,QAASA,IAC7CsV,QAAS,CACPyB,UAAW,gBACXC,cAAe,EACfF,MAAM,GANV,SASE,cAAC4N,GAAD,CAAatO,WAAYA,EAAzB,SAAsCpW,EAAQsD,aCjCzCshB,GAAwB,SAAC9d,GAAuC,IACnEpK,EAAuBoK,EAAvBpK,UAAcmT,EADoD,aAC3C/I,EAD2C,eAEpEtO,EAAQoE,YAASF,GACvB,OACE,eAACgQ,GAAD,2BAASmD,GAAT,IAAe1C,SAAS,WAAxB,UACE,cAAC,GAAD,CAAOwN,KAAM,GAAI3N,MAAM,eAAeoO,IAAI,QAAQqD,KAAK,QAAvD,SACG/hB,EAAUyE,QAEb,cAAC,GAAD,CAAOwZ,KAAM,GAAIS,IAAI,MAAMqD,KAAK,QAAQzR,MAAM,YAA9C,SACGxU,EAAME,QAET,eAAC,GAAD,CAAO0iB,IAAI,QAAQqD,KAAK,QAAQzR,MAAM,aAAtC,UACGxU,EAAMK,QADT,OAGCL,EAAMO,aAAe,GACpB,cAAC,GAAD,CAAOqiB,IAAI,QAAQqD,KAAK,SAASzR,MAAOR,GAAMvB,aAA9C,SACGzS,EAAMO,eAGVP,EAAMM,cAAgB,GACrB,cAAC,GAAD,CAAOsiB,IAAI,QAAQqD,KAAK,SAASzR,MAAOR,GAAMxB,cAA9C,SACGxS,EAAMM,qBAOX+rB,GAAQ,SAAC/d,GAAyC,IAC9CC,EAAwCD,EAAxCC,SAAUiG,EAA8BlG,EAA9BkG,MADmC,EACLlG,EAAvB6T,YAD4B,MACrB,GADqB,EACd9K,EADc,aACL/I,EADK,6BAErD,OACE,eAAC4F,GAAD,yBACES,SAAS,WACTmE,OAAO,OACPC,MAAM,OACNqE,OAAQ,EACRhE,WAAW,SACXC,eAAe,SACfiD,MAAO,CACL6D,WAAY,cACZhG,SAAU,SAER9C,GAXN,cAaE,cAAC,GAAD,CACE8K,KAAMA,EACN3N,MAAM,sBACNmF,YAAa,EACbC,YAAY,yBACZ0C,MAAO,CACL8G,UAAW,mBAGf,cAAClP,GAAD,CACES,SAAS,WACTyI,OAAQ,EACRX,UAAU,MACVjI,MAAOA,GAAS,QAJlB,SAMGjG,SCvCI+d,GAAkB,SAAChe,GAAiC,IACvDpK,EAAoBoK,EAApBpK,UAEFqoB,GAFsBje,EAATke,MAEK9d,EADOF,KAAvBE,uBAGF1O,GADWkE,EAAUlF,GAAV,OAAiButB,QAAjB,IAAiBA,KAAiBvtB,GACrC0S,mBAAQ,kBAAMtN,YAASF,KAAY,CAACA,KAC5CuoB,EAAgB5sB,eAAIG,EAAMC,OAASiE,EAAU6E,OAAQ,GACrD2jB,EAAgB7sB,eAAIG,EAAMG,OAAS+D,EAAU2H,aAAc,GAC3D8gB,EAAe7L,qBAAU,CAC7BnhB,MAAO8sB,IAET,OACE,eAACvY,GAAD,CACEoI,MACE,GAFJ,UAQE,eAACpI,GAAD,CACE6E,MAAM,QACNzE,WAAYN,GAAMC,YAClBM,OAAO,mCACPwK,OAAO,gBACPjJ,cAAc,MALhB,UAOE,cAAC5B,GAAD,UACE,cAAC,GAAD,CACEM,MAAOmE,GAASzU,EAAUuE,SAAS,GAAG9B,SACtCiT,YAAY,yBACZD,YAAa,EACbwI,KAAM,GACN7F,MAAO,CACLyC,OAAQ,sBAId,eAAC7K,GAAD,CAAKgG,KAAM,EAAX,UACE,eAAChG,GAAD,CACEM,MAAM,QACN4E,WAAW,SACXtD,cAAc,MACduD,eAAe,gBACf0C,QAAQ,kBACR+C,aAAa,mCANf,UAQE,cAAC5K,GAAD,CACE6J,WAAW,MACXzB,MAAO,CACLgE,WAAY,6BACZH,WAAY,eAJhB,SAOGjc,EAAU4G,OAEb,cAACoJ,GAAD,CAAK4B,cAAc,MAAnB,SACG5R,EAAUuE,SAAS7D,KAAI,SAAC+B,GAAD,OACtB,cAAC,GAAD,CACEtC,KAAMsC,EAAQA,QACdmS,OAAO,OACPC,MAAM,OACNsE,WAAW,gBAKnB,eAACnJ,GAAD,CACE4B,cAAc,MACdtB,MAAM,QACN4E,WAAW,SACXC,eAAe,eACf0C,QAAQ,MACRzH,WAAW,mBACXgI,MAAO,CAAE9C,WAAY,IAAKW,SAAU,QAPtC,UASE,cAAC,GAAD,CACE0R,KAAM,cAAC,GAAD,IACN5Q,SAAU2R,OAAO5sB,EAAMe,kBAAoB,IAC3Coa,QAASyR,OAAO5sB,EAAMkB,iBAAmB,MAE3C,cAAC,GAAD,CACE2qB,KAAM,cAAC,GAAD,IACN5Q,SAAU2R,OAAO5sB,EAAMgB,gBAAgB6rB,SAAS,EAAG,KACnD1R,QAASyR,OAAO5sB,EAAMmB,eAAe0rB,SAAS,EAAG,OAEnD,cAAC,GAAD,CACEhB,KAAM,cAAC,GAAD,IACN5Q,SAAU2R,OAAO5sB,EAAMiB,iBAAiB4rB,SAAS,EAAG,KACpD1R,QAASyR,OAAO5sB,EAAMoB,gBAAgByrB,SAAS,EAAG,UAGtD,cAAC3Y,GAAD,CACE4B,cAAc,MACdxB,WAAW,mBACXyH,QAAQ,kBACRO,MAAO,CAAEnC,SAAU,QAJrB,SAMGjW,EAAUqD,UAAU3C,KAAI,SAAC4C,GAAD,OACvB,cAAC,GAAD,CAAwBA,QAASA,SAGrC,cAAC,GAAD,CAAuBtD,UAAWA,EAAWmZ,WAAW,SACxD,eAACnJ,GAAD,CAAKS,SAAS,WAAd,UACE,eAAC,GAAD,CACEhV,MAAO8sB,EACP/sB,IAAKM,EAAMC,OACX6Y,OAAO,OACPxE,WAAYN,GAAM3B,aAClBkC,OAAO,6BACP8I,WAAW,OACX7I,MAAM,mBACN8H,MAAO,CACLnC,SAAU,OACVX,WAAY,KAVhB,UAaE,cAAC,GAAD,CAAgB7Z,MAAOgtB,EAAahtB,QAbtC,IAaiDK,EAAMC,UAEvD,eAAC,GAAD,CACEN,MAAO+sB,EACPhtB,IAAKM,EAAMG,OACX2Y,OAAO,OACPxE,WAAYN,GAAM1B,eAClBiC,OAAO,6BACP8W,UAAU,OACVhO,WAAW,OACX6C,aAAa,MACb1L,MAAM,mBACN8H,MAAO,CACLnC,SAAU,OACVX,WAAY,KAZhB,UAeGkT,EAfH,IAemB1sB,EAAMG,mBAK/B,eAAC+T,GAAD,CACEmF,eAAe,gBACf7E,MAAM,QACNsB,cAAc,MACdgD,OAAO,OACP2D,UAAU,MACVY,WAAW,OANb,UAQE,cAACnJ,GAAD,CAAK4B,cAAc,MAAnB,SACG/Q,YAAcb,GAAWU,KAAI,SAACrG,GAAD,OAC5B,cAAC,GAAD,CAAuCA,OAAQA,EAAQiW,MAAM,OAA7D,SACE,cAAC,GAAD,CAAcjW,OAAQA,KADIA,EAAOS,SAKvC,cAACkV,GAAD,CAAK4B,cAAc,MAAMuD,eAAe,WAAxC,SACGhS,YAAYnD,GAAWU,KAAI,SAACrG,GAAD,OAC1B,cAAC,GAAD,CAAuCA,OAAQA,GAAnBA,EAAOS,gBCjLlC8tB,GAAc,SAACxe,GAA6B,IAC/C4V,EAAgB5V,EAAhB4V,MAAOsI,EAASle,EAATke,KAEThf,EADcgB,KAAZ+B,QACc2T,GACtB,OACE,cAAChQ,GAAD,CAAK6H,QAAQ,MAAb,SACGvO,GACCA,EAAM7D,WAAW/E,KAAI,SAACgF,GAAD,OACnB,cAAC,GAAD,CAA4B1F,UAAW0F,EAAG4iB,KAAMA,GAA1B5iB,EAAE5K,UCfrB+tB,GAA0B,CACrCpmB,QAAS,QACT/D,UAAW,CACT,CACE5C,MAAO,CACL6B,YAAa,CACXzC,EAAG,IACHC,EAAG,GAELyC,gBAAiB,CACf1C,EAAG,GACHC,EAAG,GAEL4C,UAAW,CACT7C,GAAI,GACJC,EAAG,OCdA2tB,GAAkB,CAC7BhuB,GAAIC,cACJ6L,KAAM,aACNzG,KAAM,WACNsC,QAAS,QACTvB,OAAQ,qBACR3B,OAAQ,EACRa,QAAS,EACT4B,MAAO,IACPuF,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,GACRD,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,KCjBC8nB,GAAiB,CAC5BjuB,GAAIC,cACJ6L,KAAM,YACNzG,KAAM,WACNsC,QAAS,MACTvB,OAAQ,sBACR3B,OAAQ,EACRa,OAAQ,EACR4B,MAAO,GACPuF,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,GACRD,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,KClBC+nB,GAA4B,CACvCvmB,QAAS,UACT/D,UAAW,CACT,CACE5C,MAAO,CACL+B,cAAe,CACb3C,EAAG,IACHC,EAAG,GAEL2C,kBAAmB,CACjB5C,EAAG,GACHC,EAAG,GAELyC,gBAAiB,CACf1C,GAAI,GACJC,EAAG,OCdA8tB,GAAYluB,cACZ2kB,GAAUhlB,YAAa,CAClCoG,SAAUmoB,GACVriB,KAAM,UACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLE,MAAO,CACLd,GAAI,GACJC,EAAG,QCXA+tB,GAAoB,CAC/BpuB,GAAIC,cACJ6L,KAAM,cACNzG,KAAM,UACNsC,QAAS,UACTvB,OAAQ,sBACR3B,OAAQ,EACRa,QAAS,EACT4B,MAAO,GACPuF,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAACwe,GAAQ,IAAM,GAAG,IAC1Bze,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,CAACye,GAAQ,IAAM,GAAG,MClBjByJ,GAAUpuB,cACV0kB,GAAQ/kB,YAAa,CAChCoG,SAAUqoB,GACVviB,KAAM,QACNC,aAAa,EACbC,aAAa,EACbC,oBAAoB,EACpBrI,UAAW,CACT,CACE5C,MAAO,CACLE,MAAO,CACLd,GAAI,EACJC,EAAG,QCVAiuB,GAAqB,CAChCtuB,GAAIC,cACJ6L,KAAM,gBACNzG,KAAM,WACNsC,QAAS,UACTvB,OAAQ,sBACR3B,OAAQ,EACRa,OAAQ,EACR4B,MAAO,GACPuF,SAAU,IACVC,WAAY,GACZzE,gBAAiB,CACf7B,OAAQ,CAACue,GAAM,IAAM,GAAG,GAAOC,GAAQ,IAAM,GAAG,IAChDze,OAAQ,IAEV+B,gBAAiB,CACf9B,OAAQ,GACRD,OAAQ,CAACye,GAAQ,IAAM,GAAG,MCcf2J,OAnBf,WAAgB,IACN/c,EAAShC,KAATgC,KAMR,OAJAd,qBAAU,WACRc,EAT0B,CAC5BxR,GAAIC,cACJ0K,WAAY,CCLQ,YAAC,eAClBiC,GADiB,IAEpB5M,GAAIC,cACJ6L,KAAM,SACNnC,MAAO,IACPF,SAAU,CAACykB,IACX3lB,UAAW,CAAC4D,GACZzG,SAAU,GACV0D,WAAY,GACZW,OAAQ,EACR8C,aAAc,EACd7L,MAAM,2BACD2L,GADA,IAEH1L,OAAQ,GACRC,MAAO,GACPC,OAAQ,IACRC,WAAY,IACZC,QAAS,EACTG,eAAgB,EAChBC,eAAgB,IAChBM,iBAAkB,GAClBC,eAAgB,GAChBC,gBAAiB,GACjBC,gBAAiB,GACjBC,cAAe,GACfC,eAAgB,KAElBgJ,MAAO,CAACkjB,GAAcF,GAAaE,GAAcF,MC5B9B,YAAC,eACjBxhB,GADgB,IAEnB5M,GAAIC,cACJ6L,KAAM,QACNnC,MAAO,IACPF,SAAU,CAACskB,IACXxlB,UAAW,CAAC4D,GACZzG,SAAU,GACV0D,WAAY,GACZW,OAAQ,EACR8C,aAAc,EACd7L,MAAM,2BACD2L,GADA,IAEH1L,OAAQ,GACRC,MAAO,GACPC,OAAQ,IACRC,WAAY,IACZC,QAAS,EACTG,eAAgB,EAChBC,eAAgB,IAChBM,iBAAkB,GAClBC,eAAgB,IAChBC,gBAAiB,IACjBC,gBAAiB,GACjBC,cAAe,GACfC,eAAgB,KAElBgJ,MAAO,CAAC4iB,MC3Ba,YAAC,eACnBphB,GADkB,IAErB5M,GAAIC,cACJ6L,KAAM,UACNnC,MAAO,IACPF,SAAU,CAACqD,GACXvE,UAAW,CAAC4D,GACZzG,SAAU,GACV0D,WAAY,GACZW,OAAQ,EACR8C,aAAc,EACd7L,MAAM,2BACD2L,GADA,IAEH1L,OAAQ,GACRC,MAAO,GACPC,OAAQ,IACRC,WAAY,IACZC,QAAS,EACTG,eAAgB,EAChBC,eAAgB,IAChBM,iBAAkB,GAClBC,eAAgB,GAChBC,gBAAiB,GACjBC,gBAAiB,GACjBC,cAAe,GACfC,eAAgB,KAElBgJ,MAAO,CAAC6iB,WHbL,IAGD,eAAC/Y,GAAD,CAAKsZ,UAAU,MAAMtT,KAAM,EAA3B,UACE,cAAC,GAAD,IACA,eAAChG,GAAD,CAAKgG,KAAK,IAAIf,SAAS,SAASrD,cAAc,MAAMiG,QAAQ,WAA5D,UACE,cAAC,GAAD,CAAamI,MAAO,EAAGsI,KAAK,SAC5B,cAAC,GAAD,IACA,cAAC,GAAD,CAAatI,MAAO,EAAGsI,KAAK,iBIhBrBiB,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCPDQ,GAAsB/Z,KAAOE,IAAI,CAC5CM,SAAU,WACVmE,OAAQ,QACRC,MAAO,QACPI,SAAU,SACVtD,QAAS,OACTqE,KAAM,IAGKiU,GAAmBha,KAAOE,IAAI,CACzCM,SAAU,WACVL,WAAY,kBACZsO,IAAK,EACLoD,OAAQ,EACRC,KAAM,EACNC,MAAO,EACP9I,OAAQ,QCJJvV,GAAkC,CACtCumB,KAAM,aACNC,MAAO,cAGIC,GAAe3gB,wBAAiC9F,IAGhD0mB,GAAuB,SAACjgB,GAAkC,IAC7DC,EAAaD,EAAbC,SAD4D,EAExCI,oBAAS,GAF+B,mBAE7DgO,EAF6D,KAErD6R,EAFqD,KAG9DC,EAAiBrE,iBAAY,IAC7BsE,EAAetE,iBAAsC,MACrDuE,EAAYD,EAAa3mB,QACzB6G,EAA6B,CACjCwf,KAAM,SAACxkB,EAAG2H,GACRmd,EAAa3mB,QAAU6B,EACvB6kB,EAAe1mB,QAAUwJ,EACzBid,GAAU,IAEZH,MAAO,WACLK,EAAa3mB,QAAU,KACvB0mB,EAAe1mB,QAAU,KACzBymB,GAAU,KAGd,OACE,cAACF,GAAaxf,SAAd,CAAuBnP,MAAOiP,EAA9B,SACE,eAACsf,GAAD,WACG3f,EACAoO,GAAUgS,GACT,cAACR,GAAD,CAAkB7M,QAAS1S,EAAQyf,MAAnC,SACE,cAACM,EAAD,eAAgBF,GAAkB,aC1CjCG,GAAc,SAACtgB,GAAkC,IACpDC,EAAaD,EAAbC,SACR,OACE,cAAC,GAAD,UACE,cAAC,GAAD,UAAuBA,OCD7BsgB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,UACE,cAAC,GAAD,QAGJC,SAASC,eAAe,SAM1BxB,O","file":"static/js/main.3d33c715.chunk.js","sourcesContent":["import { v4 } from 'uuid'\r\nimport { ResolvedStatus, Status, StatusFn } from './status'\r\n\r\nexport const resolveStatus = (status: Status): ResolvedStatus => {\r\n  const { applyChance } = status\r\n  return {\r\n    ...status,\r\n    isApplied: applyChance > Math.random(),\r\n  }\r\n}\r\n\r\ntype MakeStatusStatus = Omit<\r\n  Status,\r\n  'id' | 'applyChance' | 'duration' | 'isPositive'\r\n>\r\nexport const makeStatusFn = (partial: MakeStatusStatus): StatusFn => {\r\n  return (applyChance, duration, isPositive) => ({\r\n    ...partial,\r\n    id: v4(),\r\n    applyChance,\r\n    duration,\r\n    isPositive,\r\n  })\r\n}\r\n","export * from './data'\r\nexport * from './equation'\r\nexport * from './util'\r\n","export * from './move'\r\nexport * from './util'\r\n","import { makeEquationObject } from '../util'\r\n\r\nexport const ZERO_EQUATION = makeEquationObject(0, 0)\r\n","import { ZERO_EQUATION } from './data'\r\nimport { Equation, EquationObject } from './equation'\r\n\r\nexport const makeEquationObject = (m: number, b: number): EquationObject => ({\r\n  m,\r\n  b,\r\n})\r\n\r\nexport const makeEquation: (o: EquationObject) => Equation =\r\n  ({ m, b }) =>\r\n  (x) =>\r\n    m * x + b\r\n\r\nexport const addEquations = (\r\n  a: EquationObject = ZERO_EQUATION,\r\n  b: EquationObject = ZERO_EQUATION,\r\n): EquationObject => ({\r\n  m: a.m + b.m,\r\n  b: a.b + b.b,\r\n})\r\n\r\nexport const negEquation = (o: EquationObject) => ({\r\n  m: o.m * -1,\r\n  b: o.b * -1,\r\n})\r\n\r\nexport const max = (value: number, n: number) => (value > n ? n : value)\r\n\r\nexport const min = (value: number, n: number) => (value < n ? n : value)\r\n\r\nexport const minmax = (value: number, min: number, max: number) =>\r\n  value > max ? max : value < min ? min : value\r\n","import { ResolvedModifier } from '../../stats'\r\n\r\nexport const BASE_MODIFIER: ResolvedModifier = {\r\n  stats: {\r\n    health: { m: 1, b: 0 },\r\n    speed: { m: 1, b: 0 },\r\n    energy: { m: 1, b: 0 },\r\n    initiative: { m: 1, b: 0 },\r\n    evasion: { m: 1, b: 0 },\r\n    physicalArmor: { m: 1, b: 0 },\r\n    specialArmor: { m: 1, b: 0 },\r\n    criticalChance: { m: 1, b: 0 },\r\n    criticalDamage: { m: 1, b: 0 },\r\n    turnHealthRegen: { m: 0, b: 0 },\r\n    activeTurnHealthRegen: { m: 0, b: 0 },\r\n    queuePositionOffset: { m: 1, b: 0 },\r\n    forceCombatCheckSuccess: { m: 1, b: 0 },\r\n    forceCombatCheckFailure: { m: 1, b: 0 },\r\n\r\n    physicalAccuracy: { m: 1, b: 0 },\r\n    physicalAttack: { m: 1, b: 0 },\r\n    physicalDefense: { m: 1, b: 0 },\r\n    specialAccuracy: { m: 1, b: 0 },\r\n    specialAttack: { m: 1, b: 0 },\r\n    specialDefense: { m: 1, b: 0 },\r\n\r\n    normalDamage: { m: 0, b: 0 },\r\n    normalResistance: { m: 0, b: 0 },\r\n    fireDamage: { m: 0, b: 0 },\r\n    fireResistance: { m: 0, b: 0 },\r\n    waterDamage: { m: 0, b: 0 },\r\n    waterResistance: { m: 0, b: 0 },\r\n    grassDamage: { m: 0, b: 0 },\r\n    grassResistance: { m: 0, b: 0 },\r\n    earthDamage: { m: 0, b: 0 },\r\n    earthResistance: { m: 0, b: 0 },\r\n    thunderDamage: { m: 0, b: 0 },\r\n    thunderResistance: { m: 0, b: 0 },\r\n    airDamage: { m: 0, b: 0 },\r\n    airResistance: { m: 0, b: 0 },\r\n    ghostDamage: { m: 0, b: 0 },\r\n    ghostResistance: { m: 0, b: 0 },\r\n    darkDamage: { m: 0, b: 0 },\r\n    darkResistance: { m: 0, b: 0 },\r\n    lightDamage: { m: 0, b: 0 },\r\n    lightResistance: { m: 0, b: 0 },\r\n  },\r\n}\r\n","export * from './stats'\r\nexport * from './util'\r\n","import { BASE_MODIFIER } from '../character/data'\r\nimport { CharacterStats } from '../character/character'\r\nimport {\r\n  addEquations,\r\n  EquationObject,\r\n  makeEquation,\r\n  ZERO_EQUATION,\r\n} from '../equation'\r\nimport { Modifier, ResolvedModifier, StatEquations } from './stats'\r\n\r\nexport function makeModifier(\r\n  key: keyof CharacterStats,\r\n  value: EquationObject = ZERO_EQUATION,\r\n): Modifier {\r\n  return {\r\n    stats: {\r\n      [key]: value,\r\n    },\r\n  } as Modifier\r\n}\r\n\r\nexport function reduceModifiers(modifiers: Modifier[]) {\r\n  const statKeys = Object.keys(BASE_MODIFIER.stats) as (keyof CharacterStats)[]\r\n  return statKeys.reduce((result, key) => {\r\n    const keyModifier = modifiers.reduce(\r\n      (keyMod, mod) =>\r\n        makeModifier(key, addEquations(keyMod.stats[key], mod.stats[key])),\r\n      makeModifier(key, ZERO_EQUATION),\r\n    )\r\n    return {\r\n      ...result,\r\n      stats: {\r\n        ...result.stats,\r\n        [key]: {\r\n          b: keyModifier.stats[key]?.b || 0,\r\n          m: keyModifier.stats[key]?.m || 0,\r\n        },\r\n      },\r\n    }\r\n  }, {} as ResolvedModifier)\r\n}\r\n\r\nexport function reduceModifiersToEquations(modifiers: Modifier[]) {\r\n  const stats = reduceModifiers(modifiers).stats\r\n  const keys = Object.keys(stats) as (keyof CharacterStats)[]\r\n  return keys.reduce((result, key) => {\r\n    return {\r\n      ...result,\r\n      stats: {\r\n        ...result.stats,\r\n        [key]: makeEquation({\r\n          b: stats[key]?.b || 0,\r\n          m: stats[key]?.m || 0,\r\n        }),\r\n      },\r\n    }\r\n  }, {} as StatEquations)\r\n}\r\n\r\nexport function resolveStats(baseStats: CharacterStats, modifiers: Modifier[]) {\r\n  const stats = reduceModifiersToEquations(modifiers).stats\r\n  const keys = Object.keys(stats) as (keyof CharacterStats)[]\r\n  return keys.reduce(\r\n    (result, key) => ({\r\n      ...result,\r\n      [key]: Math.floor(stats[key](result[key])),\r\n    }),\r\n    baseStats,\r\n  )\r\n}\r\n","import {\r\n  AccuracyStats,\r\n  ArmorStats,\r\n  AttackStats,\r\n  Character,\r\n  CharacterStats,\r\n  DefenseStats,\r\n  ElementalDamageStats,\r\n  ElementalResistanceStats,\r\n} from '../character/character'\r\nimport {\r\n  getImmunities,\r\n  getStats,\r\n  getStatsAndEquations,\r\n} from '../character/util'\r\nimport { min } from '../equation'\r\nimport { ResolvedStatus, Status } from '../status/status'\r\nimport { resolveStatus } from '../status/util'\r\nimport { Move, MoveResolvedStatuses, MoveStatuses } from './move'\r\n\r\nexport const getRolls = (\r\n  checks: number,\r\n  stat: number,\r\n  forceSucess: number = 0,\r\n  forceFailure: number = 0,\r\n): boolean[] => {\r\n  let results: boolean[] = []\r\n  for (let i = 0; i < checks; i++) {\r\n    const roll = Math.random() * 100\r\n    let result = roll < stat\r\n    if (forceSucess > i) {\r\n      result = true\r\n    } else {\r\n      if (forceFailure > i) {\r\n        result = false\r\n      }\r\n    }\r\n    results = [...results, result]\r\n  }\r\n  return results\r\n}\r\n\r\nexport const getMoveDamageModifier = (\r\n  move: Move,\r\n  sourceStats: CharacterStats,\r\n  targetStats: CharacterStats,\r\n): number => {\r\n  return (\r\n    sourceStats[`${move.type}Attack` as keyof AttackStats] /\r\n    targetStats[`${move.type}Defense` as keyof DefenseStats]\r\n  )\r\n}\r\n\r\nexport const getMovePerfectChance = (move: Move, character: Character) => {\r\n  const stats = getStats(character)\r\n  const stat = stats[`${move.type}Accuracy` as keyof AccuracyStats]\r\n  const statValue = (stat + move.offset) / 100\r\n  return Math.pow(statValue, move.checks)\r\n}\r\n\r\nexport const getMoveFailureChance = (move: Move, character: Character) => {\r\n  const stats = getStats(character)\r\n  const stat = stats[`${move.type}Accuracy` as keyof AccuracyStats]\r\n  const statValue = (stat + move.offset) / 100\r\n  return Math.pow(1 - statValue, move.checks)\r\n}\r\n\r\nexport const getResolvedStatuses = (\r\n  statuses: Status[],\r\n  character: Character,\r\n  flip: boolean = false,\r\n): ResolvedStatus[] => {\r\n  return statuses\r\n    .map((s) => ({\r\n      ...resolveStatus(s),\r\n      isPositive: flip ? !s.isPositive : s.isPositive,\r\n    }))\r\n    .filter(\r\n      (s) =>\r\n        !getImmunities(character)\r\n          .map((i) => i.statusId)\r\n          .includes(s.statusId),\r\n    )\r\n}\r\n\r\nexport type MoveResult = {\r\n  totalDamage: number\r\n  critical: boolean\r\n  dodged: boolean\r\n  statuses: MoveResolvedStatuses\r\n  source: Character\r\n  target: Character\r\n  move: Move\r\n}\r\n\r\nexport const resolveMove = (\r\n  source: Character,\r\n  target: Character,\r\n  move: Move,\r\n  rolls: boolean[],\r\n): MoveResult => {\r\n  const [sStats, { stats: sMods }] = getStatsAndEquations(source)\r\n  const [tStats, { stats: tMods }] = getStatsAndEquations(target)\r\n  const successes = rolls.filter(Boolean).length\r\n  const perfect = successes === move.checks\r\n  const failure = successes === 0\r\n  const dodged =\r\n    getRolls(1, tStats.evasion)[0] &&\r\n    !perfect &&\r\n    !failure &&\r\n    !(source.id === target.id)\r\n  const baseDamage = (successes / move.checks) * (move.power || 0)\r\n  const damageModifier = getMoveDamageModifier(move, sStats, tStats)\r\n  const [critical] = getRolls(1, sStats.criticalChance)\r\n  const criticalMod = critical && perfect ? sStats.criticalDamage : 1\r\n  const rawDamage = baseDamage * damageModifier * criticalMod\r\n  const armorKey = `${move.type}Armor` as keyof ArmorStats\r\n  const elementalDamageKey =\r\n    `${move.element}Damage` as keyof ElementalDamageStats\r\n  const elementalResistanceKey =\r\n    `${move.element}Resistance` as keyof ElementalResistanceStats\r\n  const eSourceDamage = sMods[elementalDamageKey](rawDamage)\r\n  const eTargetDamage = tMods[elementalResistanceKey](rawDamage + eSourceDamage)\r\n  const armor = tStats[armorKey]\r\n  const totalDamage =\r\n    rawDamage === 0\r\n      ? 0\r\n      : min(Math.floor(rawDamage + eSourceDamage - eTargetDamage) - armor, 0)\r\n  const statuses: MoveStatuses = (perfect\r\n    ? move.perfectStatuses\r\n    : failure\r\n    ? move.failureStatuses\r\n    : undefined) || { target: [], source: [] }\r\n\r\n  const resolvedStatuses: MoveResolvedStatuses = {\r\n    source: getResolvedStatuses(statuses.source, source),\r\n    target: getResolvedStatuses(statuses.target, target, true),\r\n  }\r\n\r\n  return {\r\n    totalDamage: dodged ? 0 : totalDamage,\r\n    critical: critical && perfect,\r\n    dodged,\r\n    statuses: resolvedStatuses,\r\n    source,\r\n    target,\r\n    move,\r\n  }\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const FireElement: Elemental = {\r\n  element: 'fire',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        fireDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        fireResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        waterResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","export * from './data'\r\nexport * from './elemental'\r\n","import { getResolvedAbilityStatusValue } from '../ability/util'\r\nimport { max, min, minmax } from '../equation'\r\nimport {\r\n  Modifier,\r\n  reduceModifiers,\r\n  reduceModifiersToEquations,\r\n  resolveStats,\r\n  StatEquations,\r\n} from '../stats'\r\nimport { Status } from '../status/status'\r\nimport { Character, CharacterStats, ResolvedCharacterStats } from './character'\r\nimport { BASE_MODIFIER } from './data'\r\n\r\nexport const getStatuses = (character: Character) => {\r\n  const abilityStatuses = character.abilities.reduce((statuses, ability) => {\r\n    const stats = convertStats(character)\r\n    return [\r\n      ...statuses,\r\n      ...ability.statuses.filter((s) =>\r\n        getResolvedAbilityStatusValue(s, stats),\r\n      ),\r\n    ]\r\n  }, [] as Status[])\r\n  return [...character.statuses, ...abilityStatuses]\r\n}\r\n\r\nexport const getImmunities = (character: Character) => {\r\n  const abilityImmunities = character.abilities.reduce(\r\n    (immunities, ability) => {\r\n      return [...immunities, ...ability.immunities]\r\n    },\r\n    [] as Status[],\r\n  )\r\n  return [...character.immunities, ...abilityImmunities]\r\n}\r\n\r\nexport const getModifiers = (character: Character) => {\r\n  const statusModifiers = getStatuses(character).reduce(\r\n    (list, status) => [...list, ...status.modifiers],\r\n    [] as Modifier[],\r\n  )\r\n  const elementModifiers = character.elements.reduce(\r\n    (list, element) => [...list, ...element.modifiers],\r\n    [] as Modifier[],\r\n  )\r\n  return [BASE_MODIFIER, ...statusModifiers, ...elementModifiers]\r\n}\r\n\r\nconst converHealth = (health: number, level: number) => {\r\n  const ev = 252\r\n\r\n  return Math.floor(((31 + 2 * health + ev / 4) * level) / 100 + 10 + level)\r\n}\r\n\r\nconst convertStat = (stat: number, level: number) => {\r\n  const ev = 252\r\n\r\n  return Math.floor((((31 + 2 * stat + ev / 4) * level) / 100 + 5) * 1)\r\n}\r\n\r\nexport const convertStats = (character: Character): ResolvedCharacterStats => {\r\n  const baseStats = { ...character.stats }\r\n  const maxHealth = converHealth(baseStats.health, character.level)\r\n  const health = maxHealth - character.damage\r\n  return {\r\n    ...baseStats,\r\n    health: maxHealth,\r\n    speed: convertStat(baseStats.speed, character.level),\r\n    physicalAttack: convertStat(baseStats.physicalAttack, character.level),\r\n    specialAttack: convertStat(baseStats.specialAttack, character.level),\r\n    physicalDefense: convertStat(baseStats.physicalDefense, character.level),\r\n    specialDefense: convertStat(baseStats.specialDefense, character.level),\r\n    healthRatio: health / maxHealth,\r\n  }\r\n}\r\n\r\nexport const getStats = (character: Character): ResolvedCharacterStats => {\r\n  const modifiers = getModifiers(character)\r\n  const stats = resolveStats(convertStats(character), modifiers)\r\n  const health = stats.health - character.damage\r\n  return {\r\n    ...stats,\r\n    physicalAccuracy: max(stats.physicalAccuracy, 95),\r\n    specialAccuracy: max(stats.specialAccuracy, 95),\r\n    physicalDefense: min(stats.physicalDefense, 1),\r\n    specialDefense: min(stats.specialDefense, 1),\r\n    speed: min(stats.speed, 0),\r\n    energy: min(stats.energy, 0),\r\n    evasion: minmax(stats.evasion, 0, 100),\r\n    healthRatio: health / stats.health,\r\n  }\r\n}\r\n\r\nexport const getStatsAndModifier = (\r\n  character: Character,\r\n): [CharacterStats, Modifier] => {\r\n  const stats = getStats(character)\r\n  const modifier = reduceModifiers(getModifiers(character))\r\n  return [stats, modifier]\r\n}\r\n\r\nexport const getStatsAndEquations = (\r\n  character: Character,\r\n): [CharacterStats, StatEquations] => {\r\n  const stats = getStats(character)\r\n  const modifier = reduceModifiersToEquations(getModifiers(character))\r\n  return [stats, modifier]\r\n}\r\n","import { ResolvedCharacterStats } from '../character/character'\r\nimport { AbilityStatus, AbilityStatusConditionType } from './ability'\r\n\r\nconst resolveValue = (\r\n  value: number,\r\n  conditionValue: number,\r\n  type: AbilityStatusConditionType,\r\n): boolean => {\r\n  const greaterThan = (a: number, b: number) => a > b\r\n  const lessThan = (a: number, b: number) => a < b\r\n  const equal = (a: number, b: number) => a === b\r\n  const fn =\r\n    type === 'greater-than'\r\n      ? greaterThan\r\n      : type === 'less-than'\r\n      ? lessThan\r\n      : equal\r\n  return fn(value, conditionValue)\r\n}\r\n\r\nexport const getResolvedAbilityStatusValue = (\r\n  as: AbilityStatus,\r\n  stats: ResolvedCharacterStats,\r\n): boolean => {\r\n  const and = (a: boolean, b: boolean) => a && b\r\n  const or = (a: boolean, b: boolean) => a || b\r\n  const fn = as.conditionsType === 'and' ? and : or\r\n  const defaultValue = as.conditionsType === 'and' ? true : false\r\n  return as.conditions.reduce((result, current) => {\r\n    const stat = stats[current.stat]\r\n    const { value, type } = current\r\n    return fn(result, resolveValue(stat, value, type))\r\n  }, defaultValue)\r\n}\r\n","import { Character, CharacterStats } from '../character/character'\r\nimport { convertStats, getStats } from '../character/util'\r\nimport { Move } from '../move'\r\n\r\nexport type QueueItem = {\r\n  id: string\r\n  value: number\r\n}\r\nexport type Queue = QueueItem[]\r\n\r\nexport type QueueStats = {\r\n  id: string\r\n  value: CharacterStats\r\n}[]\r\n\r\nexport const initializeQueue = (characters: Character[]): Queue => {\r\n  const stats: QueueStats = characters.map((c) => ({\r\n    id: c.id,\r\n    value: getStats(c),\r\n  }))\r\n  return consolidateQueue(\r\n    stats\r\n      .map((qs) => ({\r\n        id: qs.id,\r\n        value: qs.value.initiative,\r\n        stats: qs.value,\r\n      }))\r\n      .filter((qi) => {\r\n        const char = characters.find((c) => c.id === qi.id)\r\n        if (!char) return false\r\n        const stats = convertStats(char)\r\n        const health = stats.health\r\n        return char.damage < health\r\n      }),\r\n    characters,\r\n  )\r\n}\r\n\r\nexport const getDeltas = (stats: CharacterStats, distance: number): number => {\r\n  const speed = stats.speed > 0 ? stats.speed : 0\r\n  // distance = speed * t => t = distance / speed\r\n  const t = speed === 0 ? 99999 : distance / speed\r\n  return t\r\n}\r\n\r\nexport const convertToDeltas = (queue: Queue, statArray: QueueStats) => {\r\n  return queue.map((i) => {\r\n    const stats = statArray.find((qs) => qs.id === i.id)?.value\r\n    if (!stats) throw new Error('Bad Input Data: enQueue')\r\n    const t = getDeltas(stats, i.value)\r\n    return {\r\n      id: i.id,\r\n      value: t,\r\n    }\r\n  })\r\n}\r\n\r\nexport const consolidateQueue = (queue: Queue, characters: Character[]) => {\r\n  const statArray: QueueStats = characters.map((c) => ({\r\n    id: c.id,\r\n    value: getStats(c),\r\n  }))\r\n  const deltaToZero = convertToDeltas(queue, statArray)\r\n  const minT = Math.min.apply(\r\n    Math,\r\n    deltaToZero.map((d) => d.value),\r\n  )\r\n  return [\r\n    ...queue.map((i) => {\r\n      const stats = statArray.find((qs) => qs.id === i.id)?.value\r\n      if (!stats) throw new Error('Bad Input Data: consolidateQueue')\r\n\r\n      return {\r\n        id: i.id,\r\n        value: Math.round(i.value - minT * stats.speed),\r\n      }\r\n    }),\r\n  ]\r\n}\r\n\r\nexport const enQueue = (\r\n  queue: Queue,\r\n  activeId: string,\r\n  characters: Character[],\r\n  move: Move,\r\n): Queue => {\r\n  const statArray: QueueStats = characters.map((c) => ({\r\n    id: c.id,\r\n    value: getStats(c),\r\n  }))\r\n\r\n  const queueToMove = [\r\n    ...queue.filter((i) => i.id !== activeId),\r\n    {\r\n      id: activeId,\r\n      value: Math.round(move.recovery),\r\n    },\r\n  ].filter((q) => {\r\n    const character = characters.find((c) => c.id === q.id)\r\n    const stats = statArray.find((s) => s.id === q.id)\r\n    return character && stats && character.damage < stats.value.health\r\n  })\r\n\r\n  return validateQueue(consolidateQueue(queueToMove, characters), statArray)\r\n}\r\n\r\nexport const validateQueue = (queue: Queue, stats: QueueStats): Queue => {\r\n  const validate = (queue: Queue, stats: QueueStats): [Queue, number] => {\r\n    let moves = 0\r\n    let result = [...queue]\r\n    result.forEach((item) => {\r\n      const sameValueItem = result.find(\r\n        (i) => i.value === item.value && i.id !== item.id,\r\n      )\r\n      const anotherIndex = sameValueItem ? result.indexOf(sameValueItem) : -1\r\n      if (sameValueItem && anotherIndex > 0) {\r\n        moves++\r\n        result[anotherIndex] = {\r\n          ...sameValueItem,\r\n          value: sameValueItem?.value + 1,\r\n        }\r\n      }\r\n    })\r\n    return [result, moves]\r\n  }\r\n\r\n  let validation = validate(queue, stats)\r\n  while (validation[1] > 0) {\r\n    validation = validate(validation[0], stats)\r\n  }\r\n  return validation[0]\r\n}\r\n\r\nexport const getActiveId = (queue: Queue): string => {\r\n  const item = queue.find((i) => i.value === 0)\r\n  if (!item) return ''\r\n  return item.id\r\n}\r\n\r\nexport const getMaxValue = (queue: Queue) =>\r\n  Math.max.apply(\r\n    Math,\r\n    queue.map((d) => d.value),\r\n  )\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const FireAttackUpId = v4()\r\nexport const FireAttackUp = makeStatusFn({\r\n  statusId: FireAttackUpId,\r\n  name: 'Fire Attack Up',\r\n  isStackable: true,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        fireDamage: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { FireAttackUp } from '../../status/data/FireAttackUp'\r\nimport { Ability } from '../ability'\r\n\r\nexport const BlazeId = v4()\r\nexport const Blaze: Ability = {\r\n  id: v4(),\r\n  abilityId: BlazeId,\r\n  name: 'Blaze',\r\n  statuses: [\r\n    {\r\n      ...FireAttackUp(1, -1, true),\r\n      conditionsType: 'and',\r\n      conditions: [\r\n        {\r\n          stat: 'healthRatio',\r\n          value: 1 / 3,\r\n          type: 'less-than',\r\n        },\r\n      ],\r\n    },\r\n  ],\r\n  immunities: [],\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const WaterElement: Elemental = {\r\n  element: 'water',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        waterDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        waterResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        grassResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const WetId = v4()\r\nexport const Wet = makeStatusFn({\r\n  statusId: WetId,\r\n  name: 'Wet',\r\n  isStackable: false,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        specialDefense: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Wet } from '../../status/data/Wet'\r\nimport { Move } from '../move'\r\n\r\nexport const WaterShot: Move = {\r\n  id: v4(),\r\n  name: 'Water Shot',\r\n  type: 'special',\r\n  element: 'water',\r\n  target: 'uncontrolled-target',\r\n  checks: 4,\r\n  offset: -5,\r\n  power: 150,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Wet(0.95, 5, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [Wet(0.95, 5, false)],\r\n  },\r\n}\r\n","import { CharacterStats } from '../character'\r\n\r\nexport const ZERO_STATS: CharacterStats = {\r\n  health: 0,\r\n  speed: 0,\r\n  energy: 0,\r\n  initiative: 0,\r\n  evasion: 0,\r\n  physicalArmor: 0,\r\n  specialArmor: 0,\r\n  criticalChance: 0,\r\n  criticalDamage: 0,\r\n  turnHealthRegen: 0,\r\n  activeTurnHealthRegen: 0,\r\n  queuePositionOffset: 0,\r\n  forceCombatCheckSuccess: 0,\r\n  forceCombatCheckFailure: 0,\r\n  physicalAccuracy: 0,\r\n  physicalAttack: 0,\r\n  physicalDefense: 0,\r\n  specialAccuracy: 0,\r\n  specialAttack: 0,\r\n  specialDefense: 0,\r\n  normalDamage: 0,\r\n  normalResistance: 0,\r\n  fireDamage: 0,\r\n  fireResistance: 0,\r\n  waterDamage: 0,\r\n  waterResistance: 0,\r\n  grassDamage: 0,\r\n  grassResistance: 0,\r\n  earthDamage: 0,\r\n  earthResistance: 0,\r\n  thunderDamage: 0,\r\n  thunderResistance: 0,\r\n  airDamage: 0,\r\n  airResistance: 0,\r\n  ghostDamage: 0,\r\n  ghostResistance: 0,\r\n  darkDamage: 0,\r\n  darkResistance: 0,\r\n  lightDamage: 0,\r\n  lightResistance: 0,\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\n\r\nexport const BASE_CHARACTER: Character = {\r\n  id: v4(),\r\n  name: '',\r\n  level: 0,\r\n  elements: [],\r\n  abilities: [],\r\n  statuses: [],\r\n  immunities: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: { ...ZERO_STATS },\r\n  moves: [],\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const AirElement: Elemental = {\r\n  element: 'air',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        airDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        airResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        thunderResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const CursedId = v4()\r\nexport const Cursed = makeStatusFn({\r\n  statusId: CursedId,\r\n  name: 'Cursed',\r\n  isStackable: true,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        forceCombatCheckFailure: {\r\n          m: 0,\r\n          b: 1,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Cursed } from '../../status/data/Cursed'\r\nimport { Move } from '../move'\r\n\r\nexport const Curse: Move = {\r\n  id: v4(),\r\n  name: 'Curse',\r\n  type: 'special',\r\n  element: 'ghost',\r\n  target: 'uncontrolled-target',\r\n  checks: 2,\r\n  offset: 0,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Cursed(1, 6, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const EvasiveId = v4()\r\nexport const Evasive = makeStatusFn({\r\n  statusId: EvasiveId,\r\n  name: 'Evasive',\r\n  isStackable: false,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        evasion: {\r\n          m: 0,\r\n          b: 100,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Evasive } from '../../status/data/Evasive'\r\nimport { Move } from '../move'\r\n\r\nexport const DoubleTeam: Move = {\r\n  id: v4(),\r\n  name: 'Double Team',\r\n  type: 'special',\r\n  element: 'normal',\r\n  target: 'self',\r\n  checks: 2,\r\n  offset: 0,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Evasive(1, 6, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const BurnedId = v4()\r\nexport const Burned = makeStatusFn({\r\n  statusId: BurnedId,\r\n  name: 'Burned',\r\n  isStackable: false,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        physicalAttack: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Burned } from '../../status/data/Burning'\r\nimport { Move } from '../move'\r\n\r\nexport const FireBall: Move = {\r\n  id: v4(),\r\n  name: 'Fire Ball',\r\n  type: 'special',\r\n  element: 'fire',\r\n  target: 'uncontrolled-target',\r\n  checks: 1,\r\n  offset: -10,\r\n  power: 45,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Burned(0.95, 5, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [Burned(0.25, 5, false)],\r\n  },\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { Burned } from '../../status/data/Burning'\r\nimport { Move } from '../move'\r\n\r\nexport const FlareBlitz: Move = {\r\n  id: v4(),\r\n  name: 'Flare Blitz',\r\n  type: 'physical',\r\n  element: 'fire',\r\n  target: 'uncontrolled-party',\r\n  checks: 4,\r\n  offset: 0,\r\n  power: 120,\r\n  recovery: 100,\r\n  energyCost: 20,\r\n  perfectStatuses: {\r\n    target: [Burned(0.95, 5, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [Burned(1.0, 5, false)],\r\n  },\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const FocusedId = v4()\r\nexport const Focused = makeStatusFn({\r\n  statusId: FocusedId,\r\n  name: 'Focused',\r\n  isStackable: true,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        forceCombatCheckSuccess: {\r\n          m: 0,\r\n          b: 1,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Focused } from '../../status/data/Focused'\r\nimport { Move } from '../move'\r\n\r\nexport const Focus: Move = {\r\n  id: v4(),\r\n  name: 'Focus',\r\n  type: 'special',\r\n  element: 'light',\r\n  target: 'controlled-target',\r\n  checks: 2,\r\n  offset: 0,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Focused(1, 6, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const ProtectedId = v4()\r\nexport const Protected = makeStatusFn({\r\n  statusId: ProtectedId,\r\n  name: 'Protected',\r\n  isStackable: false,\r\n  removeOnHit: true,\r\n  removeOnActiveTurn: true,\r\n  modifiers: [\r\n    {\r\n      stats: {},\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Protected } from '../../status/data/Protected'\r\nimport { Move } from '../move'\r\n\r\nexport const Protect: Move = {\r\n  id: v4(),\r\n  name: 'Protect',\r\n  type: 'special',\r\n  element: 'light',\r\n  target: 'controlled-target',\r\n  checks: 2,\r\n  offset: 0,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Protected(1, -1, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const RestingId = v4()\r\nexport const Resting = makeStatusFn({\r\n  statusId: RestingId,\r\n  name: 'Resting',\r\n  isStackable: false,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        speed: {\r\n          m: -1,\r\n          b: 0,\r\n        },\r\n        activeTurnHealthRegen: {\r\n          m: 1,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Resting } from '../../status/data/Resting'\r\nimport { Move } from '../move'\r\n\r\nexport const Rest: Move = {\r\n  id: v4(),\r\n  name: 'Rest',\r\n  type: 'physical',\r\n  element: 'air',\r\n  target: 'self',\r\n  checks: 2,\r\n  offset: 0,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Resting(1, 3, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const WarpedId = v4()\r\nexport const Warped = makeStatusFn({\r\n  statusId: WarpedId,\r\n  name: 'Warped',\r\n  isStackable: false,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        queuePositionOffset: {\r\n          m: 0,\r\n          b: 100,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Warped } from '../../status/data/Warped'\r\nimport { Move } from '../move'\r\n\r\nexport const TimeWarp: Move = {\r\n  id: v4(),\r\n  name: 'Time Warp',\r\n  type: 'special',\r\n  element: 'dark',\r\n  target: 'uncontrolled-target',\r\n  checks: 2,\r\n  offset: 0,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Warped(1, 1, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const GrassElement: Elemental = {\r\n  element: 'grass',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        grassDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        grassResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        fireResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { Move } from '../move'\r\n\r\nexport const RazorLeaf: Move = {\r\n  id: v4(),\r\n  name: 'Razor Leaf',\r\n  type: 'special',\r\n  element: 'grass',\r\n  target: 'uncontrolled-target',\r\n  checks: 2,\r\n  offset: -10,\r\n  power: 80,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { createContext, PropsWithChildren, useContext, useState } from 'react'\r\nimport { v4 } from 'uuid'\r\nimport { Blastoise } from '../../types/character/data/entities/blastoise'\r\nimport { Charizard } from '../../types/character/data/entities/charizard'\r\nimport { Venusaur } from '../../types/character/data/entities/venusaur'\r\nimport { Party } from '../../types/character/party'\r\n\r\nconst defaultParty = (): Party => ({\r\n  id: v4(),\r\n  characters: [Charizard(), Venusaur(), Blastoise()],\r\n})\r\n\r\nexport type PlayerContextValue = {\r\n  party: Party\r\n  setParty: (p: Party) => void\r\n}\r\nconst defaultValue: PlayerContextValue = {\r\n  party: defaultParty(),\r\n  setParty: () => {},\r\n}\r\n\r\nexport const PlayerContext = createContext(defaultValue)\r\nexport const usePlayer = () => useContext(PlayerContext)\r\n\r\nexport const PlayerContextProvider = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  const [party, setParty] = useState<Party>(defaultParty())\r\n\r\n  const context: PlayerContextValue = {\r\n    party,\r\n    setParty,\r\n  }\r\n  return (\r\n    <PlayerContext.Provider value={context}>{children}</PlayerContext.Provider>\r\n  )\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { Blaze } from '../../../ability/data/Blaze'\r\nimport { FireElement } from '../../../elemental'\r\nimport { AirElement } from '../../../elemental/data/AirElement'\r\nimport { Curse } from '../../../move/data/Curse'\r\nimport { DoubleTeam } from '../../../move/data/DoubleTeam'\r\nimport { FireBall } from '../../../move/data/FireBall'\r\nimport { FlareBlitz } from '../../../move/data/FlareBlitz'\r\nimport { Focus } from '../../../move/data/Focus'\r\nimport { Protect } from '../../../move/data/Protect'\r\nimport { Rest } from '../../../move/data/Rest'\r\nimport { TimeWarp } from '../../../move/data/TimeWarp'\r\nimport { Cursed } from '../../../status/data/Cursed'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\nimport { BASE_CHARACTER } from './BASE_CHARACTER'\r\n\r\nexport const Charizard = (): Character => ({\r\n  ...BASE_CHARACTER,\r\n  id: v4(),\r\n  name: 'Charizard',\r\n  level: 100,\r\n  elements: [FireElement, AirElement],\r\n  abilities: [Blaze],\r\n  statuses: [],\r\n  immunities: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 78,\r\n    speed: 100,\r\n    energy: 100,\r\n    initiative: 100,\r\n    evasion: 5,\r\n    criticalChance: 5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 64,\r\n    physicalAttack: 84,\r\n    physicalDefense: 78,\r\n    specialAccuracy: 85,\r\n    specialAttack: 108,\r\n    specialDefense: 85,\r\n  },\r\n  moves: [\r\n    FireBall,\r\n    FlareBlitz,\r\n    Rest,\r\n    TimeWarp,\r\n    Protect,\r\n    DoubleTeam,\r\n    Curse,\r\n    Focus,\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Blaze } from '../../../ability/data/Blaze'\r\nimport { GrassElement } from '../../../elemental/data/GrassElement'\r\nimport { RazorLeaf } from '../../../move/data/RazorLeaf'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\nimport { BASE_CHARACTER } from './BASE_CHARACTER'\r\n\r\nexport const Venusaur = (): Character => ({\r\n  ...BASE_CHARACTER,\r\n  id: v4(),\r\n  name: 'Venusaur',\r\n  level: 100,\r\n  elements: [GrassElement],\r\n  abilities: [Blaze],\r\n  statuses: [],\r\n  immunities: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 80,\r\n    speed: 80,\r\n    energy: 100,\r\n    initiative: 100,\r\n    evasion: 5,\r\n    criticalChance: 5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 62,\r\n    physicalAttack: 82,\r\n    physicalDefense: 83,\r\n    specialAccuracy: 80,\r\n    specialAttack: 100,\r\n    specialDefense: 100,\r\n  },\r\n  moves: [RazorLeaf],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Blaze } from '../../../ability/data/Blaze'\r\nimport { WaterElement } from '../../../elemental/data/WaterElement'\r\nimport { WaterShot } from '../../../move/data/WaterShot'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\nimport { BASE_CHARACTER } from './BASE_CHARACTER'\r\n\r\nexport const Blastoise = (): Character => ({\r\n  ...BASE_CHARACTER,\r\n  id: v4(),\r\n  name: 'Blastoise',\r\n  level: 100,\r\n  elements: [WaterElement],\r\n  abilities: [Blaze],\r\n  statuses: [],\r\n  immunities: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 79,\r\n    speed: 78,\r\n    energy: 100,\r\n    initiative: 100,\r\n    evasion: 5,\r\n    criticalChance: 5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 70,\r\n    physicalAttack: 83,\r\n    physicalDefense: 100,\r\n    specialAccuracy: 75,\r\n    specialAttack: 85,\r\n    specialDefense: 105,\r\n  },\r\n  moves: [WaterShot],\r\n})\r\n","import { createContext, PropsWithChildren, useContext, useState } from 'react'\r\nimport { useCombat } from '.'\r\nimport { Character } from '../../types/character/character'\r\nimport { Move } from '../../types/move'\r\n\r\nexport type CombatBufferContextValue = {\r\n  moveBuffer: Move | undefined\r\n  setMoveBuffer: (move: Move | undefined) => void\r\n  bufferMove: (move: Move) => void\r\n  targetsBuffer: Character[] | undefined\r\n  setTargetsBuffer: (targets: Character[] | undefined) => void\r\n  clear: () => void\r\n}\r\nconst defaultValue: CombatBufferContextValue = {\r\n  moveBuffer: undefined,\r\n  setMoveBuffer: () => {},\r\n  bufferMove: () => {},\r\n  targetsBuffer: undefined,\r\n  setTargetsBuffer: () => {},\r\n  clear: () => {},\r\n}\r\n\r\nexport const CombatBufferContext =\r\n  createContext<CombatBufferContextValue>(defaultValue)\r\nexport const useCombatBuffer = () => useContext(CombatBufferContext)\r\n\r\nexport const CombatBuffer = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  const { getTargets, getActiveCharacter } = useCombat()\r\n  const [moveBuffer, setMoveBuffer] = useState<Move | undefined>()\r\n  const [targetsBuffer, setTargetsBuffer] = useState<Character[] | undefined>()\r\n  const bufferMove = (move: Move) => {\r\n    setMoveBuffer(move)\r\n    const character = getActiveCharacter()\r\n    if (character) {\r\n      const targets = getTargets(move, character)\r\n      if (targets.length === 1) {\r\n        setTargetsBuffer(targets[0])\r\n      }\r\n    }\r\n  }\r\n  const clear = () => {\r\n    setMoveBuffer(undefined)\r\n    setTargetsBuffer(undefined)\r\n  }\r\n  const context: CombatBufferContextValue = {\r\n    moveBuffer,\r\n    setMoveBuffer,\r\n    bufferMove,\r\n    targetsBuffer,\r\n    setTargetsBuffer,\r\n    clear,\r\n  }\r\n  return (\r\n    <CombatBufferContext.Provider value={context}>\r\n      {children}\r\n    </CombatBufferContext.Provider>\r\n  )\r\n}\r\n","import {\r\n  createContext,\r\n  PropsWithChildren,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n} from 'react'\r\nimport { v4 } from 'uuid'\r\nimport { useCombat } from '.'\r\nimport { useCombatBuffer } from './buffer'\r\n\r\nexport type CombatTurnContextValue = {\r\n  turnId: string\r\n  turnCount: number\r\n  nextTurn: () => void\r\n}\r\nconst defaultValue: CombatTurnContextValue = {\r\n  turnId: v4(),\r\n  turnCount: 0,\r\n  nextTurn: () => {},\r\n}\r\n\r\nexport const CombatTurnContext = createContext(defaultValue)\r\nexport const useCombatTurn = () => useContext(CombatTurnContext)\r\n\r\nexport const CombatTurn = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  const [turnId, setTurnId] = useState<string>(v4())\r\n  const [turnCount, setTurnCount] = useState(0)\r\n  const {\r\n    enqueue,\r\n    reduceStatusDurations,\r\n    getActiveCharacter,\r\n    updateCharacter,\r\n  } = useCombat()\r\n  const { clear, moveBuffer } = useCombatBuffer()\r\n  const character = getActiveCharacter()\r\n  const nextTurn = () => {\r\n    setTurnId(v4())\r\n    setTurnCount((c) => c + 1)\r\n  }\r\n  const context: CombatTurnContextValue = {\r\n    turnId,\r\n    turnCount,\r\n    nextTurn,\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (turnId && turnCount > 0 && moveBuffer) {\r\n      reduceStatusDurations()\r\n      enqueue(moveBuffer)\r\n      clear()\r\n    }\r\n  }, [turnCount])\r\n\r\n  useEffect(() => {\r\n    if (character) {\r\n      updateCharacter(character.id, (c) => ({\r\n        ...c,\r\n        statuses: c.statuses.filter((s) => !s.removeOnActiveTurn),\r\n      }))\r\n    }\r\n  }, [character?.id])\r\n\r\n  return (\r\n    <CombatTurnContext.Provider value={context}>\r\n      {children}\r\n    </CombatTurnContext.Provider>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Character } from '../../types/character/character'\r\nimport { Move } from '../../types/move'\r\nimport {\r\n  enQueue,\r\n  getActiveId,\r\n  initializeQueue,\r\n  Queue,\r\n  QueueItem,\r\n} from '../../types/queue/queue'\r\n\r\nexport const useQueue = (initialValue?: Queue) => {\r\n  const [queue, set] = useState<Queue>(initialValue || [])\r\n  const enqueue = (characters: Character[], move: Move) => {\r\n    set((q) => enQueue(q, getActiveId(q), characters, move))\r\n  }\r\n  const updateById = (id: string, fn: (item: QueueItem) => QueueItem) => {\r\n    set((q) => q.map((qi) => (qi.id === id ? fn(qi) : qi)))\r\n  }\r\n  const initialize = (characters: Character[]) => {\r\n    set(initializeQueue(characters))\r\n  }\r\n  return {\r\n    queue,\r\n    enqueue,\r\n    updateById,\r\n    initialize,\r\n  }\r\n}\r\n","import {\r\n  createContext,\r\n  PropsWithChildren,\r\n  useContext,\r\n  useMemo,\r\n  useState,\r\n} from 'react'\r\nimport { Character } from '../../types/character/character'\r\nimport { Party } from '../../types/character/party'\r\nimport { convertStats, getStats } from '../../types/character/util'\r\nimport { Move } from '../../types/move'\r\nimport { getActiveId, Queue, QueueItem } from '../../types/queue/queue'\r\nimport { ResolvedStatus } from '../../types/status/status'\r\nimport { usePlayer } from '../PlayerContext'\r\nimport { CombatBuffer } from './buffer'\r\nimport { getTargetIds } from './getTargets'\r\nimport { CombatTurn } from './turn'\r\nimport { CombatParty } from './types'\r\nimport { useQueue } from './useQueue'\r\n\r\nexport type CombatContextValue = {\r\n  queue: Queue\r\n  parties: Party[]\r\n  characters: Character[]\r\n  init: (party: Party) => void\r\n  getCharacter: (id: string) => Character | undefined\r\n  getCharacterPartyId: (id: string) => string | undefined\r\n  getLiveCharacters: () => Character[]\r\n  isCharacterPlayerCharacter: (id: string) => boolean\r\n  getActiveCharacter: () => Character | undefined\r\n  hydrateCharacterIds: (ids: string[]) => Character[]\r\n  getTargets: (move: Move, source: Character) => Character[][]\r\n  updateCharacter: (id: string, fn: (c: Character) => Character) => void\r\n  addDamageToCharacter: (id: string, damage: number) => void\r\n  addStatusesToCharacter: (id: string, statuses: ResolvedStatus[]) => void\r\n  reduceStatusDurations: () => void\r\n  enqueue: (move: Move) => void\r\n  updateQueueItemById: (id: string, fn: (qi: QueueItem) => QueueItem) => void\r\n}\r\nconst defaultValue: CombatContextValue = {\r\n  queue: [],\r\n  parties: [],\r\n  characters: [],\r\n  init: () => {},\r\n  getCharacter: () => undefined,\r\n  getCharacterPartyId: () => undefined,\r\n  getLiveCharacters: () => [],\r\n  isCharacterPlayerCharacter: () => false,\r\n  getActiveCharacter: () => undefined,\r\n  hydrateCharacterIds: () => [],\r\n  getTargets: () => [],\r\n  updateCharacter: () => {},\r\n  addDamageToCharacter: () => {},\r\n  addStatusesToCharacter: () => {},\r\n  reduceStatusDurations: () => {},\r\n  enqueue: () => {},\r\n  updateQueueItemById: () => {},\r\n}\r\n\r\nexport const CombatContext = createContext<CombatContextValue>(defaultValue)\r\nexport const useCombat = () => useContext(CombatContext)\r\n\r\nexport const CombatContextProvider = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  const { party } = usePlayer()\r\n  const [parties, setParties] = useState<CombatParty[]>([])\r\n  const [characters, setCharacters] = useState<Character[]>([])\r\n  const { queue, enqueue, updateById, initialize } = useQueue([])\r\n  const updateCharacter = (id: string, fn: (c: Character) => Character) => {\r\n    setCharacters((chars) => chars.map((c) => (c.id === id ? fn(c) : c)))\r\n  }\r\n  const addDamageToCharacter = (id: string, damage: number) =>\r\n    updateCharacter(id, (c) => ({ ...c, damage: c.damage + damage }))\r\n\r\n  const addStatusesToCharacter = (id: string, statuses: ResolvedStatus[]) => {\r\n    const statusesToApply = statuses.filter((status) => status.isApplied)\r\n\r\n    updateCharacter(id, (c) => {\r\n      let oldStatuses = [...c.statuses]\r\n      statusesToApply.forEach((status) => {\r\n        if (!status.isStackable) {\r\n          oldStatuses = oldStatuses.filter(\r\n            (s) => s.statusId !== status.statusId,\r\n          )\r\n        }\r\n      })\r\n      return { ...c, statuses: [...oldStatuses, ...statusesToApply] }\r\n    })\r\n  }\r\n\r\n  const reduceStatusDurations = () => {\r\n    characters.forEach((character) => {\r\n      updateCharacter(character.id, (c) => ({\r\n        ...c,\r\n        statuses: c.statuses\r\n          .map((status) => ({\r\n            ...status,\r\n            duration: status.duration - 1,\r\n          }))\r\n          .filter((status) => status.duration !== 0),\r\n      }))\r\n    })\r\n  }\r\n\r\n  const hydrateCharacterIds = (ids: string[]): Character[] =>\r\n    ids\r\n      .map((id) => characters.find((c) => c.id === id))\r\n      .filter((c) => c !== undefined) as Character[]\r\n\r\n  const getCharacter = (id: string) =>\r\n    hydrateCharacterIds([id])[0] as Character | undefined\r\n\r\n  const getCharacterPartyId = (id: string) =>\r\n    parties.find((p) => p.characterIds.includes(id))?.id\r\n\r\n  const getLiveCharacters = () =>\r\n    characters.filter((char) => {\r\n      const stats = convertStats(char)\r\n      const health = stats.health\r\n      return char && char.damage < health\r\n    })\r\n\r\n  const isCharacterPlayerCharacter = (id: string) =>\r\n    getCharacterPartyId(id) === party.id\r\n\r\n  const getActiveCharacter = () => getCharacter(getActiveId(queue))\r\n\r\n  const getTargets = (move: Move, source: Character) => {\r\n    const targetIds = getTargetIds(move, source, parties)\r\n    if (targetIds.length === 0)\r\n      throw new Error('Invalid Battle state. [getTargets]')\r\n    return targetIds\r\n      .map((ids) => hydrateCharacterIds(ids))\r\n      .map((chars) => chars.filter((c) => c.damage < getStats(c).health))\r\n      .filter((chars) => chars.length > 0)\r\n  }\r\n\r\n  const init = (p: Party) => {\r\n    const initParties = [party, p]\r\n    setParties(\r\n      initParties.map((party) => ({\r\n        id: party.id,\r\n        characterIds: party.characters.map((c) => c.id),\r\n      })),\r\n    )\r\n    const chars = initParties.reduce(\r\n      (result, party) => [...result, ...party.characters],\r\n      [] as Character[],\r\n    )\r\n    setCharacters(chars)\r\n    initialize(chars)\r\n  }\r\n\r\n  const contextParties = useMemo(() => {\r\n    return parties.map((party) => ({\r\n      id: party.id,\r\n      characters: party.characterIds\r\n        .map((id) => characters.find((c) => c.id === id))\r\n        .filter((c) => c !== undefined) as Character[],\r\n    }))\r\n  }, [parties, characters])\r\n\r\n  const context: CombatContextValue = {\r\n    queue,\r\n    parties: contextParties,\r\n    characters,\r\n    init,\r\n    getCharacter,\r\n    getCharacterPartyId,\r\n    getLiveCharacters,\r\n    isCharacterPlayerCharacter,\r\n    getActiveCharacter,\r\n    hydrateCharacterIds,\r\n    getTargets,\r\n    updateCharacter,\r\n    addDamageToCharacter,\r\n    addStatusesToCharacter,\r\n    reduceStatusDurations,\r\n    enqueue: (move: Move) => enqueue(characters, move),\r\n    updateQueueItemById: updateById,\r\n  }\r\n\r\n  return (\r\n    <CombatContext.Provider value={context}>\r\n      <CombatBuffer>\r\n        <CombatTurn>{children}</CombatTurn>\r\n      </CombatBuffer>\r\n    </CombatContext.Provider>\r\n  )\r\n}\r\n","import { Character } from '../../types/character/character'\r\nimport { Move } from '../../types/move'\r\nimport { CombatParty } from './types'\r\n\r\nconst getSplashTargets = (ids: string[]): string[][] => {\r\n  if (ids.length === 0) return []\r\n  if (ids.length === 1) return [[ids[0]]]\r\n  if (ids.length === 2) return [[ids[0], ids[1]]]\r\n  if (ids.length >= 3)\r\n    return [\r\n      [ids[0], ids[1]],\r\n      [ids[0], ids[1], ids[2]],\r\n      [ids[1], ids[2]],\r\n    ]\r\n  return []\r\n}\r\n\r\nexport const getTargetIds = (\r\n  move: Move,\r\n  source: Character,\r\n  parties: CombatParty[],\r\n): string[][] => {\r\n  const sourceParty = parties.find((party) =>\r\n    party.characterIds.includes(source.id),\r\n  )\r\n  if (!sourceParty) throw new Error('Party not found. [getTargets]')\r\n  const enemyParty = parties.find((party) => party.id !== sourceParty.id)\r\n  if (!enemyParty) throw new Error('Invalid Combat state. [[getTargets]')\r\n  switch (move.target) {\r\n    case 'all':\r\n      return [[...sourceParty.characterIds, ...enemyParty.characterIds]]\r\n    case 'self':\r\n      return [[source.id]]\r\n    case 'controlled-party':\r\n      return [sourceParty.characterIds]\r\n    case 'controlled-target':\r\n      return sourceParty.characterIds.map((id) => [id])\r\n    case 'controlled-splash':\r\n      // return getSplashTargets(sourceParty.characterIds)\r\n      return sourceParty.characterIds.map((id) => [id])\r\n    case 'uncontrolled-party':\r\n      return [enemyParty.characterIds]\r\n    case 'uncontrolled-target':\r\n      return enemyParty.characterIds.map((id) => [id])\r\n    case 'uncontrolled-splash':\r\n      // return getSplashTargets(enemyParty.characterIds)\r\n      return enemyParty.characterIds.map((id) => [id])\r\n    default:\r\n      return []\r\n  }\r\n}\r\n","const tokens = {\r\n  statsGreen: '#a3ffa3',\r\n  statsPink: '#ffa3a3',\r\n  healthBarRed: 'rgba(200, 100, 100, 1)',\r\n  energyBarGreen: 'rgba(120, 150, 120, 1)',\r\n  perfectCheckColor: '#fcba03',\r\n\r\n  physicalColor: 'rgba(215,93,13,1)',\r\n  specialColor: 'rgba(130,93,232,1)',\r\n\r\n  boxGradientFrom: 'rgba(27,36,45,1)',\r\n  boxGradientTo: 'rgba(54,63,81,1)',\r\n\r\n  white: 'rgba(255,255,255,1)',\r\n  white0: 'rgba(255,255,255,0)',\r\n  white1: 'rgba(255,255,255,0.09)',\r\n  white2: 'rgba(255,255,255,0.18)',\r\n  white3: 'rgba(255,255,255,0.27)',\r\n  white4: 'rgba(255,255,255,0.36)',\r\n  white5: 'rgba(255,255,255,0.45)',\r\n  white6: 'rgba(255,255,255,0.54)',\r\n  white7: 'rgba(255,255,255,0.63)',\r\n  white8: 'rgba(255,255,255,0.72)',\r\n  white9: 'rgba(255,255,255,0.81)',\r\n  white10: 'rgba(255,255,255,0.9)',\r\n\r\n  space: '16px',\r\n  space0: '0px',\r\n  space1: '2px',\r\n  space2: '4px',\r\n  space3: '8px',\r\n  space4: '12px',\r\n  space5: '16px',\r\n  space6: '24px',\r\n}\r\n\r\nexport const theme = {\r\n  ...tokens,\r\n  boxGradient: `linear-gradient(\r\n    198deg,\r\n    ${tokens.boxGradientFrom} 0%,\r\n    ${tokens.boxGradientTo} 100%\r\n  )`,\r\n}\r\n","import { animated } from '@react-spring/web'\r\nimport { HTMLAttributes } from 'react'\r\nimport styled, { StyledProps } from 'styled-components'\r\nimport {\r\n  background,\r\n  BackgroundProps,\r\n  border,\r\n  BorderProps,\r\n  color,\r\n  ColorProps,\r\n  flexbox,\r\n  FlexboxProps,\r\n  layout,\r\n  LayoutProps,\r\n  position,\r\n  PositionProps,\r\n  space,\r\n  SpaceProps,\r\n  textAlign,\r\n  TextAlignProps,\r\n} from 'styled-system'\r\ntype Theme = any\r\n\r\ninterface StyledBoxProps\r\n  extends ColorProps<Theme>,\r\n    BackgroundProps<Theme>,\r\n    BorderProps<Theme>,\r\n    FlexboxProps<Theme>,\r\n    PositionProps,\r\n    LayoutProps<Theme>,\r\n    SpaceProps<Theme>,\r\n    TextAlignProps,\r\n    Partial<Pick<StyledProps<any>, 'style'>> {}\r\n\r\nconst StyledBox = styled(animated.div)<StyledBoxProps>(\r\n  background,\r\n  border,\r\n  color,\r\n  flexbox,\r\n  layout,\r\n  position,\r\n  space,\r\n  textAlign,\r\n)\r\n\r\nexport type BoxProps = HTMLAttributes<any> & StyledBoxProps\r\nexport const Box = StyledBox\r\n\r\nBox.displayName = 'Box'\r\nBox.defaultProps = {\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M256 23.05C127.5 23.05 23.05 127.5 23.05 256S127.5 488.9 256 488.9 488.9 384.5 488.9 256 384.5 23.05 256 23.05z\"\n});\n\nfunction SvgPlainCircle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPlainCircle);\nexport default __webpack_public_path__ + \"static/media/plain-circle.929d41ad.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M166 121c0 90 90 105 90 180 0 30-30 75-75 75s-75-45-45-120c-45 30-60 60-60 90 0 75 75 150 180 150s180-45 180-135c.67-133.125-153.4-177.596-195-240-30-45-15-75 15-105-60 15-90 57-90 105z\"\n});\n\nfunction SvgFlamer(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFlamer);\nexport default __webpack_public_path__ + \"static/media/flamer.6efba9c3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M263.844 40.344C234.1 213.202 145.594 248.03 145.594 369.22c0 60.804 60.106 105.5 118.25 105.5 59.45 0 115.937-41.803 115.937-99.533 0-116.332-85.2-162.312-115.936-334.843zm-58.28 217.094c-27.963 75.53-5.105 154.567 54.25 179.375 15.185 6.348 31.724 7.714 47.905 6.28-116.134 49.787-185.836-79.816-102.158-185.656z\"\n});\n\nfunction SvgDrop(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDrop);\nexport default __webpack_public_path__ + \"static/media/drop.c90ef023.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M29.805 29.777L242.14 209.55H118.712l112.54 86.784H95.995l225.656 174.012-81.537-116.05 66.487.143 179.185 138.175-171.96-244.746h84.568L248.082 29.776H29.805z\"\n});\n\nfunction SvgPowerLightning(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPowerLightning);\nexport default __webpack_public_path__ + \"static/media/power-lightning.3ae17416.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M92.239 26.432c-4.705.09-9.496.87-14.37 2.473-19.773 6.506-41.557 59.364-7.411 112.912 9.221 14.46-41 39.289-31.803 67.056 12.387 37.399 99.437 19.933 112.104 42.211 6.44 11.328-79.773 49.284-49.663 81.625 37.951 40.763 76.062 14.109 138.553 23.864 24.685 3.853-26.357 63.343 11.031 86.498 39.948 24.739 118.742 1.986 160.846-20.254a20577.214 20577.214 0 0 0-30.19-36.098c-33.45 10.371-71.807 15.824-106.036 13.664 36.092-6.615 65.118-14.246 94.8-27.025-21.566-25.637-43.299-51.22-65.357-76.479-36.846 7.379-103.783 18.406-166.793 13.88 8.83-1.316 110.772-14.937 154.935-27.38a3177.953 3177.953 0 0 0-24.357-27.318 6823.337 6823.337 0 0 0-27.935-35.486 6485.7 6485.7 0 0 0-15.413-19.34l-.115.658c-31.187 1.8-90.154 3.052-142.9-10.709 7.477.02 92.983 1.716 132.031-3.637-16.65-20.699-32.746-40.434-46.473-56.795-7.035-8.385-13.392-15.81-19.011-22.209l.05-.056c25.401 23.275 50.132 47.542 74.329 72.506 15.57-24.254 32.931-56.653 41.664-80.655 1.469 29.363-15.963 66.66-27.586 95.325 22.456 23.61 44.458 47.79 66.125 72.287 20.118-23.976 44.105-60.316 54.869-83.707-3.957 26.047-31.834 67.188-44.936 94.982 25.142 28.669 49.84 57.727 74.266 86.8 13.506-17.48 28.29-40.286 35.822-57.296 1.32 21.671-14.607 49.312-24.892 70.281l-.05-.014c9.624 11.49 19.211 22.974 28.766 34.428 3.016-2.12 5.604-4.173 7.582-6.095 31.459-30.573 36.26-79.699 17.842-116.51-12.519-25.021-70.096-8.654-77.265-23.846-9.068-19.214 51.563-76.204 28.146-104.902-16.456-20.168-75.04 1.983-85.264-16.182-16.343-29.04 28.13-74.832-21.763-99.244-26.468-12.95-46.397 5.349-88.338 44.103-21.236 19.623-62.13-63.165-113.828-64.312a48.694 48.694 0 0 0-2.012-.004zm345.39 402.365l-13.982 11.336 36.848 45.444 13.98-11.336-36.845-45.444z\"\n});\n\nfunction SvgOakLeaf(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOakLeaf);\nexport default __webpack_public_path__ + \"static/media/oak-leaf.7deeef1c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M317.727 108.904l-95.192 96.592-26.93 86.815 17.54 36.723 20.417 9.287 33.182-55.082 11.297-3.61 61.75 26.85 20.26-12.998 4.47-43.7 11.42 53.634-10.622 14.162 3.772 1.64 5.238 6.5 6.832 34.343 55.977-66.775 13.98.23 22.397 28.575-9.453-52.244L434.01 166.81l-116.28-57.906zM123.61 120.896L94.08 173l-4.603 27.62 25.98-8.442 11.704 7.377.084.634 28.295 59.865 13.773-4.543 10.94 4.668 3.922 8.21 19.517-62.917-1.074-33.336-40.15-.522-29.732-23.78 34.06 10.888 42.49-7.727 26.034 15.88 36.282-36.815c-2.777-1.18-5.615-2.356-8.58-3.52l-79.58 10.126-3.528-.25-56.307-15.52zm249.33 36.422l47.058 66.02 2.107 62.51-25.283-59.698-65.322-60.404 41.44-8.428zm-262.2 55.32l-64.234 20.876-16.71 78.552 50.794 5.582.596-7.14 37.662-36.707-8.108-61.16zm56.688 62.45l-36.44 12.016-31.644 30.84 22.588 30.867 57.326 1.74 16.5-16.16-28.33-59.302zm110.666 24.19l-44.307 73.546-.033 57.14 97.264 12.216 44.242-19.528-17.666-88.806-79.5-34.567zM443.8 313.36l-46.843 55.876.287 1.774 65.147 13.887 25.78-14.926-44.37-56.613zm-138.382 15.89l39.23 22.842 13.41 50.658-26.82 23.838-45.015-2.553 38.562-28.242 2.483-39.23-21.85-27.312zm-238.37 53.838l-8.77 28.51 13.152 48.498 91.037-11.91 1.32-26.418-62.582-31.995-34.156-6.684z\"\n});\n\nfunction SvgStonePile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStonePile);\nexport default __webpack_public_path__ + \"static/media/stone-pile.addbf61f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M160.53 20.906c-22.075.207-39.973 9.138-54.218 23.782C89.507 61.962 78.3 87.6 74.876 115.624c-6.847 56.05 16.55 119.953 82.094 146.625l-7.032 17.313c-64.128-26.096-93.275-84.757-94.782-141-17.36 10.866-27.608 27.05-32.343 46.437-5.728 23.448-2.727 51.54 7.906 77.844 21.264 52.61 71.37 96.856 138.436 87.594l2.563 18.53c-48.795 6.74-90.183-11.576-119.907-41.03-8.152 16.216-7.504 32.264-.657 48.312 8.472 19.854 27.498 39.252 52.875 53.594 47.085 26.61 114.8 35.554 173.19 5.094-5.43-20.99-2.652-45.074 11.342-69.313 22.71-39.332 60.78-49.83 88.375-38.688 13.798 5.572 25.08 16.555 29.875 31.157 4.796 14.6 2.836 32.303-7.375 50.312-11.8 20.81-34.144 27.877-51.25 22.22-8.552-2.83-16.22-9.437-18.875-18.876-2.653-9.44-.142-20.366 7.063-31.313l15.594 10.282c-5.238 7.955-5.5 13.08-4.69 15.967.813 2.888 2.84 4.895 6.75 6.188 7.822 2.587 21.483-.152 29.158-13.688 8.188-14.44 8.82-26.183 5.843-35.25-2.976-9.066-9.846-15.954-19.092-19.687-18.493-7.467-46.14-2.273-65.188 30.72-14.024 24.29-14.373 45.376-6.72 63.436l2.814 4.375c-.197.13-.397.25-.594.376.256.497.513 1.008.78 1.5 1.945 3.565 4.218 7.007 6.814 10.28.1.13.21.25.312.377.395.49.81.984 1.22 1.468 11.508 13.657 28.358 24.378 47.312 30.283 24.26 7.557 51.596 7.146 74.843-3.75 23.248-10.897 42.935-31.972 52.69-68.375 3.323-12.406 5.08-23.776 5.5-34.313.01-.418.023-.832.03-1.25.087-5.1-.088-10.246-.563-15.406-.037-.407-.084-.814-.125-1.22-.032-.27-.06-.544-.093-.813-3.295-25.79-15.823-46.16-34.345-64.437-29.635-29.24-75.698-51.638-122.75-74.125-47.052-22.487-95.112-45.1-128.875-77.656-31.683-30.553-49.926-71.185-40.313-124.814-.72-.01-1.444-.006-2.156 0z\"\n});\n\nfunction SvgFluffyWing(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFluffyWing);\nexport default __webpack_public_path__ + \"static/media/fluffy-wing.30c94702.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M282.83 18.877c21.567 6.146 36.328 15.205 40.572 28.77-1.367.74-2.725 1.518-4.066 2.363-25.655 5.807-53.084 18.634-81.047 34.363 20.225-4.69 36.705-4.42 47.544 3.324-5.712 10.3-10.797 22.294-15.123 36.06-21.343 67.922-125.678-80.577-189.065-5.255C41.47 166.24 92.702 212.342 26.5 294.29c35.583-4.14 45.11-9.47 62.416-36.21 10.44-16.13 28.52-22.1 44.668-21.45-12.718 11.206-25.786 30.354-38.21 59.895 19.832-18.528 44.927-38.68 71.603-40.005.912 6.354-2.408 13.74-12.008 21.418C93.21 327.327 15.58 364.185 19.83 476.504c5.558-11.267 11.646-20.31 17.574-28.617 5.98 29.582 28.2 53.8 92.99 40.482-46.928-6.407-76.268-59.586-45.355-82.528 62.716-46.544 128.82 1.436 269.9-75.342 2.475-1.346 4.86-2.49 7.164-3.46-2.246 19.6-12.367 39.84-22.362 57.14 14.26-10.38 25.415-20.147 33.928-29.262 2.14 26.14-11.748 54.65-25.393 78.268 43.26-31.49 61.19-57.976 63.207-78.422 9.334 36.678-1.895 95.547-25.03 123.492 77.553-39.433 106.608-77.127 109.76-190.664 1.662-59.824-66.23-60.536-56.435-101.344 11.945-49.756 6.768-84.69-7.565-107.947-19.6-49.73-79.99-59.74-149.385-59.423zM89.8 47.684C54.69 47.534 45.233 83.056 55.724 117c17.146-51.504 70.414-44.24 111.17-34.367-33.282-25.005-58.707-34.87-77.096-34.95zm254.595 30.742c18.643 21.37 29.373 43.02 10.105 65.732-26.562-16.677-26.985-39.252-10.105-65.732zm74.494 48.6c3.655-.013 7.78.35 12.473 1.09-1.706 30.506-14.4 33-46.634 32.154 8.335-22.146 14.416-33.176 34.16-33.245zm-84.677 40.316c9.652.1 20.258 2.84 30.598 8.918 44.65 26.246 21.934 73.314-4.1 74.78-15.174.855 1.443-23.842-16.17-38.476-15.258-12.678-38.596 12.53-45.204-5.78-8.218-22.693 10.21-39.696 34.877-39.442zm60.18 246.168c-24.195 27.825-58.89 60.1-99.444 31.41 16.625 45.643 68.87 70.465 99.443-31.41z\"\n});\n\nfunction SvgSpectre(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpectre);\nexport default __webpack_public_path__ + \"static/media/spectre.a300475c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M255.997 16.004c-120 0-239.997 60-239.997 149.998C16 226.002 61 256 61 316c0 45-15 45-15 75 0 14.998 48.01 32.002 89.998 44.998v60h239.997v-60s90.567-27.957 90-45c-.933-27.947-15-30-15-74.998 0-30 45.642-91.42 44.998-149.998 0-90-119.998-149.998-239.996-149.998zm-90 179.997c33.137 0 60 26.864 60 60 0 33.136-26.863 60-60 60C132.863 316 106 289.136 106 256c0-33.136 26.862-60 59.998-60zm179.998 0c33.136 0 60 26.864 60 60 0 33.136-26.864 60-60 60-33.136 0-60-26.864-60-60 0-33.136 26.864-60 60-60zm-89.998 105c15 0 45 60 45 75 0 29.998 0 29.998-15 29.998h-60c-15 0-15 0-15-30 0-15 30-74.998 45-74.998z\"\n});\n\nfunction SvgDeathSkull(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDeathSkull);\nexport default __webpack_public_path__ + \"static/media/death-skull.e46d2abd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M256 16c-120 0-135 105-60 195 0-165 135-45 135-135 0-30-45-60-75-60zm146.25 134.532C370.61 152.554 334.75 167.875 301 196c165 0 45 135 135 135 30 0 60-45 60-75 0-75-41.016-108.838-93.75-105.468zM76 181c-30 0-60 45-60 75 0 120 105 135 195 60-165 0-45-135-135-135zm175.782 15A60 60 0 0 0 196 256a60 60 0 0 0 120 0 60 60 0 0 0-64.218-60zM316 301c0 165-135 45-135 135 0 30 45 60 75 60 120 0 135-105 60-195z\"\n});\n\nfunction SvgPulse(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPulse);\nexport default __webpack_public_path__ + \"static/media/pulse.bdf208ab.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport type IconProps = BoxProps\r\n\r\nconst Wrapper = styled(Box)`\r\n  path {\r\n    fill: ${(p) =>\r\n      p.color && typeof p.color === 'string' ? p.color : 'inherit'};\r\n  }\r\n`\r\n\r\nexport const Icon = (props: IconProps) => {\r\n  const { children, ...rest } = props\r\n  return <Wrapper {...rest}>{children}</Wrapper>\r\n}\r\n","import { ElementalType } from '../../../types/elemental'\r\nimport { BoxProps } from '../Box'\r\nimport { ReactComponent as Normal } from '../../../icons/delapouite/plain-circle.svg'\r\nimport { ReactComponent as Fire } from '../../../icons/sbed/flamer.svg'\r\nimport { ReactComponent as Water } from '../../../icons/lorc/drop.svg'\r\nimport { ReactComponent as Thunder } from '../../../icons/lorc/power-lightning.svg'\r\nimport { ReactComponent as Grass } from '../../../icons/delapouite/oak-leaf.svg'\r\nimport { ReactComponent as Earth } from '../../../icons/delapouite/stone-pile.svg'\r\nimport { ReactComponent as Air } from '../../../icons/lorc/fluffy-wing.svg'\r\nimport { ReactComponent as Ghost } from '../../../icons/lorc/spectre.svg'\r\nimport { ReactComponent as Dark } from '../../../icons/sbed/death-skull.svg'\r\nimport { ReactComponent as Light } from '../../../icons/sbed/pulse.svg'\r\nimport { FunctionComponent } from 'react'\r\nimport { Icon } from '../Icon'\r\n\r\nconst iconMap: Record<ElementalType, FunctionComponent> = {\r\n  normal: Normal,\r\n  fire: Fire,\r\n  water: Water,\r\n  grass: Grass,\r\n  earth: Earth,\r\n  thunder: Thunder,\r\n  air: Air,\r\n  ghost: Ghost,\r\n  dark: Dark,\r\n  light: Light,\r\n}\r\n\r\nexport const colorMap: Record<ElementalType, string> = {\r\n  normal: 'grey',\r\n  fire: 'salmon',\r\n  water: 'CornflowerBlue',\r\n  grass: 'lightgreen',\r\n  earth: 'tan',\r\n  thunder: 'gold',\r\n  air: 'powderblue',\r\n  ghost: 'mediumpurple',\r\n  dark: 'lightslategrey',\r\n  light: 'lightyellow',\r\n}\r\n\r\nexport type ElementalIconProps = BoxProps & {\r\n  type: ElementalType\r\n}\r\n\r\nexport const ElementalIcon = (props: ElementalIconProps) => {\r\n  const { type, color, ...rest } = props\r\n  const Body = iconMap[type]\r\n  return (\r\n    <Icon {...rest} color={color || colorMap[type]}>\r\n      <Body />\r\n    </Icon>\r\n  )\r\n}\r\n\r\nElementalIcon.defaultProps = {\r\n  height: '32px',\r\n  width: '32px',\r\n}\r\n","import styled from 'styled-components'\r\nimport { Character } from '../../types/character/character'\r\nimport { ElementalType } from '../../types/elemental'\r\nimport { Box, BoxProps } from '../_core/Box'\r\nimport { colorMap } from '../_core/ElementalIcon'\r\n\r\nconst Wrapper = styled(Box)((p) => ({\r\n  boxShadow: '0px 0px 10px inset rgba(0,0,0,0.45)',\r\n  boxSizing: 'border-box',\r\n  whiteSpace: 'nowrap',\r\n  overflow: 'hidden',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  textOverflow: 'ellipsis',\r\n  display: 'inline-block',\r\n  color: 'black',\r\n  lineHeight: `calc(${p.height} - 8px)`,\r\n  fontWeight: 900,\r\n}))\r\n\r\nexport type CombatCharacterAvatarProps = BoxProps & {\r\n  character: Character\r\n}\r\nexport const CombatCharacterAvatar = (props: CombatCharacterAvatarProps) => {\r\n  const { character, children, ...rest } = props\r\n  return (\r\n    <Wrapper\r\n      {...rest}\r\n      backgroundColor={\r\n        colorMap[character?.elements[0].element as ElementalType]\r\n      }\r\n    >\r\n      {children}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nCombatCharacterAvatar.defaultProps = {\r\n  height: '60px',\r\n  width: '60px',\r\n  borderWidth: '2px',\r\n  borderColor: 'white',\r\n  borderStyle: 'solid',\r\n}\r\n","import styled from 'styled-components'\r\nimport { theme } from '../../theme'\r\nimport { AttackTypes } from '../../types/character/character'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport const Wrapper = styled(Box)`\r\n  color: white;\r\n  flex-direction: column;\r\n  padding: 12px 16px 16px 16px;\r\n  margin: 8px;\r\n  border: 1px solid rgba(255, 255, 255, 0.45);\r\n  min-width: 250px;\r\n  text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.27);\r\n  background: ${theme.boxGradient};\r\n`\r\nexport const Header = styled(Box)({\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n  marginBottom: '12px',\r\n})\r\n\r\nexport const AttackWrapper = styled.div({\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  border: '1px solid black',\r\n})\r\n\r\nexport const AttackPower = styled.div<{ type: AttackTypes }>((props) => ({\r\n  display: 'flex',\r\n  flex: 1,\r\n  fontSize: '32px',\r\n  fontWeight: 800,\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  background:\r\n    props.type === 'special'\r\n      ? 'linear-gradient(198deg, rgba(130,93,232,1) 0%, rgba(129,36,195,1) 100%)'\r\n      : 'linear-gradient(198deg, rgba(232,148,93,1) 0%, rgba(215,93,13,1) 100%)',\r\n  // color: props.type === 'physical' ? 'blue' : 'purple',\r\n}))\r\n\r\nexport const AttackAccuracy = styled.div({\r\n  display: 'flex',\r\n  flex: 1,\r\n  background: 'black',\r\n  color: 'rgba(255,255,255,0.5)',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n})\r\n\r\nconst accuracyColors: any = {\r\n  1: 'DarkOrchid',\r\n  2: 'CornflowerBlue',\r\n  3: 'LightGreen',\r\n  4: 'Yellow',\r\n  5: 'Orange',\r\n  6: 'Salmon',\r\n}\r\nexport const AttackAccuracyText = styled.div<{ checks: number }>((props) => ({\r\n  fontWeight: 800,\r\n  fontSize: 32,\r\n  color: accuracyColors[props.checks] || 'white',\r\n}))\r\n\r\nexport const MoveDetailsTitle = styled(Box)({\r\n  color: 'rgba(255,255,255,0.54)',\r\n  fontSize: '12px',\r\n  lineHeight: '16px',\r\n  fontWeight: 700,\r\n  whiteSpace: 'nowrap',\r\n})\r\n\r\nexport const MoveDetailsValue = styled(Box)({\r\n  color: 'white',\r\n  fontWeight: 700,\r\n  fontSize: '13px',\r\n})\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M418.176 280.486c21.38-30.735 42.538-61.17 64.123-92.267-30.341-4.086-59.886-8.048-89.888-12.134 13.6-39.089 26.955-77.509 40.735-117.15-41.247 23.546-81.281 46.413-121.716 69.462-10.34-34.333-20.703-68.359-31.223-103.298-18.23 32.498-35.798 63.965-53.603 95.676-33.719-32.262-66.83-64.029-101.163-96.841 7.803 45.31 15.426 89.155 22.986 133.733-43.964-7.009-86.833-13.655-130.986-20.553 31.892 37.199 63.052 73.548 94.4 110.197-27.932 25.67-55.681 51.161-84.029 77.383 36.648 8.173 71.958 16.16 108.18 24.332-13.236 29.451-26.221 58.358-39.577 88.061 23.718-6.284 26.68-7.016 49.303-13.118 0 0 22.35-68.463 32.866-84.747 4.806-7.29 5.267-13.96 3.675-22.182-6.668-34.118-12.749-68.32-19.108-102.447-.39-1.934-.47-3.335 1.543-4.647 23.978-16.689 36.344-21.244 73.797-47.78 17.295 19.699 34.47 39.477 51.997 59.647a2368.384 2368.384 0 0 0-17.837 16.364c-.46.46-1.622.69-2.324.46-6.52-1.943-13.03-3.876-19.588-5.968-7.708-7.292-13.68-15.293-19.808-21.482-1.703 6.36-3.456 12.327-4.887 18.457 8.984 10.945 11.236 14.184 16.904 19.77 1.162 1.17 1.861 3.024 1.861 4.576 1.549 31.612.61 62.646 2.134 89.81 3.374.932 6.439 1.703 10.196 2.795-.773-34.13-1.353-67.71-2.244-101.52 2.053 0 3.995 1.012 5.618 3.877 19.688 32.305 37.333 64.041 54.95 93.455 2.944-1.712 5.858-3.415 8.843-5.127-1.513 4.573-6.594 10.905-9.314 14.822-9.388 14.727-25.093 22.027-37.995 30.863-15.624 24.762-28.247 50.076-38.257 67.658l14.789 37.443c.37.118 26.19-39.152 38.908-59.09 21.19 18.717 41.987 37.136 63.39 56.035 1.55-41.042 3.196-80.801 4.692-121.048 44.704 3.844 88.763 7.623 134.04 11.53-26.01-32.444-51.169-63.604-76.383-95.007zm-164.443-117.08c12.948-8.062 25.587-15.822 38.506-23.725 6.389 11.007 12.479 21.863 18.646 32.878-10.625 6.59-21.17 13.189-32.107 19.849-8.181-9.614-16.593-19.147-25.045-29.002zm51.184 59.027c-6.29-7.37-12.568-14.512-19.197-22.183 11.055-6.75 22.062-13.57 33.307-20.48 5.74 10.085 11.368 19.93 17.066 30.013-16.835 10.475-33.47 20.63-49.834 30.715-.11-.232-.23-.311-.459-.47 6.317-5.739 12.598-11.476 19.117-17.595zm-26.138 34.74c20.55-12.639 40.83-25.047 61.42-37.765 6.128 10.546 11.946 20.86 18.115 31.716-20.52 12.719-40.879 25.127-61.54 37.844-6.018-10.775-11.985-21.25-17.995-31.795zm40.479 71.033c-5.739-10.155-11.476-20.08-17.175-30.325 19.238-11.786 38.346-23.574 57.744-35.51 5.698 10.073 11.438 20.079 17.135 30.245-19.31 12.015-38.466 23.733-57.704 35.59z\"\n});\n\nfunction SvgRevolt(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRevolt);\nexport default __webpack_public_path__ + \"static/media/revolt.2e58af85.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M247.79 18.734C137.967 17.596 19.874 96.94 19.73 244.53l21.403-51.395c-9.485 72.28-7.75 147.236 38.79 202.502L38.2 377.355c39.24 69.774 126.333 90.976 200.855 92.51C124.11 429.9 67.87 342.277 63.912 246.492c-6.722-211.78 260.658-217.694 340.78-75.77-3.417-19.492-8.623-38.426-15.618-56.11 77.406 89.155 59.293 214.875-21.29 253.036-24.25 3.95-48.93 12.06-60.954 19-58.548 33.802-6.27 126.536 53.225 92.188 9.44-5.45 23.404-17.303 36.494-31.352 64.36-59.52 98.1-118.24 93.108-188.94-6.52 29.1-19.175 57.904-35.623 84.683 63.158-146.822 7.956-263.89-144.838-301.354 12.097 5.835 23.503 13.63 33.873 23.36-57.415-23.752-131.123-22.62-186.884 3.505 28.066-26.2 64.776-43.73 102.2-49.642-3.52-.205-7.054-.325-10.597-.362zm-19.74 160.202l-19.843 100.566c-2.958 3.81-5.64 6.852-9.033 9.94l-25.688-49.096-22.705 11.93 31.37 60.945c4.48 11.474 10.02 20.68 15.162 28.524 28.063 42.803 64.547 35.252 95.303 9.555l87.28-48.452-12.71-22.498-66.136 36.94c-1.517-3.154-3.266-6.552-5.056-9.51l67.818-64.96-17.54-18.695-66.47 63.762c-2.356-2.318-4.238-4.527-6.765-6.54l45.084-78.085-22.733-13.127-45.864 78.297c-3.79-1.31-7.72-2.2-11.595-2.745l15.656-81.896-25.533-4.854z\"\n});\n\nfunction SvgMagicSwirl(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMagicSwirl);\nexport default __webpack_public_path__ + \"static/media/magic-swirl.fe6b7c76.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as Physical } from '../../icons/darkzaitzev/revolt.svg'\r\nimport { ReactComponent as Special } from '../../icons/lorc/magic-swirl.svg'\r\nimport { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\nimport { AttackTypes } from '../../types/character/character'\r\n\r\nconst iconMap: Record<AttackTypes, FunctionComponent> = {\r\n  physical: Physical,\r\n  special: Special,\r\n}\r\n\r\nconst colorMap: Record<AttackTypes, string> = {\r\n  physical: 'white',\r\n  special: 'white',\r\n}\r\n\r\nconst Wrapper = styled.div<{ color: string }>`\r\n  height: 32px;\r\n  width: 32px;\r\n  path {\r\n    fill: ${(p) => p.color};\r\n  }\r\n`\r\n\r\nexport type TypeIconProps = {\r\n  type: AttackTypes\r\n  color?: string\r\n}\r\nexport const TypeIcon = (props: TypeIconProps) => {\r\n  const { type, color } = props\r\n  const Name = iconMap[type]\r\n  return (\r\n    <Wrapper color={color || colorMap[type]}>\r\n      <Name />\r\n    </Wrapper>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M247 16v23.2C134.4 43.81 43.81 134.4 39.2 247H16v18h23.2c4.61 112.6 95.2 203.2 207.8 207.8V496h18v-23.2c112.6-4.6 203.2-95.2 207.8-207.8H496v-18h-23.2C468.2 134.4 377.6 43.81 265 39.2V16h-18zm0 41.21V80h18V57.21C367.8 61.78 450.2 144.2 454.8 247H432v18h22.8c-4.6 102.8-87 185.2-189.8 189.8V432h-18v22.8c-102.8-4.6-185.22-87-189.79-189.8H80v-18H57.21C61.78 144.2 144.2 61.78 247 57.21zm8.9 38.12c-5 0-9.5 1.1-12.9 2.9L126.8 165.3c-7.3 4.1-7.3 10.9 0 15.2L243 247.4c7.2 4.3 18.5 4.3 25.7 0l115.9-66.9c7.4-4.3 7.4-11.1 0-15.2L268.7 98.23c-3.4-1.8-8.3-2.9-12.8-2.9zm-89 62.57c6 .1 11.7 1.6 16 4.1 8 5.7 7.3 14.1-1.5 19.4-9 5.2-23.1 5.6-32.7.8-14.9-9.3-3.4-24.7 18.2-24.3zm178.6.1h2c6 .2 11.7 1.8 15.9 4.2 8.3 5.7 7.7 14.3-1.2 19.6-9.1 5.3-23.4 5.6-33 .7-15-9-4.5-24.1 16.3-24.5zm-89 0c21.4.2 31.8 15.5 16.8 24.5-9.3 6.2-25.2 6.4-35.1.6-9.8-5.8-9.6-15.3.6-20.9 4.7-2.7 11.1-4.3 17.7-4.2zm-141 41c-4.5 0-7.5 3-7.5 9.2v119.7c0 8.4 5.8 18.3 13.2 22.6l111.4 64.4c7.2 4.1 12.9.7 12.9-7.6V287.6c0-8.3-5.7-18.4-12.9-22.5l-111.5-64.5c-2.2-1.1-4.1-1.5-5.6-1.6zm281.3 0c-1.6.1-3.7.5-5.8 1.6l-111.5 64.5c-7.2 4.1-12.9 14.2-12.9 22.5v119.7c0 8.3 5.7 11.7 12.9 7.6L391 350.5c7-4.3 13-14.2 13-22.6V208.2c0-6.2-3-9.2-7.2-9.2zm-185 65.5c11.2.4 24.7 17.3 24.5 31.5.4 11-7.4 15.5-17.2 9.9-9.7-5.7-17.5-19.4-16.9-29.8 0-6.8 3.2-11.2 8.5-11.6h1.1zm130.9 21.8h1.1c5.2.4 8.5 4.8 8.5 11.5-.1 10.5-7.7 23.3-17.1 28.8-9.5 5.5-17.1 1.5-17.2-8.9-.1-14.2 13.5-31.3 24.7-31.4zm-216.9 22.5c11.4-.5 25.5 16.8 25.5 31.3.4 11.1-7.4 15.6-17.2 10.1-9.7-5.7-17.5-19.3-17-29.8 0-6.9 3.3-11.3 8.7-11.6z\"\n});\n\nfunction SvgDiceTarget(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDiceTarget);\nexport default __webpack_public_path__ + \"static/media/dice-target.2123da11.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M44.62 106a26 26 0 0 0-25.69 29.3c16 124 16 117.4 0 241.4A26 26 0 0 0 54.72 404l138.68-57.7c-1.2 9.5-2.4 18.9-3.9 30.4-2.5 19.8 17.3 35 35.8 27.3l252-124c9.7-4 16-13.5 16-24s-6.3-20-16-24l-252-124c-3.2-1.3-6.6-2-10.1-2-15.6.1-27.7 13.8-25.7 29.3 1.5 11.5 2.7 20.9 3.9 30.4L54.72 108a26 26 0 0 0-10.1-2z\"\n});\n\nfunction SvgFastForwardButton(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFastForwardButton);\nexport default __webpack_public_path__ + \"static/media/fast-forward-button.2307d71a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M467.4 106a26 26 0 0 1 25.7 29.3c-16 124-16 117.4 0 241.4a26 26 0 0 1-35.8 27.3l-138.7-57.7c1.2 9.5 2.4 18.9 3.9 30.4 2.5 19.8-17.3 35-35.8 27.3L34.72 280c-9.7-4-16-13.5-16-24s6.3-20 16-24L286.7 108c3.2-1.3 6.6-2 10.1-2 15.6.1 27.7 13.8 25.7 29.3-1.5 11.5-2.7 20.9-3.9 30.4L457.3 108a26 26 0 0 1 10.1-2z\"\n});\n\nfunction SvgFastBackwardButton(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFastBackwardButton);\nexport default __webpack_public_path__ + \"static/media/fast-backward-button.5e491b82.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as Target } from '../../icons/delapouite/fast-forward-button.svg'\r\nimport { ReactComponent as Source } from '../../icons/delapouite/fast-backward-button.svg'\r\nimport { FunctionComponent } from 'react'\r\nimport { Icon } from '../_core/Icon'\r\nimport { BoxProps } from '../_core/Box'\r\n\r\nexport type StatusTargetType = 'target' | 'source'\r\n\r\nconst iconMap: Record<StatusTargetType, FunctionComponent> = {\r\n  target: Target,\r\n  source: Source,\r\n}\r\n\r\nconst colorMap: Record<StatusTargetType, string> = {\r\n  target: 'rgba(255,255,255,0.45)',\r\n  source: 'rgba(255,255,255,0.45)',\r\n}\r\n\r\nexport type StatusTargetIconProps = BoxProps & {\r\n  type: StatusTargetType\r\n}\r\nexport const StatusTargetIcon = (props: StatusTargetIconProps) => {\r\n  const { type, color, ...rest } = props\r\n  const Name = iconMap[type]\r\n  return (\r\n    <Icon\r\n      height='16px'\r\n      width='16px'\r\n      marginRight='4px'\r\n      color={color || colorMap[type]}\r\n      {...rest}\r\n    >\r\n      <Name />\r\n    </Icon>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box } from '../Box'\r\n\r\nexport const TooltipCard = styled(Box)({\r\n  background: 'white',\r\n  padding: '8px',\r\n  maxWidth: '200px',\r\n})\r\n","import { ProtectedId } from '../../../types/status/data/Protected'\r\n\r\nexport const statusDescriptions: Record<string, string> = {\r\n  [ProtectedId]:\r\n    'Negates all damage and statuses from the next attack that targets the affected character.',\r\n}\r\n","import { CharacterStats } from '../../../types/character/character'\r\nimport { Status } from '../../../types/status/status'\r\nimport { Box } from '../Box'\r\nimport { TooltipCard } from '../TooltipCard'\r\nimport { statusDescriptions } from './descriptions'\r\n\r\nexport const statKeyMap: Record<keyof CharacterStats, string> = {\r\n  health: 'Health',\r\n  speed: 'Speed',\r\n  energy: 'Energy',\r\n  initiative: 'Initiative',\r\n  evasion: 'Evasion',\r\n  physicalArmor: 'Phys Armor',\r\n  specialArmor: 'Spec Armor',\r\n  criticalChance: 'Critical Chance',\r\n  criticalDamage: 'Critical Damage',\r\n  turnHealthRegen: 'Health Regen (each turn)',\r\n  activeTurnHealthRegen: 'Health Regen (on turn)',\r\n  queuePositionOffset: 'Queue Position',\r\n  forceCombatCheckSuccess: 'Forced Check Success',\r\n  forceCombatCheckFailure: 'Forced Check Failure',\r\n  physicalAccuracy: 'Phys Accuracy',\r\n  physicalAttack: 'Phys Attack',\r\n  physicalDefense: 'Phys Defense',\r\n  specialAccuracy: 'Spec Accuracy',\r\n  specialAttack: 'Spec Attack',\r\n  specialDefense: 'Spec Defense',\r\n  normalDamage: 'Normal Damage',\r\n  normalResistance: 'Normal Res',\r\n  fireDamage: 'Fire Damage',\r\n  fireResistance: 'Fire Res',\r\n  waterDamage: 'Water Damage',\r\n  waterResistance: 'Water Res',\r\n  grassDamage: 'Grass Damage',\r\n  grassResistance: 'Grass Res',\r\n  earthDamage: 'Earth Damage',\r\n  earthResistance: 'Earth Res',\r\n  thunderDamage: 'Thunder Damage',\r\n  thunderResistance: 'Thunder Res',\r\n  airDamage: 'Air Damage',\r\n  airResistance: 'Air Res',\r\n  ghostDamage: 'Ghost Damage',\r\n  ghostResistance: 'Ghost Res',\r\n  darkDamage: 'Dark Damage',\r\n  darkResistance: 'Dark Res',\r\n  lightDamage: 'Light Damage',\r\n  lightResistance: 'Light Res',\r\n}\r\n\r\nexport type StatusCardProps = {\r\n  status: Status\r\n}\r\n\r\nexport const StatusCard = (props: StatusCardProps) => {\r\n  const { status } = props\r\n  const modKeys = status.modifiers.map((mod) =>\r\n    Object.keys(mod.stats),\r\n  ) as (keyof CharacterStats)[][]\r\n  const description = statusDescriptions[status.statusId]\r\n  return (\r\n    <TooltipCard>\r\n      <Box style={{ fontWeight: 700 }}>{status.name}</Box>\r\n\r\n      <Box\r\n        color='rgba(0,0,0,0.63)'\r\n        marginBottom='4px'\r\n        style={{ fontWeight: 900, fontSize: '10px' }}\r\n      >\r\n        <span style={{ whiteSpace: 'nowrap' }}>\r\n          Duration:{' '}\r\n          {status.duration === -1 ? <span>&#8734;</span> : status.duration} Turn\r\n          {status.duration !== 1 ? 's' : ''}\r\n        </span>\r\n      </Box>\r\n      {description && <Box style={{ fontSize: '14px' }}>{description}</Box>}\r\n      {!description && (\r\n        <Box style={{ fontSize: '14px' }}>\r\n          {modKeys.map((keys, modIndex) =>\r\n            keys.map((key) => {\r\n              const mod = status.modifiers[modIndex]\r\n              const eq = mod.stats[key]\r\n              if (!eq) return null\r\n              return (\r\n                <Box key={`${status.id}-${key}`}>\r\n                  {eq.m !== 0 && (\r\n                    <Box>\r\n                      {statKeyMap[key]}: {eq.m > 0 ? '+' : ''}\r\n                      {eq.m * 100}%\r\n                    </Box>\r\n                  )}\r\n                  {eq.b !== 0 && (\r\n                    <Box>\r\n                      {statKeyMap[key]}: {eq.b > 0 ? '+' : ''}\r\n                      {eq.b}\r\n                    </Box>\r\n                  )}\r\n                </Box>\r\n              )\r\n            }),\r\n          )}\r\n        </Box>\r\n      )}\r\n      {(status.removeOnHit || status.removeOnActiveTurn) && (\r\n        <Box marginTop='8px' style={{ fontWeight: 600 }}>\r\n          {status.removeOnHit && (\r\n            <Box style={{ fontSize: '10px' }}>Removed on hit.</Box>\r\n          )}\r\n          {status.removeOnActiveTurn && (\r\n            <Box style={{ fontSize: '10px' }}>\r\n              Removed character's next turn.\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      )}\r\n    </TooltipCard>\r\n  )\r\n}\r\n","import { useLayer, Arrow, UseLayerOptions } from 'react-laag'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport type TooltipProps = BoxProps & {\r\n  content: JSX.Element\r\n  isOpen?: boolean\r\n  contentProps?: Omit<BoxProps, 'children'>\r\n  options?: Omit<UseLayerOptions, 'isOpen'>\r\n}\r\n\r\nexport const Tooltip = (props: TooltipProps) => {\r\n  const {\r\n    isOpen = false,\r\n    content,\r\n    children,\r\n    contentProps = {},\r\n    options = {},\r\n    ...rest\r\n  } = props\r\n\r\n  const { arrowProps, layerProps, triggerProps, renderLayer } = useLayer({\r\n    isOpen,\r\n    ...options,\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <Box {...rest} {...triggerProps}>\r\n        {children}\r\n      </Box>\r\n      {isOpen &&\r\n        renderLayer(\r\n          <Box {...contentProps} {...layerProps} zIndex={999}>\r\n            {content}\r\n            <Arrow {...arrowProps} />\r\n          </Box>,\r\n        )}\r\n    </>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { theme } from '../../../theme'\r\nimport { Box } from '../Box'\r\n\r\nexport const Wrapper = styled(Box)({\r\n  marginLeft: '4px',\r\n  flexDirection: 'row',\r\n  alignItems: 'flex-start',\r\n})\r\n\r\nexport const StatusWrapper = styled(Box)<{ isPositive: boolean }>((props) => ({\r\n  color: !props.isPositive ? theme.statsPink : theme.statsGreen,\r\n  marginRight: '4px',\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n}))\r\n\r\nexport const StatusChance = styled(Box)({\r\n  marginRight: '2px',\r\n  opacity: 0.72,\r\n  fontSize: '10px',\r\n  fontWeight: 300,\r\n})\r\n\r\nexport const StatusName = styled(Box)<{ isHovering?: boolean }>((props) => ({\r\n  fontSize: '13px',\r\n  fontWeight: 400,\r\n  cursor: 'default',\r\n  textDecoration: props.isHovering ? 'underline' : 'none',\r\n}))\r\n","import { PropsWithChildren, useState } from 'react'\r\nimport { Status } from '../../../types/status/status'\r\nimport { StatusTargetIcon } from '../../Move/StatusTargetIcon'\r\nimport { Box } from '../Box'\r\nimport { StatusCard } from '../StatusCard'\r\nimport { Tooltip } from '../Tooltip'\r\nimport { StatusChance, StatusName, StatusWrapper, Wrapper } from './style'\r\n\r\nexport type StatusListProps = {\r\n  statuses: Status[] | undefined\r\n  type: 'target' | 'source'\r\n  showIcon?: boolean\r\n}\r\nexport const StatusList = (props: StatusListProps) => {\r\n  const { statuses, type, showIcon = true } = props\r\n  return statuses?.length ? (\r\n    <Wrapper>\r\n      {showIcon && (\r\n        <Box paddingTop='2px' marginRight='4px'>\r\n          <StatusTargetIcon type={type} />\r\n        </Box>\r\n      )}\r\n      <Box flexDirection='row' flexWrap='wrap'>\r\n        {statuses.map((status, i) => (\r\n          <StatusListItem status={status}>\r\n            {i !== statuses.length - 1 ? ',' : ''}\r\n          </StatusListItem>\r\n        ))}\r\n      </Box>\r\n    </Wrapper>\r\n  ) : null\r\n}\r\n\r\nexport type StatusListItemProps = {\r\n  status: Status\r\n}\r\nexport const StatusListItem = (\r\n  props: PropsWithChildren<StatusListItemProps>,\r\n) => {\r\n  const { status, children } = props\r\n  const [isHovering, setIsHovering] = useState(false)\r\n  return (\r\n    <StatusWrapper\r\n      isPositive={status.isPositive}\r\n      onMouseEnter={() => setIsHovering(true)}\r\n      onMouseLeave={() => setIsHovering(false)}\r\n    >\r\n      {status.applyChance < 1 && (\r\n        <StatusChance>({(status.applyChance * 100).toFixed(0)}%)</StatusChance>\r\n      )}\r\n      <Tooltip\r\n        isOpen={isHovering}\r\n        content={<StatusCard status={status} />}\r\n        options={{\r\n          auto: true,\r\n          placement: 'bottom-center',\r\n          triggerOffset: 4,\r\n        }}\r\n      >\r\n        <StatusName isHovering={isHovering}>{status.name}</StatusName>\r\n      </Tooltip>\r\n      {children}\r\n    </StatusWrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box, BoxProps } from '../_core/Box'\r\nimport { Icon } from '../_core/Icon'\r\nimport { ReactComponent as Check } from '../../icons/delapouite/dice-target.svg'\r\nimport { MoveStatuses } from '../../types/move'\r\nimport { StatusList } from '../_core/StatusList'\r\n\r\nconst Section = styled(Box)({\r\n  width: '100%',\r\n})\r\nconst TitleWrapper = styled(Box)({\r\n  flexDirection: 'row',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n})\r\nconst Title = styled(Box)({\r\n  fontWeight: 900,\r\n  color: 'rgba(255,255,255,0.90)',\r\n  textTransform: 'uppercase',\r\n  fontSize: '13px',\r\n})\r\nconst Spacer = styled(Box)({\r\n  flex: 1,\r\n  height: '0px',\r\n  borderBottom: '1px solid rgba(255,255,255,0.24)',\r\n  margin: 'auto 8px',\r\n})\r\nconst Chance = styled(Box)({\r\n  fontSize: '14px',\r\n  opacity: 0.56,\r\n})\r\n\r\nexport type MoveStatusesSectionProps = BoxProps & {\r\n  checks: number\r\n  checksColor?: string\r\n  chance?: number\r\n  title: string\r\n  statuses?: MoveStatuses\r\n}\r\n\r\nexport const MoveStatusesSection = (props: MoveStatusesSectionProps) => {\r\n  const {\r\n    checks,\r\n    checksColor = 'white',\r\n    chance,\r\n    statuses,\r\n    title,\r\n    ...rest\r\n  } = props\r\n  const checksArray = Array(checks).fill(null)\r\n  return (\r\n    <Section {...rest}>\r\n      <TitleWrapper>\r\n        <Title>{title}</Title>\r\n        <Spacer />\r\n        <Box flexDirection='row' alignItems='center'>\r\n          <Box flexDirection='row' marginRight='4px'>\r\n            {checksArray.map((_, i) => (\r\n              <Icon key={i} color={checksColor} height='16px' width='16px'>\r\n                <Check />\r\n              </Icon>\r\n            ))}\r\n          </Box>\r\n\r\n          {chance !== undefined && (\r\n            <Chance>({(chance * 100).toFixed(0)}%)</Chance>\r\n          )}\r\n        </Box>\r\n      </TitleWrapper>\r\n      <StatusList statuses={statuses?.source} type='source' />\r\n      <StatusList statuses={statuses?.target} type='target' />\r\n    </Section>\r\n  )\r\n}\r\n","import { Character } from '../../types/character/character'\r\nimport {\r\n  getMoveFailureChance,\r\n  getMovePerfectChance,\r\n  Move,\r\n} from '../../types/move'\r\nimport { Box } from '../_core/Box'\r\nimport { MoveStatusesSection } from './MoveStatusesSection'\r\n\r\nexport type MoveStatusesProps = {\r\n  move: Move\r\n  character?: Character\r\n}\r\n\r\nexport const MoveStatuses = (props: MoveStatusesProps) => {\r\n  const { move, character } = props\r\n  const hasPerfectStatuses =\r\n    move.perfectStatuses &&\r\n    move.perfectStatuses.source.length + move.perfectStatuses.target.length > 0\r\n  const hasFailureStatuses =\r\n    move.failureStatuses &&\r\n    move.failureStatuses.source.length + move.failureStatuses.target.length > 0\r\n  const perfectChance = character\r\n    ? getMovePerfectChance(move, character)\r\n    : undefined\r\n  const failureChance = character\r\n    ? getMoveFailureChance(move, character)\r\n    : undefined\r\n\r\n  if (!hasFailureStatuses && !hasPerfectStatuses) return null\r\n  return (\r\n    <Box background='rgba(0,0,0,0.27)' padding='8px' margin='0 -8px'>\r\n      {hasPerfectStatuses && (\r\n        <MoveStatusesSection\r\n          checks={move.checks}\r\n          chance={perfectChance}\r\n          statuses={move.perfectStatuses}\r\n          title='ON PERFECT'\r\n        />\r\n      )}\r\n      {hasFailureStatuses && (\r\n        <MoveStatusesSection\r\n          checks={move.checks}\r\n          checksColor='rgba(255,255,255,0.36)'\r\n          chance={failureChance}\r\n          statuses={move.failureStatuses}\r\n          title='ON FAILURE'\r\n          marginTop={hasPerfectStatuses ? '6px' : 0}\r\n        />\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n","import { Move, MoveTarget } from '../../types/move'\r\nimport { Box } from '../_core/Box'\r\nimport { MoveDetailsTitle, MoveDetailsValue } from './style'\r\n\r\nconst targetTypeStringMap: Record<MoveTarget, string> = {\r\n  all: 'All',\r\n  self: 'Self',\r\n  'uncontrolled-target': 'Enemy',\r\n  'uncontrolled-splash': 'Splash',\r\n  'uncontrolled-party': 'Party',\r\n  'controlled-target': 'Ally',\r\n  'controlled-splash': 'Splash',\r\n  'controlled-party': 'Team',\r\n}\r\n\r\nexport type MoveDetailsProps = {\r\n  move: Move\r\n}\r\n\r\nexport const MoveDetails = (props: MoveDetailsProps) => {\r\n  const { move } = props\r\n  return (\r\n    <Box\r\n      flexDirection='row'\r\n      style={{ textAlign: 'center' }}\r\n      margin='8px 0 12px 0'\r\n    >\r\n      <Box flex={1}>\r\n        <MoveDetailsTitle>Target</MoveDetailsTitle>\r\n        <MoveDetailsValue>{targetTypeStringMap[move.target]}</MoveDetailsValue>\r\n      </Box>\r\n      <Box flex={1}>\r\n        <MoveDetailsTitle>Energy Cost</MoveDetailsTitle>\r\n        <MoveDetailsValue>{move.energyCost}</MoveDetailsValue>\r\n      </Box>\r\n      <Box flex={1}>\r\n        <MoveDetailsTitle>Recovery</MoveDetailsTitle>\r\n        <MoveDetailsValue>{move.recovery}</MoveDetailsValue>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { Move as MoveType, MoveTarget } from '../../types/move'\r\nimport {\r\n  AttackAccuracy,\r\n  AttackAccuracyText,\r\n  AttackPower,\r\n  AttackWrapper,\r\n  Header,\r\n  MoveDetailsValue,\r\n  MoveDetailsTitle,\r\n  Wrapper,\r\n} from './style'\r\nimport { TypeIcon } from './TypeIcon'\r\nimport { MoveStatuses } from './MoveStatuses'\r\nimport { AccuracyStats, Character } from '../../types/character/character'\r\nimport { PropsWithChildren, useMemo } from 'react'\r\nimport { getStats } from '../../types/character/util'\r\nimport { Box } from '../_core/Box'\r\nimport { ElementalIcon } from '../_core/ElementalIcon'\r\nimport { MoveDetails } from './MoveDetails'\r\n\r\nexport type MoveProps = {\r\n  move: MoveType\r\n  character?: Character\r\n}\r\n\r\nexport const Move = (props: PropsWithChildren<MoveProps>) => {\r\n  const { move, character, children } = props\r\n  const accuracy = useMemo(() => {\r\n    if (character) {\r\n      const stats = getStats(character)\r\n      return `(${\r\n        stats[`${move.type}Accuracy` as keyof AccuracyStats] + move.offset\r\n      }%)`\r\n    }\r\n    return `(${move.offset >= 0 && '+'}${move.offset})`\r\n  }, [character, move])\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Header>\r\n        <ElementalIcon type={move.element} />\r\n        <Box flex={1} paddingRight='16px'>\r\n          <span\r\n            style={{ marginLeft: 8, fontSize: 20, fontFamily: 'Trade Winds' }}\r\n          >\r\n            {move.name}\r\n          </span>\r\n        </Box>\r\n      </Header>\r\n      <AttackWrapper>\r\n        <AttackPower type={move.type}>\r\n          <TypeIcon type={move.type} />\r\n          {move.power ? (\r\n            <span style={{ marginLeft: 4 }}>{move.power}</span>\r\n          ) : null}\r\n        </AttackPower>\r\n        <AttackAccuracy>\r\n          <AttackAccuracyText checks={move.checks} style={{ marginRight: 4 }}>\r\n            {move.checks}\r\n          </AttackAccuracyText>\r\n          {'@'} {accuracy}\r\n        </AttackAccuracy>\r\n      </AttackWrapper>\r\n\r\n      <MoveDetails move={move} />\r\n      <MoveStatuses move={move} character={character} />\r\n      <Box flex={1} />\r\n      {children}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nconst inactiveColor = 'rgba(255,255,255,0.45)'\r\nconst activeColor = 'rgba(255,255,255,0.96)'\r\ntype ButtonProps = { isHovering?: boolean; disabled?: boolean }\r\nconst StyledButton = styled(Box)<ButtonProps>((p) => ({\r\n  alignItems: 'center',\r\n  background: 'rgba(0,0,0,0.18)',\r\n  border: `2px solid ${inactiveColor}`,\r\n  color: activeColor,\r\n  cursor: 'pointer',\r\n  fontSize: '14px',\r\n  lineHeight: '20px',\r\n  fontWeight: 500,\r\n  textTransform: 'uppercase',\r\n  textShadow: '0px 1px 3px rgba(0,0,0,0.54)',\r\n  fontFamily: 'Trade Winds',\r\n  ':hover': {\r\n    background: 'rgba(255,255,255,0.18)',\r\n    borderColor: activeColor,\r\n    color: activeColor,\r\n  },\r\n  ':active': {\r\n    background: 'transparent',\r\n  },\r\n  ':disabled': {\r\n    opacity: 0.36,\r\n    background: 'rgba(255,255,255,0.09)',\r\n    cursor: 'not-allowed',\r\n  },\r\n  ...(p.isHovering\r\n    ? {\r\n        opacity: 1,\r\n        background: 'rgba(255,255,255,0.18)',\r\n        borderColor: activeColor,\r\n        color: activeColor,\r\n      }\r\n    : {}),\r\n}))\r\n\r\nexport const Button = (props: BoxProps & ButtonProps) => (\r\n  <StyledButton as='button' {...props} />\r\n)\r\n\r\nButton.defaultProps = {\r\n  padding: '4px 16px',\r\n  borderRadius: '4px',\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box } from '../Box'\r\n\r\nexport const Spacer = styled(Box)({\r\n  flex: 1,\r\n  height: '0px',\r\n})\r\n\r\nSpacer.defaultProps = {\r\n  margin: 'auto 16px',\r\n  borderBottom: '1px solid rgba(255,255,255,0.24)',\r\n}\r\n","import { ReactChild, ReactNode } from 'react'\r\nimport { Box, BoxProps } from '../_core/Box'\r\n\r\nexport type CombatBodySectionProps = BoxProps & {\r\n  title: ReactChild | Element\r\n}\r\n\r\nexport const CombatBodySection = (props: CombatBodySectionProps) => {\r\n  const { title, children, ...rest } = props\r\n  return (\r\n    <Box flex='1' overflow='hidden' {...rest}>\r\n      <Box\r\n        alignItems='center'\r\n        color='white'\r\n        flexDirection='row'\r\n        marginBottom='24px'\r\n        justifyContent='center'\r\n        textAlign='center'\r\n        style={{ fontSize: '24px', fontWeight: 400, fontFamily: 'Trade Winds' }}\r\n      >\r\n        {title}\r\n      </Box>\r\n      {children}\r\n    </Box>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { config, useSpring } from 'react-spring'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\nimport { theme } from '../../theme'\r\nimport { getStats } from '../../types/character/util'\r\nimport { Move as MoveType } from '../../types/move'\r\nimport { CombatCharacterAvatar } from '../CombatCharacterAvatar'\r\nimport { Move } from '../Move'\r\nimport { Box } from '../_core/Box'\r\nimport { Button } from '../_core/Button'\r\nimport { ElementalIcon } from '../_core/ElementalIcon'\r\nimport { Spacer } from '../_core/Spacer'\r\nimport { CombatBodySection } from './CombatBodySection'\r\n\r\nexport type CombatBodyActionsProps = {}\r\n\r\nexport const CombatBodyActions = (props: CombatBodyActionsProps) => {\r\n  const { getActiveCharacter, isCharacterPlayerCharacter } = useCombat()\r\n  const { bufferMove } = useCombatBuffer()\r\n  const character = getActiveCharacter()\r\n  const [activeMove, setActiveMove] = useState<MoveType | undefined>(\r\n    character?.moves[0],\r\n  )\r\n  const stats = character ? getStats(character) : undefined\r\n\r\n  const styles = useSpring({\r\n    opacity: 1,\r\n    from: { opacity: 0 },\r\n    config: config.molasses,\r\n  })\r\n\r\n  return (\r\n    <CombatBodySection\r\n      title={\r\n        (\r\n          <Box flex={1}>\r\n            <Box flexDirection='row'>\r\n              <Spacer />\r\n              <Box marginBottom='16px'>\r\n                <span>\r\n                  <span>{character?.name}'s</span> Turn\r\n                </span>\r\n              </Box>\r\n              <Spacer />\r\n            </Box>\r\n            <Box>Select an Action</Box>\r\n          </Box>\r\n        ) as any\r\n      }\r\n    >\r\n      <Box\r\n        flexDirection='row'\r\n        justifyContent='center'\r\n        padding='8px 24px'\r\n        overflow='hidden'\r\n        style={styles}\r\n      >\r\n        <Box flex={1} />\r\n        <Box maxWidth='640px' overflow='hidden'>\r\n          <Box flexDirection='row' alignItems='flex-end'>\r\n            {character && (\r\n              <CombatCharacterAvatar\r\n                character={character}\r\n                position='absolute'\r\n                marginRight='-8px'\r\n                marginLeft='-16px'\r\n                marginBottom='-16px'\r\n                borderRadius='50%'\r\n                height='56px'\r\n                width='56px'\r\n                zIndex={2}\r\n              />\r\n            )}\r\n            <Box flexDirection='row' alignItems='center' paddingLeft='32px'>\r\n              <Button\r\n                isHovering={true}\r\n                marginRight='4px'\r\n                borderRadius='4px 4px 0 0'\r\n                style={{ borderBottom: 'none' }}\r\n              >\r\n                Attacks\r\n              </Button>\r\n              <Button\r\n                borderRadius='4px 4px 0 0'\r\n                style={{ borderBottom: 'none' }}\r\n              >\r\n                Items\r\n              </Button>\r\n            </Box>\r\n          </Box>\r\n          <Box\r\n            alignItems='flex-start'\r\n            background='rgba(0,0,0,0.09)'\r\n            border={`1px solid ${theme.white6}`}\r\n            padding='8px'\r\n            flex='1'\r\n            flexDirection='row'\r\n          >\r\n            <Box\r\n              flex='1'\r\n              padding='8px 4px 8px 8px'\r\n              overflowY='scroll'\r\n              maxHeight='288px'\r\n            >\r\n              {character?.moves?.map((move) => (\r\n                <Box onMouseEnter={() => setActiveMove(move)}>\r\n                  <Button\r\n                    key={move.id}\r\n                    alignItems='center'\r\n                    flexDirection='row'\r\n                    marginTop='8px'\r\n                    padding='8px'\r\n                    width='200px'\r\n                    disabled={\r\n                      !stats ||\r\n                      stats.energy - character.energyOffset < move.energyCost\r\n                    }\r\n                    isHovering={move.id === activeMove?.id}\r\n                    onClick={() => {\r\n                      bufferMove(move)\r\n                    }}\r\n                  >\r\n                    <ElementalIcon height='20px' type={move.element} />\r\n                    <Box>{move.name}</Box>\r\n                  </Button>\r\n                </Box>\r\n              ))}\r\n            </Box>\r\n            <Box flex='1' justifyContent='center'>\r\n              {activeMove && (\r\n                <Move move={activeMove} character={character}></Move>\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n        <Box flex={1} />\r\n      </Box>\r\n    </CombatBodySection>\r\n  )\r\n}\r\n","import { config, useSpring } from 'react-spring'\r\nimport styled from 'styled-components'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\nimport { theme } from '../../theme'\r\nimport { Character } from '../../types/character/character'\r\nimport { CombatCharacterAvatar } from '../CombatCharacterAvatar'\r\nimport { Box } from '../_core/Box'\r\nimport { Button } from '../_core/Button'\r\nimport { CombatBodySection } from './CombatBodySection'\r\n\r\nconst Spacer = styled(Box)({\r\n  flex: 1,\r\n  height: '0px',\r\n  borderBottom: '1px solid rgba(255,255,255,0.24)',\r\n  margin: 'auto 16px',\r\n})\r\n\r\nexport type CombatBodyTargetsProps = {\r\n  targetsOptions: Character[][]\r\n}\r\n\r\nexport const CombatBodyTargets = (props: CombatBodyTargetsProps) => {\r\n  const { targetsOptions } = props\r\n  const { moveBuffer, setMoveBuffer, setTargetsBuffer } = useCombatBuffer()\r\n\r\n  const styles = useSpring({\r\n    opacity: 1,\r\n    from: { opacity: 0 },\r\n    config: config.molasses,\r\n  })\r\n\r\n  return (\r\n    <CombatBodySection\r\n      title={\r\n        (\r\n          <Box flex={1}>\r\n            <Box flexDirection='row'>\r\n              <Spacer />\r\n              <Box marginBottom='16px'>\r\n                <span>\r\n                  <span>{moveBuffer?.name}</span> Selected\r\n                </span>\r\n              </Box>\r\n              <Spacer />\r\n            </Box>\r\n            <Box>Select Target(s)</Box>\r\n          </Box>\r\n        ) as any\r\n      }\r\n    >\r\n      <Box flexDirection='row' justifyContent='center' style={styles}>\r\n        {targetsOptions.map((targets, i) => (\r\n          <Box\r\n            key={i}\r\n            padding='16px'\r\n            margin='4px'\r\n            border='1px solid black'\r\n            alignItems='center'\r\n            background={theme.boxGradient}\r\n          >\r\n            {targets.map((target) => (\r\n              <CombatCharacterAvatar\r\n                key={target.id}\r\n                height='80px'\r\n                width='80px'\r\n                character={target}\r\n              />\r\n            ))}\r\n            <Button marginTop='8px' onClick={() => setTargetsBuffer(targets)}>\r\n              {targets.reduce((str, target, i) => {\r\n                return (\r\n                  str + target.name + (i !== targets.length - 1 ? ', ' : '')\r\n                )\r\n              }, '')}\r\n            </Button>\r\n          </Box>\r\n        ))}\r\n      </Box>\r\n      <Box marginTop='32px' flexDirection='row' justifyContent='center'>\r\n        <Button onClick={() => setMoveBuffer(undefined)}>\r\n          Back to Action Select\r\n        </Button>\r\n      </Box>\r\n    </CombatBodySection>\r\n  )\r\n}\r\n","import { SpringValue } from '@react-spring/core'\r\nimport { SpringConfig, useSpring } from 'react-spring'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport interface AnimatedNumberProps extends Omit<BoxProps, 'children'> {\r\n  value: SpringValue<number>\r\n}\r\n\r\nexport const AnimatedNumber = (props: AnimatedNumberProps) => {\r\n  const { value, ...rest } = props\r\n  return <Box {...rest}>{value.to((v) => v.toFixed(0))}</Box>\r\n}\r\n\r\nexport type AnimatedNumberValueProps = Omit<BoxProps, 'children'> & {\r\n  children: number\r\n  config?: SpringConfig\r\n}\r\n\r\nexport const AnimatedNumberValue = (props: AnimatedNumberValueProps) => {\r\n  const { children, config } = props\r\n  const { value } = useSpring({\r\n    value: children,\r\n    config,\r\n  })\r\n  return <AnimatedNumber value={value} />\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M378.321 58.818c-3.95 6.585-5.374 14.345-2.228 20.761 8.425 5.494 50.968 15.802 47.286 29.773-.784 2.301-1.087 3.54-1.515 5.224-7.4-6.764-22.462-10.05-27.902-9.049-4.832.843-9.721 3.05-14.44 3.248-5.986-.032-11.34-1.516-15.925-4.254 3.24 8.943 14.85 15.537 22.049 14.412 11.318-2.258 23.535 3.723 31.779 6.67-5.055 13.86-22.014 7.334-22.014 7.334l-121.937-28.02L253.44 90.45 236.1 108.17l88.945 29.131-120.023 2.676-29.907-12.486-40.77 23.617 182.99 13.291-56.212 59.426h99.22c19.341-15.746 63.009-51.2 63.645-50.793 12.867 29.973 33.256 19.023 48.815 1.55 4.515-5.069 9.47 12.362 12.021-16.015.64-1 1.217-2.011 1.772-3.03-18.028-7.661-48.58 5.732-31.817-17.992 5.135-7.262 20.776-5.296 36.871 3.97.582-15.262-1.056-42.396-15.484-48.39-14.85-6.169-34.024-5.48-41.316 2.682-9.946-16.88-39.574-19.07-51.307-20.764-3.453-5.429-4.558-10.479-5.223-16.226zm-188.328 59.236l-4.558 4.034 16.138 6.853 10.852-10.887zm276.578 24.354c6.542 4.808 7.01 5.943 11.393 6.1 1.597-1.021 5.12-4.613 1.857-5.37l-11.04-2.203c-1.14-.204-2.02.646-2.21 1.473zM148.167 160.44l-5.95 5.264h22.43l5.952-5.264zm-39.285 13.598l-12 15.357h15.855l5.461-6.414h42.592l-7.937 6.94h15.953l16-15.356zm15.664 15.933L20.251 309.592l23.027-4.516 98.618-115.104zM251.3 234.216L119.878 373.16l-16.697 4.265s-12.898 29.813-18.834 65.059c7.659 4.113 17.39-8.02 17.39-8.02s-1.1 13.09 6.64 9.743c14.097-28.569 29.864-58.248 29.864-58.248l159.721-121.877 20.994 5.584 27.758 7.386-62.557 58.727-11.238-12.15s-34.319 38.069-47.305 66.224c4.13 4.74 20.33-7.64 20.33-7.64s-5.369 9.615 1.932 9.31c17.808-16.694 29.682-29.826 29.682-29.826l132.82-98.543-48.23-28.938z\"\n});\n\nfunction SvgRunningNinja(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRunningNinja);\nexport default __webpack_public_path__ + \"static/media/running-ninja.385acc30.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M13.03 14.156V60.47l119.782 144c10.884-12.14 22.31-24.247 34.282-36.22 11.13-11.13 22.32-21.773 33.53-31.938L54.065 14.156H13.03zm432.533 5.97c-2.307.043-4.7.183-7.188.405-19.907 1.777-44.893 9.52-72.656 22.782-45.372 21.676-98.133 57.952-150.564 105.126l-.03-.032c-.96.864-1.918 1.754-2.876 2.625-1.927 1.75-3.856 3.504-5.78 5.282-.034.03-.063.064-.095.094-2.795 2.583-5.585 5.17-8.375 7.813-.107.1-.205.21-.313.31-2.9 2.75-5.796 5.562-8.687 8.376-2.902 2.825-5.797 5.674-8.688 8.563-.078.077-.17.14-.25.218l-.812.812C116.164 245.746 68.015 312.14 41.5 367.53c-13.316 27.82-21.125 52.866-22.938 72.814-1.812 19.948 2.15 34.025 10.97 42.844 8.818 8.818 22.895 12.78 42.843 10.968 19.948-1.812 44.995-9.59 72.813-22.906 36.475-17.46 77.708-44.312 119.687-78.625l-13-15.625c-76.125 63.634-142.623 97.127-161.97 77.78-21.25-21.25 21.226-99.45 97.407-184.75l.344.408c12.673-14.077 26.176-28.306 40.438-42.563 12.84-12.838 25.715-25.043 38.47-36.594l-.408-.343c86.176-77.464 165.56-120.875 187-99.437 19.556 19.554-14.89 87.342-79.875 164.5l15.658 13.03c35.244-42.798 62.73-84.904 80.468-122.03 13.264-27.763 21.037-52.75 22.813-72.656 1.775-19.907-2.235-33.953-11.064-42.78-7.725-7.726-19.446-11.746-35.594-11.44zM281.03 203.343c-13.175 11.87-26.468 24.473-39.75 37.75-14.714 14.71-28.594 29.393-41.56 43.875l66.436 79.874c-.017.014-.045.016-.062.03l13.125 15.75.03-.03 46.03 55.344c-25.77 6.714-52.722 5.31-77.03-7.657 4.94 6.544 9.707 13.083 15.72 19.095 58.928 58.93 146.78 66.75 196.092 17.438 49.314-49.314 41.523-137.165-17.406-196.094-3.683-3.685-6.796-7.407-10.687-10.69-2.463-2.075-5.342-3.71-7.876-5.624 14.742 25.24 16.597 52.502 9.625 78.22L281.03 203.343z\"\n});\n\nfunction SvgHypersonicBolt(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgHypersonicBolt);\nexport default __webpack_public_path__ + \"static/media/hypersonic-bolt.08ddc80c.svg\";\nexport { ForwardRef as ReactComponent };","import { useChain, useSpring, useSpringRef } from '@react-spring/web'\r\nimport styled from 'styled-components'\r\nimport { ReactComponent as CheckIcon } from '../../../icons/delapouite/dice-target.svg'\r\nimport { Icon } from '../Icon'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nconst Wrapper = styled(Box)((p) => ({\r\n  position: 'relative',\r\n  overflow: 'hidden',\r\n  borderStyle: 'solid',\r\n  boxShadow: '0px 0px 5px rgba(0,0,0,0.5) inset',\r\n}))\r\n\r\nconst Inner = styled(Box)(() => ({\r\n  boxShadow: '1px 0px 1px rgba(0,0,0,1)',\r\n  zIndex: 2,\r\n}))\r\n\r\nexport type CheckProps = BoxProps & {\r\n  size: number\r\n  delay?: number\r\n  value: boolean\r\n  isDone?: boolean\r\n  nullColor?: string\r\n  failureColor?: string\r\n  successColor?: string\r\n  backgroundColor?: string\r\n  onRest?: () => void\r\n}\r\n\r\nexport const Check = (props: CheckProps) => {\r\n  const {\r\n    isDone = false,\r\n    value,\r\n    size,\r\n    padding = '6px',\r\n    borderWidth = '3px',\r\n    margin = '8px',\r\n    delay = 0,\r\n    nullColor = 'rgba(255,255,255,0.09)',\r\n    failureColor = 'rgba(255,255,255,0.18)',\r\n    successColor = 'rgba(255,255,255,1)',\r\n    backgroundColor = 'rgba(255,255,255,0.054)',\r\n    children,\r\n    onRest,\r\n    ...rest\r\n  } = props\r\n\r\n  const dropDuration = 300\r\n  const dropRef = useSpringRef()\r\n  const drop = useSpring({\r\n    ref: dropRef,\r\n    from: { top: isDone ? 0 : -size },\r\n    top: 0,\r\n    config: { duration: dropDuration },\r\n    delay: delay,\r\n  })\r\n\r\n  const shakeDuration = 100\r\n  const shakeRef = useSpringRef()\r\n  const shake = useSpring({\r\n    ref: shakeRef,\r\n    from: { x: 1 },\r\n    to: { x: isDone ? 1 : 0 },\r\n    config: { duration: shakeDuration },\r\n    delay: delay + dropDuration,\r\n    onRest: () => {\r\n      onRest && onRest()\r\n    },\r\n  })\r\n\r\n  const borderRef = useSpringRef()\r\n  const border = useSpring({\r\n    ref: borderRef,\r\n    from: {\r\n      borderColor: nullColor,\r\n    },\r\n    to: {\r\n      borderColor: isDone ? (value ? successColor : failureColor) : nullColor,\r\n    },\r\n  })\r\n\r\n  const shadowColor = value ? 'rgba(0,0,0,1)' : 'rgba(0,0,0,0.3)'\r\n  const shadowValue = isDone\r\n    ? `0px 0px 20px ${shadowColor} inset`\r\n    : `0px 0px 0px ${shadowColor} inset`\r\n\r\n  const shadow = useSpring({\r\n    boxShadow: shadowValue,\r\n    backgroundColor: backgroundColor,\r\n  })\r\n\r\n  useChain([dropRef, shakeRef, borderRef])\r\n  return (\r\n    <Wrapper\r\n      {...rest}\r\n      height={size}\r\n      width={size}\r\n      borderWidth={borderWidth}\r\n      margin={margin}\r\n      style={{\r\n        ...border,\r\n        transform: shake.x\r\n          .to({\r\n            range: [0, 0.5, 1],\r\n            output: [0, isDone ? 0 : size / 6, 0],\r\n          })\r\n          .to((x) => `translate3d(0px, ${x}px, 0px)`),\r\n      }}\r\n    >\r\n      <Inner\r\n        height={size}\r\n        width={size}\r\n        position='absolute'\r\n        style={{\r\n          ...drop,\r\n          ...shadow,\r\n          fill: border.borderColor,\r\n        }}\r\n      >\r\n        <Icon flex={1} padding={padding}>\r\n          {children || <CheckIcon />}\r\n        </Icon>\r\n      </Inner>\r\n    </Wrapper>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M436.406 29.625l-18.094 42.22-48.562 5.905 42.156 25.656 1.375 13.47C367.938 90.74 302.435 75.36 214.78 82.31l-20.186-3.343-24.125-38.407.5 39.78-49.22 16.438 55.063 4.564 7.843 33.78 17.094-37.78 17.906-2.75c203.993 22.03 277.475 204.75 77.875 207.625l5.22-37.595 36.75-43.72-51.344-24.968-30.22-48.468-39.623 41.124-4.125 1.03C-8.4 163.078-31.708 304.485 98.844 376.125l-11.938 12.688L39.844 374.5l33.03 39.406-15.124 42.53 36.375-31.155 47.03 18.095-30.374-43.875 4.69-15.03c62.43 28.648 153.852 42.16 270.5 20.717-241.042 33.38-364.142-137.94-219.283-195.687l23.032 43.25-4 56.97 56.218-9.97 19.25 7.813c218.255 102.608 297.46-83.917 171.843-177.75l14.376-22.22 46.47-16.5-41.907-14.812-15.564-46.655zM34.53 79.03l4.845 26.095-19.47 22 27.22-3.25 17.563 23.344.687-29.47 24.78-17.906-33.218-1.72-22.406-19.093zm358.564 298.5l14.25 51.658-31.375 41.062 49.592-12.688 33.688 34.282-2.53-51.406 35.217-30.375-51.593 1.562-47.25-34.094z\"\n});\n\nfunction SvgStarSwirl(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStarSwirl);\nexport default __webpack_public_path__ + \"static/media/star-swirl.58a85c13.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M292.53 20.5l19 40.594L66.314 28.75 362.03 158.125l-18.967-40.594 149.218 15.282L292.53 20.5zm-252 23.375L318.314 413.97 312.906 348l184.97 146.5L294 186.656l5.406 65.97L40.53 43.875zM20.907 76.22l36.5 316.405L83.03 351.75l68.095 139.344-9.594-241.125-25.624 40.843-95-214.594z\"\n});\n\nfunction SvgLightningTrio(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLightningTrio);\nexport default __webpack_public_path__ + \"static/media/lightning-trio.2c6165fd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M245.05 15.514c34.29 48.815-23.535 320.54-90.302 136.72C106.796 325.11 38.956 332.518 38.876 252.55c-71.6 79.31 43.824 220.767 87.376 243.935h52.127c-45.92-40.016-76.784-78-82.176-135.968 47.312 9.423 71.855 20.96 81.263-62.048 60.736 86.59 100.944-49.376 137.184-107.12-1.647 40.32-3.343 93.456 22.848 129.888 8.736 12.143 33.232 16.11 54.736 15.807-9.92 16.08-44.848 69.376-17.008 89.2 27.84 19.824 33.072-.384 25.856 16.176-13.264 20.88-22.992 39.375-59.072 54.063h56.064c59.44-18.72 111.807-91.663 94.607-135.535-22.015 18.657-43.774 30.897-61.294 29.537 49.12-72.08 37.84-145.903 14.752-221.342-20.224 72.383-33.488 82.495-54.576 99.52 29.104-68.657-85.44-214.448-146.51-253.15z\"\n});\n\nfunction SvgFlame(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFlame);\nexport default __webpack_public_path__ + \"static/media/flame.b55b5992.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M255.76 44.764c-6.176 0-12.353 1.384-17.137 4.152L85.87 137.276c-9.57 5.536-9.57 14.29 0 19.826l152.753 88.36c9.57 5.536 24.703 5.536 34.272 0l152.753-88.36c9.57-5.535 9.57-14.29 0-19.825l-152.753-88.36c-4.785-2.77-10.96-4.153-17.135-4.153zm-.824 53.11c9.013.097 17.117 2.162 24.31 6.192 4.92 2.758 8.143 5.903 9.666 9.438 1.473 3.507 1.56 8.13.26 13.865l-1.6 5.706c-1.06 4.083-1.28 7.02-.66 8.81.57 1.764 1.983 3.278 4.242 4.544l3.39 1.898-33.235 18.62-3.693-2.067c-4.118-2.306-6.744-4.912-7.883-7.82-1.188-2.935-.99-7.603.594-14.005l1.524-5.748c.887-3.423.973-6.23.26-8.418-.653-2.224-2.134-3.983-4.444-5.277-3.515-1.97-7.726-2.676-12.63-2.123-4.956.526-10.072 2.268-15.35 5.225-4.972 2.785-9.487 6.272-13.55 10.46-4.112 4.162-7.64 8.924-10.587 14.288L171.9 138.21c5.318-5.34 10.543-10.01 15.676-14.013 5.134-4 10.554-7.6 16.262-10.8 14.976-8.39 28.903-13.38 41.78-14.967 3.208-.404 6.315-.59 9.32-.557zm50.757 56.7l26.815 15.024-33.235 18.62-26.816-15.023 33.236-18.62zM75.67 173.84c-5.753-.155-9.664 4.336-9.664 12.28v157.696c0 11.052 7.57 24.163 17.14 29.69l146.93 84.848c9.57 5.526 17.14 1.156 17.14-9.895V290.76c0-11.052-7.57-24.16-17.14-29.688l-146.93-84.847c-2.69-1.555-5.225-2.327-7.476-2.387zm360.773.002c-2.25.06-4.783.83-7.474 2.385l-146.935 84.847c-9.57 5.527-17.14 18.638-17.14 29.69v157.7c0 11.05 7.57 15.418 17.14 9.89L428.97 373.51c9.57-5.527 17.137-18.636 17.137-29.688v-157.7c0-7.942-3.91-12.432-9.664-12.278zm-321.545 63.752c6.553 1.366 12.538 3.038 17.954 5.013 5.415 1.976 10.643 4.417 15.68 7.325 13.213 7.63 23.286 16.324 30.218 26.082 6.932 9.7 10.398 20.046 10.398 31.04 0 5.64-1.055 10.094-3.168 13.364-2.112 3.212-5.714 5.91-10.804 8.094l-5.2 1.92c-3.682 1.442-6.093 2.928-7.23 4.46-1.137 1.472-1.705 3.502-1.705 6.092v3.885l-29.325-16.933v-4.23c0-4.72.892-8.376 2.68-10.97 1.787-2.652 5.552-5.14 11.292-7.467l5.2-2.006c3.087-1.21 5.334-2.732 6.742-4.567 1.46-1.803 2.192-4.028 2.192-6.676 0-4.027-1.3-7.915-3.9-11.66-2.6-3.804-6.227-7.05-10.885-9.74-4.387-2.532-9.126-4.29-14.217-5.272-5.09-1.04-10.398-1.254-15.922-.645v-27.11zm269.54 8.607c1.522 0 2.932.165 4.232.493 6.932 1.696 10.398 8.04 10.398 19.034 0 5.64-1.056 11.314-3.168 17.023-2.112 5.65-5.714 12.507-10.804 20.568l-5.2 7.924c-3.682 5.695-6.093 9.963-7.23 12.807-1.137 2.785-1.705 5.473-1.705 8.063v3.885l-29.325 16.932v-4.23c0-4.72.894-9.41 2.68-14.067 1.79-4.715 5.552-11.55 11.292-20.504l5.2-8.01c3.087-4.776 5.334-8.894 6.742-12.354 1.46-3.492 2.192-6.562 2.192-9.21 0-4.028-1.3-6.414-3.898-7.158-2.6-.8-6.23.142-10.887 2.83-4.387 2.533-9.124 6.25-14.215 11.145-5.09 4.84-10.398 10.752-15.922 17.74v-27.11c6.553-6.2 12.536-11.44 17.95-15.718 5.417-4.278 10.645-7.87 15.68-10.777 10.738-6.2 19.4-9.302 25.99-9.307zm-252.723 94.515l29.326 16.93v30.736l-29.325-16.93v-30.735zm239.246 8.06v30.735l-29.325 16.93v-30.733l29.326-16.932z\"\n});\n\nfunction SvgPerspectiveDiceSixFacesRandom(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPerspectiveDiceSixFacesRandom);\nexport default __webpack_public_path__ + \"static/media/perspective-dice-six-faces-random.6ee9d245.svg\";\nexport { ForwardRef as ReactComponent };","import { FunctionComponent } from 'react'\r\nimport { Status } from '../../../types/status/status'\r\nimport { BoxProps } from '../Box'\r\nimport { Icon } from '../Icon'\r\nimport { ReactComponent as Dazed } from '../../../icons/lorc/star-swirl.svg'\r\nimport { ReactComponent as Shocked } from '../../../icons/lorc/lightning-trio.svg'\r\nimport { ReactComponent as Burned } from '../../../icons/carl-olsen/flame.svg'\r\nimport { ReactComponent as Na } from '../../../icons/delapouite/perspective-dice-six-faces-random.svg'\r\n\r\nconst iconMap: Record<string, FunctionComponent> = {\r\n  Burned: Burned,\r\n  Dazed: Dazed,\r\n  Shocked: Shocked,\r\n}\r\n\r\nexport type StatusIconProps = BoxProps & {\r\n  status: Status\r\n}\r\n\r\nexport const StatusIcon = (props: StatusIconProps) => {\r\n  const { status, ...rest } = props\r\n  const Body = iconMap[status.name] || Na\r\n  return (\r\n    <Icon {...rest}>\r\n      <Body />\r\n    </Icon>\r\n  )\r\n}\r\n\r\nStatusIcon.defaultProps = {\r\n  height: '20px',\r\n  width: '20px',\r\n}\r\n","import { useState } from 'react'\r\n\r\nexport const useList = <T>(\r\n  count: number,\r\n  defaultValue: T,\r\n): [T[], (index: number, value: T) => void] => {\r\n  const [list, setList] = useState<T[]>(Array(count).fill(defaultValue))\r\n  const set = (index: number, value: T) =>\r\n    setList((_list) => _list.map((v, i) => (i === index ? value : v)))\r\n  return [list, set]\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useSpring } from 'react-spring'\r\nimport { MoveResult } from '../../types/move'\r\nimport { CombatCharacterAvatar } from '../CombatCharacterAvatar'\r\nimport { AnimatedNumber } from '../_core/AnimatedNumber'\r\nimport { Box } from '../_core/Box'\r\nimport { ReactComponent as Evade } from '../../icons/darkzaitzev/running-ninja.svg'\r\nimport { ReactComponent as Crit } from '../../icons/lorc/hypersonic-bolt.svg'\r\nimport { theme } from '../../theme'\r\nimport { Check } from '../_core/Check'\r\nimport { StatusIcon } from '../_core/StatusIcon'\r\nimport { useList } from '../../hooks/useList'\r\n\r\nexport type CombatMoveResultsDetailsProps = {\r\n  moveResults: MoveResult[]\r\n  resultsDone: boolean\r\n  onDone?: () => void\r\n}\r\n\r\nexport const CombatMoveResultsDetails = (\r\n  props: CombatMoveResultsDetailsProps,\r\n) => {\r\n  const { moveResults, resultsDone, onDone } = props\r\n  const [resultsDoneArray, setResultDone] = useList<boolean>(\r\n    moveResults.length,\r\n    false,\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (resultsDoneArray.every(Boolean) && !resultsDone) {\r\n      onDone && onDone()\r\n    }\r\n  }, [resultsDoneArray])\r\n\r\n  return (\r\n    <Box\r\n      padding='16px 8px'\r\n      background={theme.boxGradient}\r\n      border={`1px solid ${theme.white5}`}\r\n    >\r\n      <Box\r\n        color='white'\r\n        marginBottom='8px'\r\n        textAlign='center'\r\n        style={{ fontFamily: 'Trade Winds' }}\r\n      >\r\n        Targets\r\n      </Box>\r\n      {moveResults.map((result, i) => (\r\n        <Box key={i} marginTop={i > 0 ? '12px' : 0}>\r\n          <TargetResult\r\n            result={result}\r\n            resultsDone={resultsDone}\r\n            onDone={() => setResultDone(i, true)}\r\n          />\r\n        </Box>\r\n      ))}\r\n      <SourceResults\r\n        result={moveResults[0]}\r\n        resultsDone={resultsDone}\r\n        onDone={() => {}}\r\n      />\r\n    </Box>\r\n  )\r\n}\r\n\r\ntype TargetResultProps = {\r\n  result: MoveResult\r\n  resultsDone: boolean\r\n  onDone: () => void\r\n}\r\nconst TargetResult = (props: TargetResultProps) => {\r\n  const { result, resultsDone, onDone } = props\r\n  const [damageDone, setDamageDone] = useState(resultsDone)\r\n  const [dodgeDone, setDodgeDone] = useState(false)\r\n  const [critDone, setCritDone] = useState(false)\r\n  const [statusesDoneArray, setStatusDone] = useList<boolean>(\r\n    result.statuses.target.length,\r\n    resultsDone,\r\n  )\r\n\r\n  const wrapper = useSpring({\r\n    from: { opacity: 0 },\r\n    to: { opacity: 1 },\r\n    config: {\r\n      duration: 200,\r\n    },\r\n    onRest: () => {\r\n      if (result.totalDamage === 0) {\r\n        setDamageDone(true)\r\n      }\r\n    },\r\n  })\r\n  const damage = useSpring({\r\n    damage: result.totalDamage,\r\n    from: {\r\n      damage: damageDone ? result.totalDamage : 0,\r\n    },\r\n    config: {\r\n      mass: 10,\r\n      tension: 320,\r\n      friction: 110,\r\n      clamp: true,\r\n    },\r\n    onRest: () => setDamageDone(true),\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (damageDone && statusesDoneArray.every(Boolean)) {\r\n      onDone()\r\n    }\r\n  }, [damageDone, statusesDoneArray])\r\n\r\n  return (\r\n    <Box style={wrapper} overflow='hidden'>\r\n      <Box flexDirection='row' alignItems='center' justifyContent='center'>\r\n        <CombatCharacterAvatar\r\n          height='36px'\r\n          width='36px'\r\n          margin='8px'\r\n          character={result.target}\r\n        />\r\n        {result.move.power ? (\r\n          <Box width='100px' alignItems='center' position='relative'>\r\n            <AnimatedNumber\r\n              color={result.critical && damageDone ? 'lightblue' : 'white'}\r\n              style={{ fontSize: '32px', fontWeight: 900 }}\r\n              value={damage.damage}\r\n            />\r\n          </Box>\r\n        ) : null}\r\n        {result.source.id !== result.target.id && (\r\n          <Box alignItems='center' position='relative'>\r\n            <Check\r\n              size={32}\r\n              borderWidth='2px'\r\n              value={result.dodged}\r\n              isDone={dodgeDone}\r\n              successColor={theme.statsPink}\r\n              onRest={() => setDodgeDone(true)}\r\n            >\r\n              <Evade />\r\n            </Check>\r\n            {result.dodged && damageDone && (\r\n              <Box\r\n                position='absolute'\r\n                justifyContent='center'\r\n                alignItems='center'\r\n                style={{\r\n                  fontSize: '18px',\r\n                  inset: '0px',\r\n                  color: 'rgba(255,255,255,1)',\r\n                  fontFamily: 'Trade Winds',\r\n                  textShadow: '0px 2px 10px rgba(0,0,0,0.81)',\r\n                }}\r\n              >\r\n                Dodged!\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        )}\r\n        {result.source.id !== result.target.id && (\r\n          <Box alignItems='center' position='relative'>\r\n            <Check\r\n              size={32}\r\n              borderWidth='2px'\r\n              value={result.critical}\r\n              isDone={critDone}\r\n              successColor={'powderblue'}\r\n              onRest={() => setCritDone(true)}\r\n            >\r\n              <Crit />\r\n            </Check>\r\n            {result.critical && damageDone && (\r\n              <Box\r\n                position='absolute'\r\n                justifyContent='center'\r\n                alignItems='center'\r\n                style={{\r\n                  fontSize: '18px',\r\n                  inset: '0px',\r\n                  color: 'rgba(255,255,255,1)',\r\n                  fontFamily: 'Trade Winds',\r\n                  textShadow: '0px 2px 10px rgba(0,0,0,0.81)',\r\n                }}\r\n              >\r\n                CRIT!\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        )}\r\n      </Box>\r\n      <Box height={result.statuses.target.length ? '32px' : '0px'}>\r\n        {damageDone && (\r\n          <Box flexDirection='row' justifyContent='center'>\r\n            {result.statuses.target.map((status, i) => (\r\n              <Box\r\n                key={status.id}\r\n                color='white'\r\n                flexDirection='row'\r\n                alignItems='center'\r\n                padding='0 4px'\r\n              >\r\n                <Check\r\n                  size={20}\r\n                  padding='2px'\r\n                  borderWidth={'2px'}\r\n                  margin='4px'\r\n                  value={status.isApplied}\r\n                  isDone={statusesDoneArray[i]}\r\n                  successColor={theme.statsGreen}\r\n                  onRest={() => setStatusDone(i, true)}\r\n                >\r\n                  {<StatusIcon status={status} height='16px' width='16px' />}\r\n                </Check>\r\n                <Box opacity={status.isApplied ? 1 : 0.54}>{status.name}</Box>\r\n              </Box>\r\n            ))}\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n\r\nexport const SourceResults = (props: TargetResultProps) => {\r\n  const { result, resultsDone, onDone } = props\r\n  const [statusesDoneArray, setStatusDone] = useList<boolean>(\r\n    result.statuses.source.length,\r\n    resultsDone,\r\n  )\r\n\r\n  if (!result || result.statuses.source.length === 0) return null\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        color='white'\r\n        marginTop='8px'\r\n        textAlign='center'\r\n        style={{ fontFamily: 'Trade Winds' }}\r\n      >\r\n        Source\r\n      </Box>\r\n      {result.statuses.source.map((status, i) => (\r\n        <Box\r\n          key={status.id}\r\n          color='white'\r\n          flexDirection='row'\r\n          justifyContent='center'\r\n          alignItems='center'\r\n          padding='0 4px'\r\n        >\r\n          <Check\r\n            size={20}\r\n            padding='2px'\r\n            borderWidth={'2px'}\r\n            value={status.isApplied}\r\n            isDone={statusesDoneArray[i]}\r\n            successColor={theme.statsGreen}\r\n            onRest={() => setStatusDone(i, true)}\r\n          >\r\n            {<StatusIcon status={status} height='16px' width='16px' />}\r\n          </Check>\r\n          <Box opacity={status.isApplied ? 1 : 0.54}>{status.name}</Box>\r\n        </Box>\r\n      ))}\r\n    </>\r\n  )\r\n}\r\n","import { PropsWithChildren } from 'react'\r\nimport { useSpring } from 'react-spring'\r\nimport styled from 'styled-components'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport type ResultTextProps = {\r\n  perfect: boolean\r\n  miss: boolean\r\n  resultsDone: boolean\r\n  perfectTextColor: string\r\n}\r\n\r\nconst Text = styled(Box)({\r\n  fontWeight: 700,\r\n  fontSize: '48px',\r\n})\r\n\r\nexport const ResultText = (props: PropsWithChildren<ResultTextProps>) => {\r\n  const { perfect, miss, resultsDone, perfectTextColor, children } = props\r\n  const perfectStyles = useSpring({\r\n    from: {\r\n      textShadow: '0px 0px 40px rgba(255,255,255,1)',\r\n    },\r\n    to: {\r\n      textShadow: resultsDone\r\n        ? '0px 4px 10px rgba(0,0,0,1)'\r\n        : '0px 0px 40px rgba(255,255,255,1)',\r\n    },\r\n    config: {\r\n      mass: 5,\r\n      tension: 2600,\r\n      friction: 1000,\r\n      clamp: true,\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Box\r\n      position='absolute'\r\n      top='0'\r\n      bottom='0'\r\n      left='0'\r\n      right='0'\r\n      display='flex'\r\n      justifyContent='center'\r\n      alignItems='center'\r\n      style={{\r\n        fontFamily: 'Trade Winds',\r\n      }}\r\n    >\r\n      {perfect && resultsDone && (\r\n        <Text color={perfectTextColor} style={perfectStyles}>\r\n          {children}\r\n        </Text>\r\n      )}\r\n      {miss && <Text color='rgba(255,255,255,0.54)'>FAILURE</Text>}\r\n    </Box>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M256 26C129.17 26 26 129.17 26 256s103.192 230 230 230 230-103.192 230-230S382.83 26 256 26zm168.813 174.7H298.258L257.442 78.36c78.035.628 144.206 51.81 167.37 122.34zM254.558 78.36L213.786 200.7H87.23C110.353 130.17 176.524 78.99 254.56 78.36zM78.328 256a177.056 177.056 0 0 1 7.637-51.49l101.728 75.932-37.34 118.345A177.518 177.518 0 0 1 78.33 256zm76.66 146.045L256 330.03l101.013 72.015a177.177 177.177 0 0 1-202.026 0zm206.614-3.302l-37.295-118.345 101.728-75.933a177.463 177.463 0 0 1-64.39 194.322z\"\n});\n\nfunction SvgAlliedStar(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAlliedStar);\nexport default __webpack_public_path__ + \"static/media/allied-star.9a910a3f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M425.344 22.22c-9.027.085-18.7 5.826-24.344 19.405-11.143 26.803-31.93 59.156-58.563 93.47 10.57 8.694 19.85 18.92 27.5 30.31 35.1-26.57 68.882-46.81 98.125-56.75 44.6-15.16 12.02-69.72-35.343-35.343 26.91-27.842 11.107-51.27-7.376-51.093zm-341.22.03c-18.5.378-37.604 23.962-16.343 49.875C31.523 38.635-.802 85.48 37.095 102.813c28.085 12.844 62.54 35.66 99.062 64.343 8.125-12.5 18.207-23.61 29.78-32.937-26.782-35.743-48.44-69.835-61.78-98.47-4.515-9.69-12.22-13.66-20.03-13.5zm169.5 99.688c-67.104 0-121.31 54.21-121.31 121.312 0 44.676 24.04 83.613 59.905 104.656v56.406h18.718v-47.468c5.203 1.95 10.576 3.552 16.093 4.78v42.688h18.69v-40.03c2.614.167 5.247.25 7.905.25 2.637 0 5.25-.086 7.844-.25v40.03h18.686v-42.687c5.52-1.226 10.89-2.834 16.094-4.78v47.467h18.688V347.97c35.92-21.03 60-60.003 60-104.72 0-67.105-54.208-121.313-121.313-121.313zm-66.874 88.218c19.88 0 36 16.12 36 36s-16.12 36-36 36-36-16.12-36-36 16.12-36 36-36zm133.563 0c19.878 0 36 16.12 36 36s-16.122 36-36 36c-19.88 0-36-16.12-36-36s16.12-36 36-36zm-66.72 52.344l29.938 48.188h-59.874l29.938-48.188zm-107.28 70.563c-40.263 32.472-78.546 58.41-109.22 72.437-37.896 17.334-5.57 64.146 30.688 30.656-30.237 36.854 21.167 69.05 36.376 36.406 15.072-32.352 40.727-71.7 72.438-112.5-11.352-7.506-21.564-16.603-30.28-27zm213.156 1.718c-8.155 9.415-17.542 17.72-27.908 24.69 31.846 39.39 56.82 76.862 69.438 107.217 17.203 41.383 71.774 9.722 31.72-31.718 47.363 34.376 79.94-20.185 35.342-35.345-32.146-10.926-69.758-34.3-108.593-64.844z\"\n});\n\nfunction SvgSkullCrossedBones(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSkullCrossedBones);\nexport default __webpack_public_path__ + \"static/media/skull-crossed-bones.bdbe94fd.svg\";\nexport { ForwardRef as ReactComponent };","import Color from 'color'\r\nimport { useEffect, useMemo, useState } from 'react'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { useList } from '../../hooks/useList'\r\nimport { theme } from '../../theme'\r\nimport { ZERO_STATS } from '../../types/character/data/ZERO_STATS'\r\nimport { getStats } from '../../types/character/util'\r\nimport { Box } from '../_core/Box'\r\nimport { Check } from '../_core/Check'\r\nimport { ResultText } from './ResultText'\r\nimport { ReactComponent as FocusedCheck } from '../../icons/skoll/allied-star.svg'\r\nimport { ReactComponent as CursedCheck } from '../../icons/lorc/skull-crossed-bones.svg'\r\n\r\nexport type CombatMoveResultChecksProps = {\r\n  rolls: boolean[]\r\n  checksDone: boolean\r\n  resultsDone: boolean\r\n  onDone?: () => void\r\n}\r\n\r\nexport const CombatMoveResultsChecks = (props: CombatMoveResultChecksProps) => {\r\n  const { rolls, resultsDone, checksDone, onDone } = props\r\n  const { getActiveCharacter } = useCombat()\r\n  const character = getActiveCharacter()\r\n  const [checksDoneArray, setCheckDone] = useList<boolean>(\r\n    rolls.length,\r\n    checksDone,\r\n  )\r\n  const perfectTextColor = useMemo(\r\n    () => Color(theme.perfectCheckColor).lighten(0.8).rgb().toString(),\r\n    [theme.perfectCheckColor],\r\n  )\r\n  const focusedCheckColor = useMemo(\r\n    () => Color(theme.perfectCheckColor).lighten(0.4).rgb().toString(),\r\n    [theme.perfectCheckColor],\r\n  )\r\n  const stats = useMemo(() => {\r\n    return character ? getStats(character) : ZERO_STATS\r\n  }, [character])\r\n  const isPerfect = rolls.every(Boolean)\r\n  const isMiss = !rolls.some(Boolean)\r\n\r\n  useEffect(() => {\r\n    if (!checksDone && checksDoneArray.every(Boolean)) {\r\n      onDone && onDone()\r\n    }\r\n  }, [checksDoneArray])\r\n\r\n  return (\r\n    <Box flexDirection='row' position='relative' justifyContent='center'>\r\n      {rolls.map((r, i) => (\r\n        <Check\r\n          key={i}\r\n          size={100}\r\n          delay={100 * i}\r\n          value={r}\r\n          isDone={checksDoneArray[i]}\r\n          failureColor={\r\n            stats.forceCombatCheckFailure > i\r\n              ? 'rgba(94,50,50,0.54)'\r\n              : undefined\r\n          }\r\n          successColor={\r\n            checksDone\r\n              ? stats.forceCombatCheckSuccess > i\r\n                ? focusedCheckColor\r\n                : isPerfect\r\n                ? theme.perfectCheckColor\r\n                : undefined\r\n              : undefined\r\n          }\r\n          backgroundColor={\r\n            checksDone\r\n              ? r\r\n                ? 'rgba(255,255,255,0.18)'\r\n                : 'rgba(0,0,0,0.54)'\r\n              : 'rgba(0,0,0,0.18)'\r\n          }\r\n          onRest={() => {\r\n            setCheckDone(i, true)\r\n          }}\r\n        >\r\n          {stats.forceCombatCheckSuccess > i ? (\r\n            <FocusedCheck />\r\n          ) : stats.forceCombatCheckFailure > i ? (\r\n            <CursedCheck />\r\n          ) : undefined}\r\n        </Check>\r\n      ))}\r\n      {checksDone && (\r\n        <ResultText\r\n          perfect={isPerfect}\r\n          miss={isMiss}\r\n          resultsDone={resultsDone}\r\n          perfectTextColor={perfectTextColor}\r\n        >\r\n          PERFECT\r\n        </ResultText>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n","import { useMemo } from 'react'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\nimport { MoveResult } from '../../types/move'\r\nimport { Box } from '../_core/Box'\r\nimport { colorMap } from '../_core/ElementalIcon'\r\n\r\nexport type CombatMoveResultsHeaderProps = {\r\n  moveResults: MoveResult[]\r\n}\r\n\r\nexport const CombatMoveResultsHeader = (\r\n  props: CombatMoveResultsHeaderProps,\r\n) => {\r\n  const { moveResults } = props\r\n  const { getActiveCharacter, isCharacterPlayerCharacter } = useCombat()\r\n  const { moveBuffer } = useCombatBuffer()\r\n  const character = useMemo(() => getActiveCharacter(), [])\r\n  if (!character || !moveBuffer) return null\r\n\r\n  return (\r\n    <Box\r\n      color='white'\r\n      textAlign='center'\r\n      marginBottom='16px'\r\n      style={{ fontSize: '24px' }}\r\n    >\r\n      <span>\r\n        <span\r\n          style={{\r\n            fontFamily: 'Trade Winds',\r\n            color: isCharacterPlayerCharacter(character.id)\r\n              ? 'lightblue'\r\n              : 'lightsalmon',\r\n          }}\r\n        >\r\n          {character.name}\r\n        </span>\r\n        <span style={{ padding: '0px 8px' }}> uses </span>\r\n        <span\r\n          style={{\r\n            fontFamily: 'Trade Winds',\r\n            color: colorMap[moveBuffer.element],\r\n          }}\r\n        >\r\n          {moveBuffer.name}\r\n        </span>\r\n        {!moveResults.every((r) => r.target.id === character.id) && (\r\n          <span style={{ padding: '0px 8px' }}> on </span>\r\n        )}\r\n      </span>\r\n      {!moveResults.every((r) => r.target.id === character.id) && (\r\n        <span>\r\n          {moveResults.map((result, i) => (\r\n            <span key={i}>\r\n              <span\r\n                style={{\r\n                  fontFamily: 'Trade Winds',\r\n                  color: isCharacterPlayerCharacter(result.target.id)\r\n                    ? 'lightblue'\r\n                    : 'lightsalmon',\r\n                }}\r\n              >\r\n                {result.target.name}\r\n              </span>\r\n              {i === moveResults.length - 1\r\n                ? ''\r\n                : i === moveResults.length - 2\r\n                ? ', and '\r\n                : ', '}\r\n            </span>\r\n          ))}\r\n        </span>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n","import { Box } from '../_core/Box'\r\nimport { MoveResult } from '../../types/move'\r\nimport { CombatMoveResultsDetails } from './CombatMoveResultsDetails'\r\nimport { CombatMoveResultsChecks } from './CombatMoveResultsChecks'\r\nimport { CombatMoveResultsHeader } from './CombatMoveResultsHeader'\r\nimport { useEffect, useState } from 'react'\r\nimport { config, useSpring } from 'react-spring'\r\n\r\nexport interface CombatMoveResultProps {\r\n  rolls: boolean[]\r\n  moveResults?: MoveResult[]\r\n  onChildrenDone?: () => void\r\n  onDone?: () => void\r\n}\r\n\r\nexport const CombatMoveResults = (props: CombatMoveResultProps) => {\r\n  const { rolls, moveResults, onChildrenDone, onDone } = props\r\n  const [checksDone, setChecksDone] = useState(false)\r\n  const [resultsDone, setResultsDone] = useState(false)\r\n  const [isDone, setIsDone] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if (checksDone && resultsDone && !isDone) {\r\n      onChildrenDone && onChildrenDone()\r\n      setTimeout(() => {\r\n        setIsDone(true)\r\n      }, 2000)\r\n    }\r\n  }, [checksDone, resultsDone])\r\n\r\n  const wrapperStyles = useSpring({\r\n    opacity: isDone ? 0 : 1,\r\n    config: config.slow,\r\n    delay: 2000,\r\n    onRest: () => {\r\n      onDone && onDone()\r\n    },\r\n  })\r\n\r\n  const innerStyles = useSpring({\r\n    opacity: 1,\r\n    from: { opacity: 0 },\r\n    config: config.molasses,\r\n  })\r\n\r\n  if (!moveResults) return null\r\n\r\n  return (\r\n    <Box padding='0 16px' style={wrapperStyles}>\r\n      <Box style={innerStyles}>\r\n        <CombatMoveResultsHeader moveResults={moveResults} />\r\n        <Box minWidth='366px' justifyContent='center'>\r\n          <CombatMoveResultsChecks\r\n            rolls={rolls}\r\n            checksDone={checksDone}\r\n            resultsDone={resultsDone}\r\n            onDone={() => setChecksDone(true)}\r\n          />\r\n          {checksDone && (\r\n            <Box flexDirection='row'>\r\n              <Box flex={1} />\r\n              <Box minWidth='400px' marginTop='16px'>\r\n                <CombatMoveResultsDetails\r\n                  moveResults={moveResults}\r\n                  resultsDone={resultsDone}\r\n                  onDone={() => setResultsDone(true)}\r\n                />\r\n              </Box>\r\n              <Box flex={1} />\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\nimport { CombatBodyActions } from './CombatBodyActions'\r\nimport { CombatBodyTargets } from './CombatBodyTargets'\r\nimport { Box } from '../_core/Box'\r\nimport { CombatMoveResults } from '../CombatMoveResults'\r\nimport { useCombatDamage } from './useCombatDamage'\r\nimport { useCombatAI } from './useCombatAI'\r\n\r\nexport const CombatBody = () => {\r\n  const { getActiveCharacter, getTargets, isCharacterPlayerCharacter } =\r\n    useCombat()\r\n  const { moveBuffer, targetsBuffer } = useCombatBuffer()\r\n  const { moveResults, rolls, commitMove, commitTurn } = useCombatDamage()\r\n  const character = getActiveCharacter()\r\n  const targetsOptions =\r\n    moveBuffer && character ? getTargets(moveBuffer, character) : undefined\r\n\r\n  useCombatAI()\r\n\r\n  return (\r\n    <Box flex={1} marginTop='24px'>\r\n      <Box flex='1' alignItems='center'>\r\n        {!moveBuffer && isCharacterPlayerCharacter(character?.id || '') && (\r\n          <CombatBodyActions />\r\n        )}\r\n        {targetsOptions &&\r\n          !targetsBuffer &&\r\n          isCharacterPlayerCharacter(character?.id || '') && (\r\n            <CombatBodyTargets targetsOptions={targetsOptions} />\r\n          )}\r\n        {targetsBuffer && (\r\n          <>\r\n            <CombatMoveResults\r\n              moveResults={moveResults}\r\n              rolls={rolls}\r\n              onChildrenDone={() => {\r\n                commitMove()\r\n              }}\r\n              onDone={() => {\r\n                commitTurn()\r\n              }}\r\n            />\r\n          </>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\nimport { useCombatTurn } from '../../contexts/CombatContext/turn'\r\nimport { AccuracyStats, Character } from '../../types/character/character'\r\nimport {\r\n  getStats,\r\n  getStatsAndEquations,\r\n  getStatuses,\r\n} from '../../types/character/util'\r\nimport { min } from '../../types/equation'\r\nimport { getRolls, Move, MoveResult, resolveMove } from '../../types/move'\r\nimport { ProtectedId } from '../../types/status/data/Protected'\r\n\r\nexport const useCombatDamage = () => {\r\n  const {\r\n    getActiveCharacter,\r\n    getCharacterPartyId,\r\n    getLiveCharacters,\r\n    updateCharacter,\r\n    addStatusesToCharacter,\r\n    addDamageToCharacter,\r\n    updateQueueItemById,\r\n  } = useCombat()\r\n  const { turnId, nextTurn } = useCombatTurn()\r\n  const { moveBuffer, targetsBuffer } = useCombatBuffer()\r\n  const [rolls, setRolls] = useState<boolean[]>([])\r\n  const [moveResults, setMoveResults] = useState<MoveResult[] | undefined>()\r\n  const [moveCommited, setMoveCommitted] = useState(false)\r\n  const character = getActiveCharacter()\r\n\r\n  const clearMoveResults = () => setMoveResults(undefined)\r\n\r\n  const rollDamage = (move: Move, source: Character, targets: Character[]) => {\r\n    if (moveResults) return\r\n    const stats = getStats(source)\r\n    const rolls = getRolls(\r\n      move.checks,\r\n      stats[`${move.type}Accuracy` as keyof AccuracyStats] + move.offset,\r\n      stats.forceCombatCheckSuccess,\r\n      stats.forceCombatCheckFailure,\r\n    )\r\n    setRolls(rolls)\r\n    setMoveResults(\r\n      targets.map((target) => {\r\n        return resolveMove(source, target, move, rolls)\r\n      }),\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (character && moveBuffer && targetsBuffer && !moveResults) {\r\n      rollDamage(moveBuffer, character, targetsBuffer)\r\n    }\r\n  }, [character, moveBuffer, targetsBuffer, moveResults])\r\n\r\n  useEffect(() => {\r\n    setMoveCommitted(false)\r\n  }, [turnId])\r\n\r\n  const commitMove = () => {\r\n    if (character && moveBuffer && moveResults && !moveCommited) {\r\n      setMoveCommitted(true)\r\n      targetsBuffer?.forEach((char, i) => {\r\n        if (moveResults[i]) {\r\n          if (i === 0) {\r\n            addStatusesToCharacter(character.id, moveResults[i].statuses.source)\r\n          }\r\n          const protectedStatus = getStatuses(char).find(\r\n            (s) => s.statusId === ProtectedId,\r\n          )\r\n          const hasEnemySourceStatus =\r\n            getCharacterPartyId(char.id) !==\r\n              getCharacterPartyId(character.id) &&\r\n            moveResults[i].statuses.target.length > 0\r\n\r\n          if (\r\n            protectedStatus &&\r\n            (moveResults[i].totalDamage > 0 || hasEnemySourceStatus)\r\n          ) {\r\n            updateCharacter(char.id, (c) => ({\r\n              ...c,\r\n              statuses: c.statuses.filter((s) => !s.removeOnHit),\r\n            }))\r\n          } else {\r\n            updateCharacter(char.id, (c) => ({\r\n              ...c,\r\n              statuses: c.statuses.filter((s) => !s.removeOnHit),\r\n            }))\r\n            addStatusesToCharacter(char.id, moveResults[i].statuses.target)\r\n            addDamageToCharacter(char.id, moveResults[i].totalDamage)\r\n          }\r\n        }\r\n      })\r\n      updateCharacter(character.id, (c) => {\r\n        return {\r\n          ...c,\r\n          energyOffset: c.energyOffset + moveBuffer.energyCost,\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  const commitTurn = () => {\r\n    if (character && moveBuffer) {\r\n      updateCharacter(character.id, (c) => {\r\n        const [stats, { stats: mods }] = getStatsAndEquations(character)\r\n        return {\r\n          ...c,\r\n          damage: min(c.damage - mods.activeTurnHealthRegen(stats.health), 0),\r\n        }\r\n      })\r\n      getLiveCharacters().forEach((char) => {\r\n        updateCharacter(char.id, (c) => {\r\n          const [stats, { stats: mods }] = getStatsAndEquations(character)\r\n          return {\r\n            ...c,\r\n            damage: min(c.damage - mods.turnHealthRegen(stats.health), 0),\r\n          }\r\n        })\r\n        if (char.id !== character.id) {\r\n          updateQueueItemById(char.id, (qi) => {\r\n            const stats = getStats(char)\r\n            return {\r\n              ...qi,\r\n              value: qi.value + stats.queuePositionOffset,\r\n            }\r\n          })\r\n        }\r\n      })\r\n\r\n      nextTurn()\r\n      setTimeout(() => {\r\n        clearMoveResults()\r\n      }, 1)\r\n    }\r\n  }\r\n\r\n  return {\r\n    rolls,\r\n    moveResults,\r\n    moveCommited,\r\n    rollDamage,\r\n    clearMoveResults,\r\n    commitMove,\r\n    commitTurn,\r\n  }\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\n\r\nexport const useCombatAI = () => {\r\n  const { getActiveCharacter, getTargets, isCharacterPlayerCharacter } =\r\n    useCombat()\r\n  const character = getActiveCharacter()\r\n  const { moveBuffer, setMoveBuffer, targetsBuffer, setTargetsBuffer } =\r\n    useCombatBuffer()\r\n\r\n  useEffect(() => {\r\n    if (character && !moveBuffer && !targetsBuffer) {\r\n      if (!isCharacterPlayerCharacter(character.id)) {\r\n        const moveIndex = Math.floor(Math.random() * character.moves.length)\r\n        const move = character.moves[moveIndex]\r\n        if (move) {\r\n          setMoveBuffer(move)\r\n          const targets = getTargets(move, character)\r\n          const targetsIndex = Math.floor(Math.random() * targets.length)\r\n          setTargetsBuffer(targets[targetsIndex])\r\n        }\r\n      }\r\n    }\r\n  }, [character, moveBuffer, targetsBuffer])\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const QueueWrapper = styled.div({\r\n  position: 'relative',\r\n  flex: 1,\r\n  display: 'flex',\r\n  height: '60px',\r\n})\r\n","import { useMemo } from 'react'\r\nimport { config, useTransition } from 'react-spring'\r\nimport { Character } from '../../types/character/character'\r\nimport { getStats } from '../../types/character/util'\r\nimport {\r\n  convertToDeltas,\r\n  getMaxValue,\r\n  Queue as QueueType,\r\n  QueueItem as QueueItemType,\r\n} from '../../types/queue/queue'\r\nimport { CombatCharacterAvatar } from '../CombatCharacterAvatar'\r\nimport { AnimatedNumberValue } from '../_core/AnimatedNumber'\r\nimport { Box } from '../_core/Box'\r\nimport { QueueWrapper } from './style'\r\n\r\nexport type QueueProps = {\r\n  queue: QueueType\r\n  characters: Character[]\r\n}\r\n\r\nexport const Queue = (props: QueueProps) => {\r\n  const { queue, characters } = props\r\n  const mv = getMaxValue(queue)\r\n  const maxValue = mv < 0 ? 0 : mv\r\n  const mva = Array(maxValue).fill(undefined)\r\n  const character = (id: string) => characters.find((c) => c.id === id)\r\n  const getPosition = (value: number) => `${(value / maxValue) * 100}%`\r\n  const [first, ...rest] = queue.sort((a, b) => a.value - b.value)\r\n  const transitions = useTransition(rest, {\r\n    key: (item: QueueItemType) => item.id,\r\n    from: { left: '150%', offset: 0, opacity: 0 },\r\n    leave: { left: '0%', offset: -76, opacity: 0 },\r\n    enter: ({ value }) => ({\r\n      opacity: 1,\r\n      offset: 0,\r\n      left: getPosition(value),\r\n    }),\r\n    update: ({ value }) => ({\r\n      offset: 0,\r\n      left: getPosition(value),\r\n    }),\r\n    config: config.slow,\r\n  })\r\n  const deltas = useMemo(() => {\r\n    const statsArray = characters.map((c) => ({ id: c.id, value: getStats(c) }))\r\n    return convertToDeltas(queue, statsArray)\r\n  }, [characters, queue])\r\n\r\n  return (\r\n    <Box flex={1} margin='0 0 8px 8px' position='relative' paddingRight='60px'>\r\n      <QueueWrapper>\r\n        {transitions((styles, item) => (\r\n          <CombatCharacterAvatar\r\n            marginTop='-2px'\r\n            textAlign='center'\r\n            character={character(item.id) as Character}\r\n            style={{\r\n              ...styles,\r\n              transform: styles.offset.to((v) => `translate3d(${v}px, 0,0)`),\r\n            }}\r\n            position='absolute'\r\n          >\r\n            <AnimatedNumberValue>\r\n              {(deltas.find((d) => d.id === item.id)?.value || 0) * 1000}\r\n            </AnimatedNumberValue>\r\n          </CombatCharacterAvatar>\r\n        ))}\r\n        <Box\r\n          flex='1'\r\n          flexDirection='row'\r\n          border='1px solid rgba(255,255,255,0.18)'\r\n          height='48px'\r\n        >\r\n          {mva.map((_, i) => (\r\n            <Box\r\n              key={i}\r\n              style={{\r\n                width: `${100 / maxValue}%`,\r\n                height: '100%',\r\n                background: 'rgba(255,255,255,0.09)',\r\n              }}\r\n            />\r\n          ))}\r\n        </Box>\r\n      </QueueWrapper>\r\n    </Box>\r\n  )\r\n}\r\n","import { useMemo } from 'react'\r\nimport { config, useTransition } from 'react-spring'\r\nimport { ReactComponent as Forward } from '../../icons/delapouite/fast-forward-button.svg'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { Character } from '../../types/character/character'\r\nimport { getStats } from '../../types/character/util'\r\nimport { convertToDeltas, QueueStats } from '../../types/queue/queue'\r\nimport { QueueProps } from '../Queue'\r\nimport { Box } from '../_core/Box'\r\nimport { Icon } from '../_core/Icon'\r\nimport { ElementalType } from '../../types/elemental'\r\nimport { colorMap } from '../_core/ElementalIcon'\r\n\r\nconst margin = 16\r\nconst width = 18\r\nconst space = width + margin\r\n\r\nexport const QueueNormalized = (props: QueueProps) => {\r\n  const { queue, characters } = props\r\n  const { getCharacter } = useCombat()\r\n  const statArray: QueueStats = useMemo(\r\n    () =>\r\n      characters.map((c) => ({\r\n        id: c.id,\r\n        value: getStats(c),\r\n      })),\r\n    [characters],\r\n  )\r\n  const [first, ...charactersInOrder] = useMemo(() => {\r\n    return convertToDeltas(queue, statArray)\r\n      .sort((a, b) => a.value - b.value)\r\n      .map((delta) => getCharacter(delta.id))\r\n      .filter((c) => c !== undefined) as Character[]\r\n  }, [queue, statArray])\r\n\r\n  const list = [...charactersInOrder]\r\n\r\n  const magicWidthCoef = 7.2833\r\n  const getX = (index: number) =>\r\n    list.reduce((sum, c, i) => {\r\n      const w = index > i ? c.name.length * magicWidthCoef + space : 0\r\n      return sum + w\r\n    }, 0)\r\n  const transitions = useTransition(\r\n    list.map((char: Character, i: number) => ({\r\n      ...char,\r\n      x: getX(i),\r\n    })),\r\n    {\r\n      key: (char: Character) => char.id,\r\n      leave: { opacity: 0 },\r\n      enter: ({ x }) => ({ opacity: 1, transform: `translate3d(${x}px,0,0)` }),\r\n      update: ({ x }) => ({ transform: `translate3d(${x}px,0,0)` }),\r\n      config: config.slow,\r\n    },\r\n  )\r\n\r\n  return (\r\n    <Box margin='0 8px 0 16px' height='20px' flexDirection='row'>\r\n      {transitions((styles, character) => {\r\n        return (\r\n          <Box\r\n            key={character.id}\r\n            style={styles}\r\n            flexDirection='row'\r\n            alignItems='center'\r\n            position='absolute'\r\n          >\r\n            <Icon color='rgba(255,255,255,0.18)' width='18px'>\r\n              <Forward />\r\n            </Icon>\r\n            <Box\r\n              height='20px'\r\n              width={`${character.name.length * magicWidthCoef}px`}\r\n              marginLeft='8px'\r\n              marginRight='8px'\r\n              overflow='hidden'\r\n              display='inline-block'\r\n              style={{\r\n                whiteSpace: 'nowrap',\r\n                textOverflow: 'ellipsis',\r\n                lineHeight: '20px',\r\n                fontSize: '12px',\r\n                fontFamily: 'Roboto Mono',\r\n              }}\r\n              color={colorMap[character.elements[0].element as ElementalType]}\r\n            >\r\n              {character.name}\r\n            </Box>\r\n          </Box>\r\n        )\r\n      })}\r\n    </Box>\r\n  )\r\n}\r\n","import { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatTurn } from '../../contexts/CombatContext/turn'\r\nimport { CombatCharacterAvatar } from '../CombatCharacterAvatar'\r\nimport { Queue } from '../Queue'\r\nimport { QueueNormalized } from '../QueueNormalized'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport type CombatHeaderProps = {}\r\n\r\nexport const CombatHeader = (props: CombatHeaderProps) => {\r\n  const {} = props\r\n  const { queue, characters, getActiveCharacter } = useCombat()\r\n  const { turnCount } = useCombatTurn()\r\n  const character = getActiveCharacter()\r\n  return (\r\n    <Box background='rgba(0, 0, 0, 0.5)'>\r\n      <Box flexDirection='row' padding='0px 8px 16px 8px'>\r\n        {character && (\r\n          <Box flexDirection='row' width='264px'>\r\n            <Box flex={1} />\r\n            <Box justifyContent='center'>\r\n              <Box\r\n                color='rgba(255,255,255,0.27)'\r\n                textAlign='right'\r\n                padding='4px'\r\n              >\r\n                Turn {turnCount + 1}\r\n              </Box>\r\n              <Box background='white' padding='4px 8px' maxWidth='160px'>\r\n                <span>\r\n                  <strong>{character.name}'s</strong> Turn\r\n                </span>\r\n              </Box>\r\n            </Box>\r\n            <CombatCharacterAvatar\r\n              zIndex={10}\r\n              height='88px'\r\n              width='88px'\r\n              marginTop='-2px'\r\n              character={character}\r\n            />\r\n          </Box>\r\n        )}\r\n        <Box flex='1'>\r\n          <Queue queue={queue} characters={characters} />\r\n          <QueueNormalized queue={queue} characters={characters} />\r\n        </Box>\r\n        <Box width='264px'></Box>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { useEffect } from 'react'\r\nimport { useSpring } from 'react-spring'\r\nimport { usePrevious } from '../../../hooks/usePrevious'\r\nimport { AnimatedNumberValue } from '../AnimatedNumber'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport type BarProps = BoxProps & {\r\n  value: number\r\n  max: number\r\n  min?: number\r\n}\r\n\r\nexport const Bar = (props: BarProps) => {\r\n  const { value, max, min = 0, children, background, ...rest } = props\r\n  const previous = usePrevious(value) || 0\r\n  const percent = (value / (max - min)) * 100\r\n  const diff = previous - value\r\n\r\n  const barSpeed = previous > value ? 0 : (diff + 50) * 10\r\n  const barStyles = useSpring({\r\n    width: `${percent}%`,\r\n    config: {\r\n      duration: barSpeed,\r\n    },\r\n  })\r\n\r\n  const deltaSpeed = previous <= value ? 0 : (diff + 50) * 10\r\n  const deltaStyles = useSpring({\r\n    width: `${percent}%`,\r\n    config: {\r\n      duration: deltaSpeed,\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Box {...rest} position='relative' background='rgba(0,0,0,0.54)' zIndex={1}>\r\n      <Box\r\n        position='absolute'\r\n        top='0px'\r\n        bottom='0px'\r\n        background={'white'}\r\n        zIndex={1}\r\n        style={deltaStyles}\r\n      ></Box>\r\n      {value > previous && (\r\n        <Box\r\n          position='absolute'\r\n          top='0px'\r\n          bottom='0px'\r\n          background={'white'}\r\n          zIndex={1}\r\n          width={`${percent}%`}\r\n        ></Box>\r\n      )}\r\n      <Box\r\n        position='absolute'\r\n        top='0px'\r\n        bottom='0px'\r\n        background={background}\r\n        zIndex={2}\r\n        style={barStyles}\r\n      ></Box>\r\n      <Box\r\n        position='absolute'\r\n        top='0px'\r\n        bottom='0px'\r\n        left='0px'\r\n        right='0px'\r\n        alignItems='center'\r\n        justifyContent='flex-end'\r\n        color='rgba(255,255,255,0.81)'\r\n        flexDirection='row'\r\n        padding='0px 2px'\r\n        zIndex={3}\r\n        style={{\r\n          textShadow: '0px 1px 1px rgba(0,0,0,1)',\r\n        }}\r\n      >\r\n        {children || (\r\n          <span>\r\n            <AnimatedNumberValue>{value}</AnimatedNumberValue>/{max}\r\n          </span>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { useEffect, useRef } from 'react'\r\n\r\nexport const usePrevious = <T>(value: T) => {\r\n  const ref = useRef<T | undefined>()\r\n\r\n  useEffect(() => {\r\n    ref.current = value\r\n  }, [value])\r\n\r\n  return ref.current\r\n}\r\n","import styled, { CSSProperties } from 'styled-components'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport type HexagonProps = BoxProps & {\r\n  size: number\r\n  color: string\r\n  borderWidth?: number\r\n  borderColor?: string\r\n}\r\n\r\nconst StyledHexagon = styled(Box)<HexagonProps>((props) => {\r\n  const { size, borderWidth = 0 } = props\r\n  const baseHeight = size / Math.sqrt(3)\r\n  const sharedWidth = size / Math.sqrt(2)\r\n  const shared: CSSProperties = {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    backgroundColor: 'inherit',\r\n    width: `${sharedWidth}px`,\r\n    height: `${sharedWidth}px`,\r\n    transform: `scaleY(0.5774) rotate(-45deg)`,\r\n    left: `${0.1464466 * size - borderWidth}px`,\r\n    borderStyle: 'inherit',\r\n    borderColor: 'inherit',\r\n  }\r\n  return {\r\n    position: 'relative',\r\n    boxSizing: 'border-box',\r\n    zIndex: 2,\r\n    width: `${size}px`,\r\n    height: `${baseHeight}px`,\r\n    margin: `${baseHeight / 2}px`,\r\n    backgroundColor: props.color,\r\n    borderStyle: 'solid',\r\n    borderColor: props.borderColor,\r\n    borderLeftWidth: `${borderWidth}px`,\r\n    borderRightWidth: `${borderWidth}px`,\r\n    borderTopWidth: 0,\r\n    borderBottomWidth: 0,\r\n\r\n    ':before': {\r\n      ...shared,\r\n      boxSizing: 'border-box',\r\n      top: `${-1 * (sharedWidth / 2)}px`,\r\n      borderTopWidth: `${borderWidth * Math.sqrt(2)}px`,\r\n      borderBottomWidth: 0,\r\n      borderRightWidth: `${borderWidth * Math.sqrt(2)}px`,\r\n      borderLeftWidth: 0,\r\n    },\r\n    ':after': {\r\n      ...shared,\r\n      boxSizing: 'border-box',\r\n      bottom: `${-1 * (sharedWidth / 2)}px`,\r\n      borderTop: 0,\r\n      borderBottomWidth: `${borderWidth * Math.sqrt(2)}px`,\r\n      borderRightWidth: 0,\r\n      borderLeftWidth: `${borderWidth * Math.sqrt(2)}px`,\r\n    },\r\n  }\r\n})\r\n\r\nexport const Hexagon = (props: HexagonProps) => (\r\n  <StyledHexagon {...props}>{props.children}</StyledHexagon>\r\n)\r\n","import { Box } from '../Box'\r\nimport { StatusCardProps } from '../StatusCard'\r\nimport { TooltipCard } from '../TooltipCard'\r\n\r\nexport const ImmunityCard = (props: StatusCardProps) => {\r\n  const { status } = props\r\n\r\n  return (\r\n    <TooltipCard>\r\n      <Box style={{ fontWeight: 700 }}>{status.name} Immunity</Box>\r\n    </TooltipCard>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Status } from '../../types/status/status'\r\nimport { Box, BoxProps } from '../_core/Box'\r\nimport { StatusCard } from '../_core/StatusCard'\r\nimport { StatusIcon } from '../_core/StatusIcon'\r\nimport { Tooltip } from '../_core/Tooltip'\r\n\r\nexport type CombatCharacterStatusProps = BoxProps & {\r\n  status: Status\r\n}\r\n\r\nexport const CombatCharacterStatus = (props: CombatCharacterStatusProps) => {\r\n  const { status, color = 'white', children, ...rest } = props\r\n  const [isHovering, setIsHovering] = useState(false)\r\n  return (\r\n    <Box\r\n      marginLeft='4px'\r\n      {...rest}\r\n      onMouseEnter={() => setIsHovering(true)}\r\n      onMouseLeave={() => setIsHovering(false)}\r\n    >\r\n      <Tooltip\r\n        isOpen={isHovering}\r\n        content={children || ((<StatusCard status={status} />) as any)}\r\n        options={{\r\n          placement: 'bottom-center',\r\n          triggerOffset: 4,\r\n          auto: true,\r\n        }}\r\n      >\r\n        <Box padding='4px 2px'>\r\n          <StatusIcon status={status} color={color} />\r\n        </Box>\r\n      </Tooltip>\r\n    </Box>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M256 105c-60.25 0-124.749 38.39-167.945 77.66-34.931 31.756-58.722 62.36-66.88 73.34 8.158 10.98 31.949 41.584 66.88 73.34C131.25 368.61 195.75 407 256 407s124.749-38.39 167.945-77.66c34.931-31.756 58.722-62.36 66.88-73.34-8.158-10.98-31.949-41.584-66.88-73.34C380.75 143.39 316.25 105 256 105zm0 23a128 128 0 0 1 63.486 16.969A48 48 0 0 0 288 190a48 48 0 0 0 .023.453A72.362 72.362 0 0 0 265 183.576V160h-18v23.576c-33.034 4.095-59.33 30.39-63.424 63.424H160v18h23.576c4.095 33.034 30.39 59.33 63.424 63.424V352h18v-23.576c33.034-4.095 59.33-30.39 63.424-63.424H352v-18h-23.576a72.33 72.33 0 0 0-1.98-10.014A48 48 0 0 0 336 238a48 48 0 0 0 41.023-23.195A128 128 0 0 1 384 256a128 128 0 0 1-128 128 128 128 0 0 1-128-128 128 128 0 0 1 128-128zm-9 73.738V224h18v-22.262c23.237 3.792 41.47 22.025 45.262 45.262H288v18h22.262c-3.792 23.237-22.025 41.47-45.262 45.262V288h-18v22.262c-23.237-3.792-41.47-22.025-45.262-45.262H224v-18h-22.262c3.792-23.237 22.025-41.47 45.262-45.262z\"\n});\n\nfunction SvgEyeTarget(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEyeTarget);\nexport default __webpack_public_path__ + \"static/media/eye-target.6caa98ef.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M27.47 15.344c62.946 25.422 108.824 61.313 115.843 132.03v.188c52.31 30.132 92.605 72.538 104.28 119.938 1.792 7.272 2.84 14.637 3.126 22.03 31.737-3.283 64-20.935 87.843-46.624 26.42-28.467 42.056-65.91 36.843-103.03-15.205 1.917-30.855.922-46.5-2.314-50.282-10.398-101.7-42.974-148.562-77.875-4.79-4.21-9.93-8.084-15.406-11.656-34.787-22.69-82.864-32.686-137.47-32.686zM234.687 41.25l-15.72 23c19.23 13.107 38.792 25.095 58.126 34.72l13.437-19.25c-12.406-18.774-34.986-32.363-55.842-38.47zm239.375 21.375c-16.886 31.464-37.035 52.625-59.72 64.875-6.702 3.62-13.573 6.434-20.593 8.53 6.67 44.027-11.746 87.505-41.5 119.564-27.275 29.387-64.424 49.947-102.53 52.844-4.482 31.48-23.408 62.858-59.75 90.312 40.743 9.164 78.742 9.05 113.436 1.906l7.72-49.03 2.937-18.595 13.03 13.595L359 379.875c27.795-16.753 64.71-44.308 83.22-67.906L413.31 262l-11.468-19.78 22.03 6.093 47.938 13.25c13.232-23.865 21.327-60.527 21.47-98.875.13-34.855-6.22-70.88-19.22-100.063zM146.092 170.97L20.564 354.75l.812 110.625 175.53-251.5c-13.78-15.612-31.054-30.19-50.81-42.906z\"\n});\n\nfunction SvgBatteredAxe(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBatteredAxe);\nexport default __webpack_public_path__ + \"static/media/battered-axe.e5f4176d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M256 16c25 24 100 72 150 72v96c0 96-75 240-150 312-75-72-150-216-150-312V88c50 0 125-48 150-72z\"\n});\n\nfunction SvgShield(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShield);\nexport default __webpack_public_path__ + \"static/media/shield.1d833c64.svg\";\nexport { ForwardRef as ReactComponent };","import { theme } from '../../theme'\r\nimport { Box, BoxProps } from '../_core/Box'\r\nimport { Icon } from '../_core/Icon'\r\n\r\nexport type CombatCharacterStatsProps = BoxProps & {\r\n  physical: string\r\n  special: string\r\n  icon: JSX.Element\r\n}\r\n\r\nexport const CombatCharacterStats = (props: CombatCharacterStatsProps) => {\r\n  const { physical, special, icon, ...rest } = props\r\n  return (\r\n    <Box\r\n      {...rest}\r\n      alignItems='center'\r\n      justifyContent='space-between'\r\n      flexDirection='row'\r\n      color='white'\r\n      style={{\r\n        fontSize: '12px',\r\n      }}\r\n    >\r\n      <Icon width='16px' color='white' marginRight='3px'>\r\n        {icon}\r\n      </Icon>\r\n      <Box\r\n        alignItems='center'\r\n        justifyContent='space-between'\r\n        flexDirection='row'\r\n        style={{\r\n          textShadow: '0px 1px 2px rgba(0,0,0,0.72)',\r\n        }}\r\n      >\r\n        <Box\r\n          background={theme.physicalColor}\r\n          borderRadius='4px 0 0 4px'\r\n          padding='0px 4px'\r\n        >\r\n          {physical}\r\n        </Box>\r\n        <Box\r\n          background={theme.specialColor}\r\n          borderRadius='0 4px 4px 0'\r\n          padding='0px 4px'\r\n        >\r\n          {special}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { Ability, AbilityStatus } from '../../../types/ability/ability'\r\nimport { Box } from '../Box'\r\nimport { StatusList } from '../StatusList'\r\nimport { TooltipCard } from '../TooltipCard'\r\n\r\nexport type AbilityCardProps = {\r\n  ability: Ability\r\n}\r\n\r\nexport const AbilityCard = (props: AbilityCardProps) => {\r\n  const { ability } = props\r\n  const normalStatuses: AbilityStatus[] = [] // ability.statuses.filter((s) => !s.isCritical)\r\n  const criticalStatuses = ability.statuses\r\n  return (\r\n    <TooltipCard>\r\n      <Box style={{ fontWeight: 700 }}>{ability.name}</Box>\r\n      {normalStatuses.length > 0 && (\r\n        <Box marginTop='4px' background='rgba(0,0,0,0.72)' padding='4px'>\r\n          <Box color='white' style={{ fontWeight: 700, fontSize: '14px' }}>\r\n            Statuses\r\n          </Box>\r\n          <StatusList\r\n            type='source'\r\n            statuses={normalStatuses}\r\n            showIcon={false}\r\n          />\r\n        </Box>\r\n      )}\r\n      {criticalStatuses.length > 0 && (\r\n        <Box marginTop='4px' background='rgba(0,0,0,0.72)' padding='4px'>\r\n          <Box color='white' style={{ fontWeight: 700, fontSize: '14px' }}>\r\n            Critical Statuses\r\n          </Box>\r\n          <StatusList\r\n            type='source'\r\n            statuses={criticalStatuses}\r\n            showIcon={false}\r\n          />\r\n        </Box>\r\n      )}\r\n      {ability.immunities.length > 0 && (\r\n        <Box marginTop='4px'>\r\n          <Box style={{ fontWeight: 700, fontSize: '14px' }}>Immunities</Box>\r\n          {ability.immunities.map((immunity) => (\r\n            <Box style={{ fontSize: '14px' }}>{immunity.name}</Box>\r\n          ))}\r\n        </Box>\r\n      )}\r\n    </TooltipCard>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Ability } from '../../types/ability/ability'\r\nimport { Status } from '../../types/status/status'\r\nimport { AbilityCard } from '../_core/AbilityCard'\r\nimport { Box, BoxProps } from '../_core/Box'\r\nimport { StatusCard } from '../_core/StatusCard'\r\nimport { StatusIcon } from '../_core/StatusIcon'\r\nimport { Tooltip } from '../_core/Tooltip'\r\nimport { TooltipCard } from '../_core/TooltipCard'\r\n\r\nconst AbilityText = styled(Box)<{ isHovering: boolean }>((p) => ({\r\n  color: 'rgba(255,255,255,0.63)',\r\n  ':hover': {\r\n    color: 'white',\r\n    textDecoration: 'underline',\r\n  },\r\n  ...(p.isHovering ? { color: 'white', textDecoration: 'underline' } : {}),\r\n}))\r\n\r\nexport type CombatCharacterAbilityProps = BoxProps & {\r\n  ability: Ability\r\n}\r\n\r\nexport const CombatCharacterAbility = (props: CombatCharacterAbilityProps) => {\r\n  const { ability, color = 'white', children, ...rest } = props\r\n  const [isHovering, setIsHovering] = useState(false)\r\n  return (\r\n    <Box\r\n      marginRight='4px'\r\n      {...rest}\r\n      onMouseEnter={() => setIsHovering(true)}\r\n      onMouseLeave={() => setIsHovering(false)}\r\n    >\r\n      <Tooltip\r\n        isOpen={isHovering}\r\n        content={children || ((<AbilityCard ability={ability} />) as any)}\r\n        options={{\r\n          placement: 'bottom-center',\r\n          triggerOffset: 4,\r\n          auto: true,\r\n        }}\r\n      >\r\n        <AbilityText isHovering={isHovering}>{ability.name}</AbilityText>\r\n      </Tooltip>\r\n    </Box>\r\n  )\r\n}\r\n","import { theme } from '../../theme'\r\nimport { Character } from '../../types/character/character'\r\nimport { getStats } from '../../types/character/util'\r\nimport { Box, BoxProps } from '../_core/Box'\r\nimport { Hexagon } from '../_core/Hexagon'\r\n\r\nexport type CombatCharacterBadgesProps = BoxProps & {\r\n  character: Character\r\n}\r\n\r\nexport const CombatCharacterBadges = (props: CombatCharacterBadgesProps) => {\r\n  const { character, ...rest } = props\r\n  const stats = getStats(character)\r\n  return (\r\n    <Box {...rest} position='relative'>\r\n      <Badge size={36} color='darkseagreen' top='-12px' left='-38px'>\r\n        {character.level}\r\n      </Badge>\r\n      <Badge size={36} top='6px' left='-67px' color='lightblue'>\r\n        {stats.speed}\r\n      </Badge>\r\n      <Badge top='-10px' left='-95px' color='lightgreen'>\r\n        {stats.evasion}%\r\n      </Badge>\r\n      {stats.specialArmor > 0 && (\r\n        <Badge top='-25px' left='-121px' color={theme.specialColor}>\r\n          {stats.specialArmor}\r\n        </Badge>\r\n      )}\r\n      {stats.physicalArmor > 0 && (\r\n        <Badge top='-55px' left='-121px' color={theme.physicalColor}>\r\n          {stats.physicalArmor}\r\n        </Badge>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n\r\nconst Badge = (props: BoxProps & { size?: number }) => {\r\n  const { children, color, size = 32, ...rest } = props\r\n  return (\r\n    <Box\r\n      position='absolute'\r\n      height='56px'\r\n      width='56px'\r\n      zIndex={2}\r\n      alignItems='center'\r\n      justifyContent='center'\r\n      style={{\r\n        fontFamily: 'Trade Winds',\r\n        fontSize: '12px',\r\n      }}\r\n      {...rest}\r\n    >\r\n      <Hexagon\r\n        size={size}\r\n        color='rgba(37, 39, 60, 1)'\r\n        borderWidth={2}\r\n        borderColor='rgba(255,255,255,0.54)'\r\n        style={{\r\n          transform: 'rotate(30deg)',\r\n        }}\r\n      />\r\n      <Box\r\n        position='absolute'\r\n        zIndex={2}\r\n        marginTop='4px'\r\n        color={color || 'white'}\r\n      >\r\n        {children}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { useMemo } from 'react'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { theme } from '../../theme'\r\nimport { Character } from '../../types/character/character'\r\nimport {\r\n  getImmunities,\r\n  getStats,\r\n  getStatuses,\r\n} from '../../types/character/util'\r\nimport { min } from '../../types/equation'\r\nimport { Bar } from '../_core/Bar'\r\nimport { Box } from '../_core/Box'\r\nimport { colorMap, ElementalIcon } from '../_core/ElementalIcon'\r\nimport { Hexagon } from '../_core/Hexagon'\r\nimport { ImmunityCard } from '../_core/ImmunityCard'\r\nimport { CombatCharacterStatus } from './CombatCharacterStatus'\r\nimport { ReactComponent as Accuracy } from '../../icons/delapouite/eye-target.svg'\r\nimport { ReactComponent as Attack } from '../../icons/lorc/battered-axe.svg'\r\nimport { ReactComponent as Defense } from '../../icons/sbed/shield.svg'\r\nimport { AnimatedNumber } from '../_core/AnimatedNumber'\r\nimport { useSpring } from 'react-spring'\r\nimport { CombatCharacterStats } from './CombatCharacterStats'\r\nimport { CombatCharacterAbility } from './CombatCharacterAbility'\r\nimport { CombatCharacterBadges } from './CombatCharacterBadges'\r\n\r\nexport type CombatCharacterProps = {\r\n  character: Character\r\n  side: 'left' | 'right'\r\n}\r\n\r\nexport const CombatCharacter = (props: CombatCharacterProps) => {\r\n  const { character, side } = props\r\n  const { getActiveCharacter } = useCombat()\r\n  const activeCharacter = getActiveCharacter()\r\n  const isActive = character.id === activeCharacter?.id\r\n  const stats = useMemo(() => getStats(character), [character])\r\n  const currentHealth = min(stats.health - character.damage, 0)\r\n  const currentEnergy = min(stats.energy - character.energyOffset, 0)\r\n  const healthStyles = useSpring({\r\n    value: currentHealth,\r\n  })\r\n  return (\r\n    <Box\r\n      style={\r\n        {\r\n          //transform: isActive ? 'scale(1.2)' : '',\r\n          //marginLeft: isActive ? '-24px' : '',\r\n        }\r\n      }\r\n    >\r\n      <Box\r\n        width='312px'\r\n        background={theme.boxGradient}\r\n        border='1px solid rgba(255,255,255,0.56)'\r\n        margin='36px 0 0 48px'\r\n        flexDirection='row'\r\n      >\r\n        <Box>\r\n          <Hexagon\r\n            color={colorMap[character.elements[0].element]}\r\n            borderColor='rgba(255,255,255,0.56)'\r\n            borderWidth={2}\r\n            size={96}\r\n            style={{\r\n              margin: '27px 0 0 -48px',\r\n            }}\r\n          />\r\n        </Box>\r\n        <Box flex={1}>\r\n          <Box\r\n            color='white'\r\n            alignItems='center'\r\n            flexDirection='row'\r\n            justifyContent='space-between'\r\n            padding='4px 4px 4px 8px'\r\n            borderBottom='1px solid rgba(255,255,255,0.36)'\r\n          >\r\n            <Box\r\n              paddingTop='4px'\r\n              style={{\r\n                textShadow: '0 1px 3px rgba(0,0,0,0.56)',\r\n                fontFamily: 'Trade Winds',\r\n              }}\r\n            >\r\n              {character.name}\r\n            </Box>\r\n            <Box flexDirection='row'>\r\n              {character.elements.map((element) => (\r\n                <ElementalIcon\r\n                  type={element.element}\r\n                  height='20px'\r\n                  width='20px'\r\n                  marginLeft='4px'\r\n                />\r\n              ))}\r\n            </Box>\r\n          </Box>\r\n          <Box\r\n            flexDirection='row'\r\n            color='white'\r\n            alignItems='center'\r\n            justifyContent='space-around'\r\n            padding='4px'\r\n            background='rgba(0,0,0,0.36)'\r\n            style={{ fontWeight: 700, fontSize: '14px' }}\r\n          >\r\n            <CombatCharacterStats\r\n              icon={<Accuracy />}\r\n              physical={String(stats.physicalAccuracy) + '%'}\r\n              special={String(stats.specialAccuracy) + '%'}\r\n            />\r\n            <CombatCharacterStats\r\n              icon={<Attack />}\r\n              physical={String(stats.physicalAttack).padStart(3, '0')}\r\n              special={String(stats.specialAttack).padStart(3, '0')}\r\n            />\r\n            <CombatCharacterStats\r\n              icon={<Defense />}\r\n              physical={String(stats.physicalDefense).padStart(3, '0')}\r\n              special={String(stats.specialDefense).padStart(3, '0')}\r\n            />\r\n          </Box>\r\n          <Box\r\n            flexDirection='row'\r\n            background='rgba(0,0,0,0.36)'\r\n            padding='0px 4px 4px 4px'\r\n            style={{ fontSize: '14px' }}\r\n          >\r\n            {character.abilities.map((ability) => (\r\n              <CombatCharacterAbility ability={ability} />\r\n            ))}\r\n          </Box>\r\n          <CombatCharacterBadges character={character} marginLeft='-1px' />\r\n          <Box position='relative'>\r\n            <Bar\r\n              value={currentHealth}\r\n              max={stats.health}\r\n              height='14px'\r\n              background={theme.healthBarRed}\r\n              border='1px solid rgba(0,0,0,0.45)'\r\n              marginLeft='-4px'\r\n              color='rgba(0,0,0,0.56)'\r\n              style={{\r\n                fontSize: '12px',\r\n                fontWeight: 600,\r\n              }}\r\n            >\r\n              <AnimatedNumber value={healthStyles.value} />/{stats.health}\r\n            </Bar>\r\n            <Bar\r\n              value={currentEnergy}\r\n              max={stats.energy}\r\n              height='12px'\r\n              background={theme.energyBarGreen}\r\n              border='1px solid rgba(0,0,0,0.45)'\r\n              borderTop='none'\r\n              marginLeft='-4px'\r\n              paddingRight='4px'\r\n              color='rgba(0,0,0,0.56)'\r\n              style={{\r\n                fontSize: '12px',\r\n                fontWeight: 600,\r\n              }}\r\n            >\r\n              {currentEnergy}/{stats.energy}\r\n            </Bar>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n      <Box\r\n        justifyContent='space-between'\r\n        color='white'\r\n        flexDirection='row'\r\n        height='28px'\r\n        marginTop='4px'\r\n        marginLeft='56px'\r\n      >\r\n        <Box flexDirection='row'>\r\n          {getImmunities(character).map((status) => (\r\n            <CombatCharacterStatus key={status.id} status={status} color='plum'>\r\n              <ImmunityCard status={status} />\r\n            </CombatCharacterStatus>\r\n          ))}\r\n        </Box>\r\n        <Box flexDirection='row' justifyContent='flex-end'>\r\n          {getStatuses(character).map((status) => (\r\n            <CombatCharacterStatus key={status.id} status={status} />\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { useCombat } from '../../contexts/CombatContext'\r\nimport { CombatCharacter } from '../CombatCharacter'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport type CombatPartyProps = {\r\n  index: number\r\n  side: 'right' | 'left'\r\n}\r\n\r\nexport const CombatParty = (props: CombatPartyProps) => {\r\n  const { index, side } = props\r\n  const { parties } = useCombat()\r\n  const party = parties[index]\r\n  return (\r\n    <Box padding='8px'>\r\n      {party &&\r\n        party.characters.map((c) => (\r\n          <CombatCharacter key={c.id} character={c} side={side} />\r\n        ))}\r\n    </Box>\r\n  )\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const EarthElement: Elemental = {\r\n  element: 'earth',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        earthDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        earthResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        airDamage: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { Move } from '../move'\r\n\r\nexport const RockSmash: Move = {\r\n  id: v4(),\r\n  name: 'Rock Smash',\r\n  type: 'physical',\r\n  element: 'earth',\r\n  target: 'uncontrolled-party',\r\n  checks: 3,\r\n  offset: -5,\r\n  power: 100,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { Move } from '../move'\r\n\r\nexport const AirSlash: Move = {\r\n  id: v4(),\r\n  name: 'Air Slash',\r\n  type: 'physical',\r\n  element: 'air',\r\n  target: 'uncontrolled-target',\r\n  checks: 2,\r\n  offset: 0,\r\n  power: 80,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const ThunderElement: Elemental = {\r\n  element: 'thunder',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        thunderDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        thunderResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        earthResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const ShockedId = v4()\r\nexport const Shocked = makeStatusFn({\r\n  statusId: ShockedId,\r\n  name: 'Shocked',\r\n  isStackable: false,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        speed: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Shocked } from '../../status/data/Shocked'\r\nimport { Move } from '../move'\r\n\r\nexport const Thunderbolt: Move = {\r\n  id: v4(),\r\n  name: 'Thunderbolt',\r\n  type: 'special',\r\n  element: 'thunder',\r\n  target: 'uncontrolled-target',\r\n  checks: 2,\r\n  offset: -5,\r\n  power: 95,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Shocked(0.95, 5, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [Shocked(0.95, 5, false)],\r\n  },\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { makeStatusFn } from '../util'\r\n\r\nexport const DazedId = v4()\r\nexport const Dazed = makeStatusFn({\r\n  statusId: DazedId,\r\n  name: 'Dazed',\r\n  isStackable: false,\r\n  removeOnHit: false,\r\n  removeOnActiveTurn: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        speed: {\r\n          m: -1,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Dazed } from '../../status/data/Dazed'\r\nimport { Shocked } from '../../status/data/Shocked'\r\nimport { Move } from '../move'\r\n\r\nexport const ThunderPunch: Move = {\r\n  id: v4(),\r\n  name: 'Thunder Punch',\r\n  type: 'physical',\r\n  element: 'thunder',\r\n  target: 'uncontrolled-target',\r\n  checks: 3,\r\n  offset: 0,\r\n  power: 85,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Dazed(0.55, 3, true), Shocked(0.75, 5, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [Shocked(0.25, 5, false)],\r\n  },\r\n}\r\n","import { useEffect } from 'react'\nimport { v4 } from 'uuid'\nimport { CombatBody } from './components/CombatBody'\nimport { CombatHeader } from './components/CombatHeader'\nimport { CombatParty } from './components/CombatParties'\nimport { Box } from './components/_core/Box'\nimport { useCombat } from './contexts/CombatContext'\nimport { Golem } from './types/character/data/entities/golem'\nimport { Pidgeot } from './types/character/data/entities/pidgeot'\nimport { Raichu } from './types/character/data/entities/raichu'\nimport { Party } from './types/character/party'\n\nconst enemies = (): Party => ({\n  id: v4(),\n  characters: [Raichu(), Golem(), Pidgeot()],\n})\n\nfunction App() {\n  const { init } = useCombat()\n\n  useEffect(() => {\n    init(enemies())\n  }, [])\n\n  return (\n    <Box className='App' flex={1}>\n      <CombatHeader />\n      <Box flex='1' overflow='hidden' flexDirection='row' padding='0px 16px'>\n        <CombatParty index={0} side='left' />\n        <CombatBody />\n        <CombatParty index={1} side='right' />\n      </Box>\n    </Box>\n  )\n}\n\nexport default App\n","import { v4 } from 'uuid'\r\nimport { Blaze } from '../../../ability/data/Blaze'\r\nimport { ThunderElement } from '../../../elemental/data/ThunderElement'\r\nimport { Thunderbolt } from '../../../move/data/Thunderbolt'\r\nimport { ThunderPunch } from '../../../move/data/ThunderPunch'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\nimport { BASE_CHARACTER } from './BASE_CHARACTER'\r\n\r\nexport const Raichu = (): Character => ({\r\n  ...BASE_CHARACTER,\r\n  id: v4(),\r\n  name: 'Raichu',\r\n  level: 100,\r\n  elements: [ThunderElement],\r\n  abilities: [Blaze],\r\n  statuses: [],\r\n  immunities: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 60,\r\n    speed: 99,\r\n    energy: 100,\r\n    initiative: 100,\r\n    evasion: 5,\r\n    criticalChance: 5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 85,\r\n    physicalAttack: 90,\r\n    physicalDefense: 55,\r\n    specialAccuracy: 80,\r\n    specialAttack: 90,\r\n    specialDefense: 80,\r\n  },\r\n  moves: [ThunderPunch, Thunderbolt, ThunderPunch, Thunderbolt],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Blaze } from '../../../ability/data/Blaze'\r\nimport { EarthElement } from '../../../elemental/data/EarthElement'\r\nimport { RockSmash } from '../../../move/data/RockSmash'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\nimport { BASE_CHARACTER } from './BASE_CHARACTER'\r\n\r\nexport const Golem = (): Character => ({\r\n  ...BASE_CHARACTER,\r\n  id: v4(),\r\n  name: 'Golem',\r\n  level: 100,\r\n  elements: [EarthElement],\r\n  abilities: [Blaze],\r\n  statuses: [],\r\n  immunities: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 80,\r\n    speed: 45,\r\n    energy: 100,\r\n    initiative: 100,\r\n    evasion: 5,\r\n    criticalChance: 5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 85,\r\n    physicalAttack: 110,\r\n    physicalDefense: 130,\r\n    specialAccuracy: 70,\r\n    specialAttack: 55,\r\n    specialDefense: 65,\r\n  },\r\n  moves: [RockSmash],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Blaze } from '../../../ability/data/Blaze'\r\nimport { AirElement } from '../../../elemental/data/AirElement'\r\nimport { AirSlash } from '../../../move/data/AirSlash'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\nimport { BASE_CHARACTER } from './BASE_CHARACTER'\r\n\r\nexport const Pidgeot = (): Character => ({\r\n  ...BASE_CHARACTER,\r\n  id: v4(),\r\n  name: 'Pidgeot',\r\n  level: 100,\r\n  elements: [AirElement],\r\n  abilities: [Blaze],\r\n  statuses: [],\r\n  immunities: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 83,\r\n    speed: 91,\r\n    energy: 100,\r\n    initiative: 100,\r\n    evasion: 5,\r\n    criticalChance: 5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 80,\r\n    physicalAttack: 80,\r\n    physicalDefense: 75,\r\n    specialAccuracy: 60,\r\n    specialAttack: 70,\r\n    specialDefense: 70,\r\n  },\r\n  moves: [AirSlash],\r\n})\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import styled from 'styled-components'\r\n\r\nexport const ModalContextWrapper = styled.div({\r\n  position: 'relative',\r\n  height: '100vh',\r\n  width: '100vw',\r\n  overflow: 'hidden',\r\n  display: 'flex',\r\n  flex: 1,\r\n})\r\n\r\nexport const ModalNodeWrapper = styled.div({\r\n  position: 'absolute',\r\n  background: 'rgba(0,0,0,0.5)',\r\n  top: 0,\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  zIndex: 99999,\r\n})\r\n","import {\r\n  createContext,\r\n  FunctionComponent,\r\n  PropsWithChildren,\r\n  useContext,\r\n  useRef,\r\n  useState,\r\n} from 'react'\r\nimport { ModalContextWrapper, ModalNodeWrapper } from './style'\r\n\r\nexport type ModalContextValue = {\r\n  open: <T>(Component: FunctionComponent<T>, props: T) => void\r\n  close: () => void\r\n}\r\nconst defaultValue: ModalContextValue = {\r\n  open: () => {},\r\n  close: () => {},\r\n}\r\n\r\nexport const ModalContext = createContext<ModalContextValue>(defaultValue)\r\nexport const useModal = () => useContext(ModalContext)\r\n\r\nexport const ModalContextProvider = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const componentProps = useRef<any>({})\r\n  const componentRef = useRef<FunctionComponent<any> | null>(null)\r\n  const Component = componentRef.current\r\n  const context: ModalContextValue = {\r\n    open: (c, p) => {\r\n      componentRef.current = c\r\n      componentProps.current = p\r\n      setIsOpen(true)\r\n    },\r\n    close: () => {\r\n      componentRef.current = null\r\n      componentProps.current = null\r\n      setIsOpen(false)\r\n    },\r\n  }\r\n  return (\r\n    <ModalContext.Provider value={context}>\r\n      <ModalContextWrapper>\r\n        {children}\r\n        {isOpen && Component && (\r\n          <ModalNodeWrapper onClick={context.close}>\r\n            <Component {...(componentProps || {})} />\r\n          </ModalNodeWrapper>\r\n        )}\r\n      </ModalContextWrapper>\r\n    </ModalContext.Provider>\r\n  )\r\n}\r\n","import { PropsWithChildren } from 'react'\r\nimport { CombatContextProvider } from './CombatContext'\r\nimport { ModalContextProvider } from './ModalContext'\r\n\r\nexport const AppContexts = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  return (\r\n    <CombatContextProvider>\r\n      <ModalContextProvider>{children}</ModalContextProvider>\r\n    </CombatContextProvider>\r\n  )\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { AppContexts } from './contexts'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppContexts>\n      <App />\n    </AppContexts>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}