{"version":3,"sources":["types/character/util.ts","types/equation/index.ts","types/status/util.ts","types/move/index.ts","types/equation/data/ZERO_EQUATION.ts","types/equation/util.ts","types/character/data/BASE_MODIFIER.ts","types/stats/index.ts","types/stats/util.ts","types/move/util.ts","types/elemental/data/FireElement.ts","types/elemental/index.ts","types/queue/queue.ts","contexts/CombatContext/buffer.tsx","contexts/CombatContext/turn.tsx","contexts/CombatContext/useQueue.tsx","contexts/CombatContext/index.tsx","contexts/CombatContext/getTargets.ts","components/_core/Box/index.tsx","components/Move/style.tsx","icons/sbed/flamer.svg","icons/lorc/drop.svg","icons/lorc/power-lightning.svg","icons/delapouite/oak-leaf.svg","icons/delapouite/stone-pile.svg","icons/lorc/fluffy-wing.svg","icons/lorc/spectre.svg","icons/sbed/death-skull.svg","icons/sbed/pulse.svg","components/Move/ElementIcon.tsx","icons/darkzaitzev/revolt.svg","icons/lorc/magic-swirl.svg","components/Move/TypeIcon.tsx","components/_core/Icon/index.tsx","icons/delapouite/dice-target.svg","icons/delapouite/fast-forward-button.svg","icons/delapouite/fast-backward-button.svg","components/Move/StatusTargetIcon.tsx","components/_core/StatusCard/index.tsx","components/_core/Tooltip/index.tsx","theme.ts","components/_core/StatusList/style.tsx","components/_core/StatusList/index.tsx","components/Move/MoveStatusesSection.tsx","components/Move/MoveStatuses.tsx","components/Move/index.tsx","components/_core/Button/index.tsx","components/CombatBody/CombatBodyActions.tsx","components/_core/FadeWindow/index.tsx","components/CombatCharacterAvatar/index.tsx","components/CombatBody/CombatBodyTargets.tsx","components/_core/AnimatedNumber/index.tsx","icons/delapouite/thumb-up.svg","icons/delapouite/thumb-down.svg","components/_core/Check/index.tsx","components/CombatMoveResult/TargetResults.tsx","components/CombatMoveResult/ResultText.tsx","components/CombatMoveResult/CombatMoveResultChecks.tsx","components/CombatMoveResult/index.tsx","components/CombatBody/CombatBodyResults.tsx","components/CombatBody/index.tsx","components/Queue/style.tsx","components/Queue/index.tsx","components/QueueNormalized/index.tsx","components/CombatHeader/index.tsx","components/_core/Bar/index.tsx","components/_core/Hexagon/index.tsx","components/CombatCharacter/CombatCharacterStatus.tsx","components/CombatCharacter/index.tsx","components/CombatParties/index.tsx","types/elemental/data/WaterElement.ts","types/status/data/Wet.ts","types/move/data/WaterShot.ts","types/character/data/ZERO_STATS.ts","types/status/data/Burning.ts","types/move/data/FireBall.ts","types/elemental/data/EarthElement.ts","types/move/data/RockSmash.ts","types/elemental/data/AirElement.ts","types/move/data/AirSlash.ts","types/elemental/data/ThunderElement.ts","types/status/data/Shocked.ts","types/move/data/Thunderbolt.ts","types/status/data/Dazed.ts","types/move/data/ThunderPunch.ts","types/elemental/data/GrassElement.ts","types/move/data/RazorLeaf.ts","App.tsx","types/character/data/entities/charizard.ts","types/character/data/entities/venusaur.ts","types/character/data/entities/blastoise.ts","types/character/data/entities/raichu.ts","types/character/data/entities/golem.ts","types/character/data/entities/pidgeot.ts","reportWebVitals.ts","contexts/ModalContext/style.tsx","contexts/ModalContext/index.tsx","contexts/index.tsx","index.tsx"],"names":["getModifiers","character","statusModifiers","statuses","reduce","list","status","modifiers","elementModifiers","elements","element","BASE_MODIFIER","getStats","stats","resolveStats","physicalAccuracy","max","specialAccuracy","speed","min","getStatsAndEquations","reduceModifiersToEquations","resolveStatus","applyChance","isApplied","Math","random","makeStatusFn","partial","statusId","v4","duration","isPositive","id","ZERO_EQUATION","makeEquationObject","m","b","makeEquation","x","addEquations","a","value","n","health","energy","initiative","criticalChance","criticalDamage","physicalAttack","physicalDefense","specialAttack","specialDefense","fireDamage","fireResistance","waterDamage","waterResistance","grassDamage","grassResistance","earthDamage","earthResistance","thunderDamage","thunderResistance","airDamage","airResistance","ghostDamage","ghostResistance","darkDamage","darkResistance","lightDamage","lightResistance","makeModifier","key","reduceModifiers","Object","keys","result","keyModifier","keyMod","mod","baseStats","getRolls","checks","stat","results","i","roll","getMovePerfectChance","move","statValue","type","offset","pow","getMoveFailureChance","resolveMove","source","target","rolls","sStats","sMods","tStats","tMods","successes","filter","Boolean","length","perfect","failure","baseDamage","power","damageModifier","sourceStats","targetStats","getMoveDamageModifier","critical","rawDamage","elementalDamageKey","elementalResistanceKey","eSourceDamage","eTargetDamage","totalDamage","floor","perfectStatuses","failureStatuses","undefined","map","s","FireElement","convertToDeltas","queue","statArray","find","qs","Error","t","distance","getDeltas","consolidateQueue","characters","c","deltaToZero","minT","apply","d","round","validateQueue","validate","moves","forEach","item","sameValueItem","anotherIndex","indexOf","validation","getActiveId","defaultValue","moveBuffer","setMoveBuffer","bufferMove","targetsBuffer","setTargetsBuffer","clear","CombatBufferContext","createContext","useCombatBuffer","useContext","CombatBuffer","props","children","useCombat","getTargets","getActiveCharacter","useState","context","targets","Provider","turnId","turnCount","nextTurn","CombatTurnContext","CombatTurn","setTurnId","setTurnCount","enqueue","reduceStatusDurations","useEffect","useQueue","initialValue","set","q","activeId","queueToMove","recovery","damage","enQueue","initialize","initializeQueue","parties","init","getCharacter","hydrateCharacterIds","updateCharacter","addDamageToCharacter","addStatusesToCharacter","CombatContext","CombatContextProvider","setParties","setCharacters","fn","chars","ids","contextParties","useMemo","party","characterIds","p","sourceParty","includes","enemyParty","getTargetIds","statusesToApply","oldStatuses","isStackable","Box","styled","animated","div","background","border","color","flexbox","layout","position","space","textAlign","displayName","defaultProps","display","flexDirection","Wrapper","Header","alignItems","marginBottom","AttackWrapper","AttackPower","flex","fontSize","fontWeight","justifyContent","AttackAccuracy","accuracyColors","1","2","3","4","5","6","AttackAccuracyText","MoveDetails","padding","_extends","assign","arguments","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","fill","SvgFlamer","_ref","svgRef","title","titleId","xmlns","viewBox","ref","ForwardRef","SvgDrop","SvgPowerLightning","SvgOakLeaf","SvgStonePile","SvgFluffyWing","SvgSpectre","SvgDeathSkull","SvgPulse","iconMap","fire","Fire","water","Water","grass","Grass","earth","Earth","thunder","Thunder","air","Air","ghost","Ghost","dark","Dark","light","Light","colorMap","ElementIcon","Name","SvgRevolt","SvgMagicSwirl","physical","Physical","special","Special","TypeIcon","Icon","rest","SvgDiceTarget","SvgFastForwardButton","SvgFastBackwardButton","Target","Source","StatusTargetIcon","statKeyMap","StatusCard","modKeys","style","name","modIndex","eq","Tooltip","isOpen","content","contentProps","options","useLayer","arrowProps","layerProps","triggerProps","renderLayer","theme","marginLeft","StatusWrapper","marginRight","StatusChance","opacity","StatusName","cursor","textDecoration","isHovering","StatusList","paddingTop","flexWrap","StatusListItem","setIsHovering","onMouseEnter","onMouseLeave","toFixed","triggerOffset","Section","width","TitleWrapper","Title","textTransform","Spacer","height","borderBottom","margin","Chance","MoveStatusesSection","checksColor","chance","checksArray","Array","_","MoveStatuses","hasPerfectStatuses","hasFailureStatuses","perfectChance","failureChance","targetTypeStringMap","all","self","Move","accuracy","paddingRight","whiteSpace","energyCost","activeColor","StyledButton","borderRadius","textShadow","borderColor","Button","CombatBodyActions","overflow","marginTop","onClick","FadeWindow","transition","useTransition","from","enter","leave","config","slow","styles","child","inset","boxShadow","boxSizing","textOverflow","CombatCharacterAvatar","backgroundColor","borderWidth","borderStyle","CombatBodyTargets","targetsOptions","AnimatedNumber","to","v","SvgThumbUp","SvgThumbDown","Inner","zIndex","Check","size","delay","nullColor","failureColor","successColor","onRest","dropDone","setDropDone","isNull","dropRef","useSpringRef","drop","useSpring","top","shakeRef","shake","borderRef","shadowColor","shadowValue","shadow","useChain","transform","range","output","TargetResults","onDone","resultsDone","setResultsDone","every","index","r","TargetResult","damageDone","setDamageDone","wrapper","mass","tension","friction","clamp","ResultText","miss","perfectTextColor","postStyles","perfectStyles","bottom","left","right","CombatMoveResultChecks","perfectCheckColor","perfectText","checksDone","setChecksDone","allDone","isPerfect","isMiss","some","CombatMoveResult","perfectColor","onDamageDone","setPerfectCheckColor","Color","lighten","rgb","toString","statusesCount","sum","setTimeout","minWidth","CombatBodyResults","moveResults","commitMove","CombatBody","setRolls","setMoveResults","rollDamage","char","energyOffset","QueueWrapper","Queue","mv","getMaxValue","maxValue","mva","getPosition","sort","transitions","update","borderRight","QueueNormalized","delta","charactersInOrder","magicWidthCoef","lineHeight","fontFamily","CombatHeader","Bar","percent","barStyles","deltaStyles","StyledHexagon","baseHeight","sqrt","sharedWidth","shared","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","borderTop","Hexagon","CombatCharacterStatus","placement","CombatCharacter","currentHealth","currentEnergy","CombatParties","WaterElement","Wet","WaterShot","ZERO_STATS","Burned","FireBall","EarthElement","RockSmash","AirElement","AirSlash","ThunderElement","Shocked","Thunderbolt","Dazed","ThunderPunch","GrassElement","RazorLeaf","App","level","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ModalContextWrapper","ModalNodeWrapper","open","close","ModalContext","ModalContextProvider","setIsOpen","componentProps","useRef","componentRef","Component","current","AppContexts","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yNAWaA,EAAe,SAACC,GAC3B,IAAMC,EAAkBD,EAAUE,SAASC,QACzC,SAACC,EAAMC,GAAP,4BAAsBD,GAAtB,YAA+BC,EAAOC,cACtC,IAEIC,EAAmBP,EAAUQ,SAASL,QAC1C,SAACC,EAAMK,GAAP,4BAAuBL,GAAvB,YAAgCK,EAAQH,cACxC,IAEF,MAAM,CAAEI,KAAR,mBAA0BT,GAA1B,YAA8CM,KAGnCI,EAAW,SAACX,GACvB,IAAMM,EAAYP,EAAaC,GACzBY,EAAQC,uBAAab,EAAUY,MAAON,GAC5C,OAAO,2BACFM,GADL,IAEEE,iBAAkBC,cAAIH,EAAME,iBAAkB,IAC9CE,gBAAiBD,cAAIH,EAAMI,gBAAiB,IAC5CC,MAAOC,cAAIN,EAAMK,MAAO,MAYfE,EAAuB,SAClCnB,GAIA,MAAO,CAFOW,EAASX,GACNoB,qCAA2BrB,EAAaC,O,gCC9C3D,6gB,uHCGaqB,EAAgB,SAAChB,GAAoC,IACxDiB,EAAgBjB,EAAhBiB,YACR,OAAO,2BACFjB,GADL,IAEEkB,UAAWD,EAAcE,KAAKC,YAQrBC,EAAe,SAACC,GAC3B,IAAMC,EAAWC,cACjB,OAAO,SAACP,EAAaQ,EAAUC,GAAxB,mBAAC,eACHJ,GADE,IAELK,GAAIH,cACJD,WACAN,cACAQ,WACAC,kB,gCCvBJ,qkB,8ECEaE,EAAgBC,YAAmB,EAAG,I,gCCFnD,sLAGaA,EAAqB,SAACC,EAAWC,GAAZ,MAA2C,CAC3ED,IACAC,MAGWC,EACX,SAAC,GAAD,IAAGF,EAAH,EAAGA,EAAGC,EAAN,EAAMA,EAAN,OACA,SAACE,GAAD,OACEH,EAAIG,EAAIF,IAECG,EAAe,eAC1BC,EAD0B,uDACNP,IACpBG,EAF0B,uDAENH,IAFM,MAGN,CACpBE,EAAGK,EAAEL,EAAIC,EAAED,EACXC,EAAGI,EAAEJ,EAAIA,EAAEA,IAQArB,EAAM,SAAC0B,EAAeC,GAAhB,OAA+BD,EAAQC,EAAIA,EAAID,GAErDvB,EAAM,SAACuB,EAAeC,GAAhB,OAA+BD,EAAQC,EAAIA,EAAID,I,kEC1B3D,IAAM/B,EAAkC,CAC7CE,MAAO,CACL+B,OAAQ,CAAER,EAAG,EAAGC,EAAG,GACnBnB,MAAO,CAAEkB,EAAG,EAAGC,EAAG,GAClBQ,OAAQ,CAAET,EAAG,EAAGC,EAAG,GACnBS,WAAY,CAAEV,EAAG,EAAGC,EAAG,GACvBU,eAAgB,CAAEX,EAAG,EAAGC,EAAG,GAC3BW,eAAgB,CAAEZ,EAAG,EAAGC,EAAG,GAE3BtB,iBAAkB,CAAEqB,EAAG,EAAGC,EAAG,GAC7BY,eAAgB,CAAEb,EAAG,EAAGC,EAAG,GAC3Ba,gBAAiB,CAAEd,EAAG,EAAGC,EAAG,GAC5BpB,gBAAiB,CAAEmB,EAAG,EAAGC,EAAG,GAC5Bc,cAAe,CAAEf,EAAG,EAAGC,EAAG,GAC1Be,eAAgB,CAAEhB,EAAG,EAAGC,EAAG,GAE3BgB,WAAY,CAAEjB,EAAG,EAAGC,EAAG,GACvBiB,eAAgB,CAAElB,EAAG,EAAGC,EAAG,GAC3BkB,YAAa,CAAEnB,EAAG,EAAGC,EAAG,GACxBmB,gBAAiB,CAAEpB,EAAG,EAAGC,EAAG,GAC5BoB,YAAa,CAAErB,EAAG,EAAGC,EAAG,GACxBqB,gBAAiB,CAAEtB,EAAG,EAAGC,EAAG,GAC5BsB,YAAa,CAAEvB,EAAG,EAAGC,EAAG,GACxBuB,gBAAiB,CAAExB,EAAG,EAAGC,EAAG,GAC5BwB,cAAe,CAAEzB,EAAG,EAAGC,EAAG,GAC1ByB,kBAAmB,CAAE1B,EAAG,EAAGC,EAAG,GAC9B0B,UAAW,CAAE3B,EAAG,EAAGC,EAAG,GACtB2B,cAAe,CAAE5B,EAAG,EAAGC,EAAG,GAC1B4B,YAAa,CAAE7B,EAAG,EAAGC,EAAG,GACxB6B,gBAAiB,CAAE9B,EAAG,EAAGC,EAAG,GAC5B8B,WAAY,CAAE/B,EAAG,EAAGC,EAAG,GACvB+B,eAAgB,CAAEhC,EAAG,EAAGC,EAAG,GAC3BgC,YAAa,CAAEjC,EAAG,EAAGC,EAAG,GACxBiC,gBAAiB,CAAElC,EAAG,EAAGC,EAAG,M,gCCnChC,6d,+MCUO,SAASkC,EACdC,GAEW,IADX9B,EACU,uDADcR,gBAExB,MAAO,CACLrB,MAAM,eACH2D,EAAM9B,IAKN,SAAS+B,EAAgBlE,GAE9B,OADiBmE,OAAOC,KAAKhE,IAAcE,OAC3BT,QAAO,SAACwE,EAAQJ,GAAS,IAAD,IAChCK,EAActE,EAAUH,QAC5B,SAAC0E,EAAQC,GAAT,OACER,EAAaC,EAAKhC,uBAAasC,EAAOjE,MAAM2D,GAAMO,EAAIlE,MAAM2D,OAC9DD,EAAaC,EAAKtC,kBAEpB,OAAO,2BACF0C,GADL,IAEE/D,MAAM,2BACD+D,EAAO/D,OADP,kBAEF2D,EAAM,CACLnC,GAAG,UAAAwC,EAAYhE,MAAM2D,UAAlB,eAAwBnC,IAAK,EAChCD,GAAG,UAAAyC,EAAYhE,MAAM2D,UAAlB,eAAwBpC,IAAK,SAIrC,IAGE,SAASf,EAA2Bd,GACzC,IAAMM,EAAQ4D,EAAgBlE,GAAWM,MAEzC,OADa6D,OAAOC,KAAK9D,GACbT,QAAO,SAACwE,EAAQJ,GAAS,IAAD,IAClC,OAAO,2BACFI,GADL,IAEE/D,MAAM,2BACD+D,EAAO/D,OADP,kBAEF2D,EAAMlC,uBAAa,CAClBD,GAAG,UAAAxB,EAAM2D,UAAN,eAAYnC,IAAK,EACpBD,GAAG,UAAAvB,EAAM2D,UAAN,eAAYpC,IAAK,UAIzB,IAGE,SAAStB,EAAakE,EAA2BzE,GACtD,IAAMM,EAAQQ,EAA2Bd,GAAWM,MAEpD,OADa6D,OAAOC,KAAK9D,GACbT,QACV,SAACwE,EAAQJ,GAAT,mBAAC,eACII,GADL,kBAEGJ,EAAM3D,EAAM2D,GAAKI,EAAOJ,QAE3BQ,K,6NCtDSC,EAAW,SAACC,EAAgBC,GAEvC,IADA,IAAIC,EAAqB,GAChBC,EAAI,EAAGA,EAAIH,EAAQG,IAAK,CAC/B,IAAMC,EAAuB,IAAhB7D,KAAKC,SAClB0D,EAAO,sBAAOA,GAAP,CAAgBE,EAAOH,IAEhC,OAAOC,GAcIG,EAAuB,SAACC,EAAYvF,GAC/C,IAEMwF,GAFQ7E,YAASX,GACJ,GAAD,OAAIuF,EAAKE,KAAT,aACQF,EAAKG,QAAU,IACzC,OAAOlE,KAAKmE,IAAIH,EAAWD,EAAKN,SAGrBW,EAAuB,SAACL,EAAYvF,GAC/C,IAEMwF,GAFQ7E,YAASX,GACJ,GAAD,OAAIuF,EAAKE,KAAT,aACQF,EAAKG,QAAU,IACzC,OAAOlE,KAAKmE,IAAI,EAAIH,EAAWD,EAAKN,SAWzBY,EAAc,SACzBC,EACAC,EACAR,EACAS,GACgB,IAAD,EACoB7E,YAAqB2E,GADzC,mBACRG,EADQ,KACSC,EADT,KACEtF,MADF,EAEoBO,YAAqB4E,GAFzC,mBAERI,EAFQ,KAESC,EAFT,KAEExF,MACXyF,EAAYL,EAAMM,OAAOC,SAASC,OAClCC,EAAUJ,IAAcd,EAAKN,OAC7ByB,EAAwB,IAAdL,EACVM,EAAcN,EAAYd,EAAKN,QAAWM,EAAKqB,OAAS,GACxDC,EA7C6B,SACnCtB,EACAuB,EACAC,GAEA,OACED,EAAY,GAAD,OAAIvB,EAAKE,KAAT,WACXsB,EAAY,GAAD,OAAIxB,EAAKE,KAAT,YAsCUuB,CAAsBzB,EAAMU,EAAQE,GAP5C,EAQInB,EAAS,EAAGiB,EAAOnD,gBAA/BmE,EARQ,oBAUTC,EAAYP,EAAaE,GADXI,GAAYR,EAAUR,EAAOlD,eAAiB,GAE5DoE,EAAkB,UACnB5B,EAAK9E,QADc,UAElB2G,EAAsB,UACvB7B,EAAK9E,QADkB,cAEtB4G,EAAgBnB,EAAMiB,GAAoBD,GAC1CI,EAAgBlB,EAAMgB,GAAwBF,EAAYG,GAC1DE,EACU,IAAdL,EAAkB,EAAI1F,KAAKgG,MAAMN,EAAYG,EAAgBC,GACzDpH,GAA0BuG,EAC5BlB,EAAKkC,gBACLf,EACAnB,EAAKmC,qBACLC,IAAc,CAAE5B,OAAQ,GAAID,OAAQ,IAOxC,MAAO,CACLyB,cACAN,SAAUA,GAAYR,EACtBvG,SAR6C,CAC7C4F,OAAQ5F,EAAS4F,OAAO8B,KAAI,SAACC,GAAD,OAAOxG,YAAcwG,MACjD9B,OAAQ7F,EAAS6F,OAAO6B,KAAI,SAACC,GAAD,OAAOxG,YAAcwG,OAOjD/B,SACAC,Y,qFC7FG,IAAM+B,EAAyB,CACpCrH,QAAS,OACTH,UAAW,CACT,CACEM,MAAO,CACLwC,WAAY,CACVjB,EAAG,IACHC,EAAG,GAELiB,eAAgB,CACdlB,EAAG,GACHC,EAAG,GAELmB,gBAAiB,CACfpB,GAAI,GACJC,EAAG,Q,gCCjBb,iE,gJCwCa2F,EAAkB,SAACC,EAAcC,GAC5C,OAAOD,EAAMJ,KAAI,SAACxC,GAAO,IAAD,EAChBxE,EAAK,UAAGqH,EAAUC,MAAK,SAACC,GAAD,OAAQA,EAAGnG,KAAOoD,EAAEpD,aAAtC,aAAG,EAAwCS,MACtD,IAAK7B,EAAO,MAAM,IAAIwH,MAAM,2BAC5B,IAAMC,EAXe,SAACzH,EAAuB0H,GAC/C,IAAMrH,EAAQL,EAAMK,MAAQ,EAAIL,EAAMK,MAAQ,EAG9C,OADoB,IAAVA,EAAc,MAAQqH,EAAWrH,EAQ/BsH,CAAU3H,EAAOwE,EAAE3C,OAC7B,MAAO,CACLT,GAAIoD,EAAEpD,GACNS,MAAO4F,OAKAG,EAAmB,SAACR,EAAcS,GAC7C,IAAMR,EAAwBQ,EAAWb,KAAI,SAACc,GAAD,MAAQ,CACnD1G,GAAI0G,EAAE1G,GACNS,MAAO9B,YAAS+H,OAEZC,EAAcZ,EAAgBC,EAAOC,GACrCW,EAAOpH,KAAKN,IAAI2H,MACpBrH,KACAmH,EAAYf,KAAI,SAACkB,GAAD,OAAOA,EAAErG,UAE3B,OAAO,YACFuF,EAAMJ,KAAI,SAACxC,GAAO,IAAD,EACZxE,EAAK,UAAGqH,EAAUC,MAAK,SAACC,GAAD,OAAQA,EAAGnG,KAAOoD,EAAEpD,aAAtC,aAAG,EAAwCS,MACtD,IAAK7B,EAAO,MAAM,IAAIwH,MAAM,oCAE5B,MAAO,CACLpG,GAAIoD,EAAEpD,GACNS,MAAOjB,KAAKuH,MAAM3D,EAAE3C,MAAQmG,EAAOhI,EAAMK,aAgCpC+H,EAAgB,SAAChB,EAAcpH,GAqB1C,IApBA,IAAMqI,EAAW,SAACjB,EAAcpH,GAC9B,IAAIsI,EAAQ,EACRvE,EAAM,YAAOqD,GAcjB,OAbArD,EAAOwE,SAAQ,SAACC,GACd,IAAMC,EAAgB1E,EAAOuD,MAC3B,SAAC9C,GAAD,OAAOA,EAAE3C,QAAU2G,EAAK3G,OAAS2C,EAAEpD,KAAOoH,EAAKpH,MAE3CsH,EAAeD,EAAgB1E,EAAO4E,QAAQF,IAAkB,EAClEA,GAAiBC,EAAe,IAClCJ,IACAvE,EAAO2E,GAAP,2BACKD,GADL,IAEE5G,OAAoB,OAAb4G,QAAa,IAAbA,OAAA,EAAAA,EAAe5G,OAAQ,QAI7B,CAACkC,EAAQuE,IAGdM,EAAaP,EAASjB,GACnBwB,EAAW,GAAK,GACrBA,EAAaP,EAASO,EAAW,IAEnC,OAAOA,EAAW,IAGPC,EAAc,SAACzB,GAC1B,IAAMoB,EAAOpB,EAAME,MAAK,SAAC9C,GAAD,OAAmB,IAAZA,EAAE3C,SACjC,OAAK2G,EACEA,EAAKpH,GADM,I,OCrHd0H,EAAyC,CAC7CC,gBAAYhC,EACZiC,cAAe,aACfC,WAAY,aACZC,mBAAenC,EACfoC,iBAAkB,aAClBC,MAAO,cAGIC,EACXC,wBAAwCR,GAC7BS,EAAkB,kBAAMC,qBAAWH,IAEnCI,EAAe,SAACC,GAAkC,IACrDC,EAAaD,EAAbC,SADoD,EAEjBC,IAAnCC,EAFoD,EAEpDA,WAAYC,EAFwC,EAExCA,mBAFwC,EAGxBC,qBAHwB,mBAGrDhB,EAHqD,KAGzCC,EAHyC,OAIlBe,qBAJkB,mBAIrDb,EAJqD,KAItCC,EAJsC,KAmBtDa,EAAoC,CACxCjB,aACAC,gBACAC,WAjBiB,SAACtE,GAClBqE,EAAcrE,GACd,IAAMvF,EAAY0K,IAClB,GAAI1K,EAAW,CACb,IAAM6K,EAAUJ,EAAWlF,EAAMvF,GACV,IAAnB6K,EAAQrE,QACVuD,EAAiBc,EAAQ,MAY7Bf,gBACAC,mBACAC,MAVY,WACZJ,OAAcjC,GACdoC,OAAiBpC,KAUnB,OACE,cAACsC,EAAoBa,SAArB,CAA8BrI,MAAOmI,EAArC,SACGL,KCvCDb,EAAuC,CAC3CqB,OAAQlJ,cACRmJ,UAAW,EACXC,SAAU,cAGCC,EAAoBhB,wBAAcR,GAGlCyB,EAAa,SAACb,GAAkC,IACnDC,EAAaD,EAAbC,SADkD,EAE9BI,mBAAiB9I,eAFa,mBAEnDkJ,EAFmD,KAE3CK,EAF2C,OAGxBT,mBAAS,GAHe,mBAGnDK,EAHmD,KAGxCK,EAHwC,OAIfb,IAAnCc,EAJkD,EAIlDA,QAASC,EAJyC,EAIzCA,sBAJyC,EAK5BpB,IAAtBH,EALkD,EAKlDA,MAAOL,EAL2C,EAK3CA,WAKTiB,EAAkC,CACtCG,SACAC,YACAC,SAPe,WACfG,EAAUvJ,eACVwJ,GAAa,SAAC3C,GAAD,OAAOA,EAAI,OAgB1B,OARA8C,qBAAU,WACJT,GAAUC,EAAY,GAAKrB,IAC7B4B,IACAD,EAAQ3B,GACRK,OAED,CAACgB,IAGF,cAACE,EAAkBJ,SAAnB,CAA4BrI,MAAOmI,EAAnC,SACGL,KCzCMkB,EAAW,SAACC,GAA0B,IAAD,EAC3Bf,mBAAgBe,GAAgB,IADL,mBACzC1D,EADyC,KAClC2D,EADkC,KAQhD,MAAO,CACL3D,QACAsD,QARc,SAAC7C,EAAyBlD,GACxCoG,GAAI,SAACC,GAAD,OH8De,SACrB5D,EACA6D,EACApD,EACAlD,GAEA,IAAM0C,EAAwBQ,EAAWb,KAAI,SAACc,GAAD,MAAQ,CACnD1G,GAAI0G,EAAE1G,GACNS,MAAO9B,YAAS+H,OAGZoD,EAAc,sBACf9D,EAAM1B,QAAO,SAAClB,GAAD,OAAOA,EAAEpD,KAAO6J,MADd,CAElB,CACE7J,GAAI6J,EACJpJ,MAAOjB,KAAKuH,MAAMxD,EAAKwG,aAEzBzF,QAAO,SAACsF,GACR,IAAM5L,EAAYyI,EAAWP,MAAK,SAACQ,GAAD,OAAOA,EAAE1G,KAAO4J,EAAE5J,MAC9CpB,EAAQqH,EAAUC,MAAK,SAACL,GAAD,OAAOA,EAAE7F,KAAO4J,EAAE5J,MAC/C,OAAOhC,GAAaY,GAASZ,EAAUgM,OAASpL,EAAM6B,MAAME,UAG9D,OAAOqG,EAAcR,EAAiBsD,EAAarD,GAAaR,GGrFnDgE,CAAQL,EAAGnC,EAAYmC,GAAInD,EAAYlD,OAQlD2G,WANiB,SAACzD,GAClBkD,EHD2B,SAAClD,GAC9B,IAAM7H,EAAoB6H,EAAWb,KAAI,SAACc,GAAD,MAAQ,CAC/C1G,GAAI0G,EAAE1G,GACNS,MAAO9B,YAAS+H,OAMlB,OAJiBlH,KAAKT,IAAI8H,MACxBrH,KACAZ,EAAMgH,KAAI,SAACO,GAAD,OAAQA,EAAG1F,MAAMI,eAEtB2F,EACL5H,EAAMgH,KAAI,SAACO,GAAD,MAAS,CACjBnG,GAAImG,EAAGnG,GACPS,MAAO0F,EAAG1F,MAAMI,eAElB4F,GGbI0D,CAAgB1D,OCiBlBiB,EAAmC,CACvC1B,MAAO,GACPoE,QAAS,GACT3D,WAAY,GACZ4D,KAAM,aACNC,aAAc,aACd5B,mBAAoB,aACpB6B,oBAAqB,iBAAM,IAC3B9B,WAAY,iBAAM,IAClB+B,gBAAiB,aACjBC,qBAAsB,aACtBC,uBAAwB,aACxBnB,sBAAuB,aACvBD,QAAS,cAGEqB,EAAgBzC,wBAAkCR,GAClDc,EAAY,kBAAMJ,qBAAWuC,IAE7BC,EAAwB,SAACtC,GAAkC,IAC9DC,EAAaD,EAAbC,SAD6D,EAEvCI,mBAAwB,IAFe,mBAE9DyB,EAF8D,KAErDS,EAFqD,OAGjClC,mBAAsB,IAHW,mBAG9DlC,EAH8D,KAGlDqE,EAHkD,OAI9BrB,EAAS,IAAxCzD,EAJ6D,EAI7DA,MAAOsD,EAJsD,EAItDA,QAASY,EAJ6C,EAI7CA,WAClBM,EAAkB,SAACxK,EAAY+K,GACnCD,GAAc,SAACE,GAAD,OAAWA,EAAMpF,KAAI,SAACc,GAAD,OAAQA,EAAE1G,KAAOA,EAAK+K,EAAGrE,GAAKA,SAmC7D6D,EAAsB,SAACU,GAAD,OAC1BA,EACGrF,KAAI,SAAC5F,GAAD,OAAQyG,EAAWP,MAAK,SAACQ,GAAD,OAAOA,EAAE1G,KAAOA,QAC5CsE,QAAO,SAACoC,GAAD,YAAaf,IAANe,MAEb4D,EAAe,SAACtK,GAAD,OACnBuK,EAAoB,CAACvK,IAAK,IA0BtBkL,EAAiBC,mBAAQ,WAC7B,OAAOf,EAAQxE,KAAI,SAACwF,GAAD,MAAY,CAC7BpL,GAAIoL,EAAMpL,GACVyG,WAAY2E,EAAMC,aACfzF,KAAI,SAAC5F,GAAD,OAAQyG,EAAWP,MAAK,SAACQ,GAAD,OAAOA,EAAE1G,KAAOA,QAC5CsE,QAAO,SAACoC,GAAD,YAAaf,IAANe,WAElB,CAAC0D,EAAS3D,IAEPmC,EAA8B,CAClC5C,QACAoE,QAASc,EACTzE,aACA4D,KA5BW,SAACiB,GACZT,EACES,EAAE1F,KAAI,SAACwF,GAAD,MAAY,CAChBpL,GAAIoL,EAAMpL,GACVqL,aAAcD,EAAM3E,WAAWb,KAAI,SAACc,GAAD,OAAOA,EAAE1G,WAGhD,IAAMgL,EAAQM,EAAEnN,QACd,SAACwE,EAAQyI,GAAT,4BAAuBzI,GAAvB,YAAkCyI,EAAM3E,eACxC,IAEFqE,EAAcE,GACdd,EAAWc,IAiBXV,eACA5B,mBAvCyB,kBAAM4B,EAAa7C,EAAYzB,KAwCxDuE,sBACA9B,WAvCiB,SAAClF,EAAYO,GAC9B,IAAM+E,ECvFkB,SAC1BtF,EACAO,EACAsG,GAEA,IAAMmB,EAAcnB,EAAQlE,MAAK,SAACkF,GAAD,OAC/BA,EAAMC,aAAaG,SAAS1H,EAAO9D,OAErC,IAAKuL,EAAa,MAAM,IAAInF,MAAM,iCAClC,IAAMqF,EAAarB,EAAQlE,MAAK,SAACkF,GAAD,OAAWA,EAAMpL,KAAOuL,EAAYvL,MACpE,IAAKyL,EAAY,MAAM,IAAIrF,MAAM,uCACjC,OAAQ7C,EAAKQ,QACX,IAAK,MACH,MAAO,CAAC,GAAD,mBAAKwH,EAAYF,cAAjB,YAAkCI,EAAWJ,gBACtD,IAAK,OACH,MAAO,CAAC,CAACvH,EAAO9D,KAClB,IAAK,mBACH,MAAO,CAACuL,EAAYF,cACtB,IAAK,oBAEL,IAAK,oBAEH,OAAOE,EAAYF,aAAazF,KAAI,SAAC5F,GAAD,MAAQ,CAACA,MAC/C,IAAK,qBACH,MAAO,CAACyL,EAAWJ,cACrB,IAAK,sBAEL,IAAK,sBAEH,OAAOI,EAAWJ,aAAazF,KAAI,SAAC5F,GAAD,MAAQ,CAACA,MAC9C,QACE,MAAO,IDwDO0L,CAAanI,EAAMO,EAAQsG,GAC3C,GAAuB,IAAnBvB,EAAQrE,OACV,MAAM,IAAI4B,MAAM,sCAClB,OAAOyC,EAAQjD,KAAI,SAACqF,GAAD,OAASV,EAAoBU,OAoChDT,kBACAC,qBApF2B,SAACzK,EAAYgK,GAAb,OAC3BQ,EAAgBxK,GAAI,SAAC0G,GAAD,mBAAC,eAAYA,GAAb,IAAgBsD,OAAQtD,EAAEsD,OAASA,QAoFvDU,uBAlF6B,SAAC1K,EAAY9B,GAC1C,IAAMyN,EAAkBzN,EAASoG,QAAO,SAACjG,GAAD,OAAYA,EAAOkB,aAE3DiL,EAAgBxK,GAAI,SAAC0G,GACnB,IAAIkF,EAAW,YAAOlF,EAAExI,UAQxB,OAPAyN,EAAgBxE,SAAQ,SAAC9I,GAClBA,EAAOwN,cACVD,EAAcA,EAAYtH,QACxB,SAACuB,GAAD,OAAOA,EAAEjG,WAAavB,EAAOuB,gBAI5B,2BAAK8G,GAAZ,IAAexI,SAAS,GAAD,mBAAM0N,GAAN,YAAsBD,UAuE/CpC,sBAnE4B,WAC5B9C,EAAWU,SAAQ,SAACnJ,GAClBwM,EAAgBxM,EAAUgC,IAAI,SAAC0G,GAAD,mBAAC,eAC1BA,GADyB,IAE5BxI,SAAUwI,EAAExI,SACT0H,KAAI,SAACvH,GAAD,mBAAC,eACDA,GADA,IAEHyB,SAAUzB,EAAOyB,SAAW,OAE7BwE,QAAO,SAACjG,GAAD,OAAgC,IAApBA,EAAOyB,qBA2DjCwJ,QAAS,SAAC/F,GAAD,OAAgB+F,EAAQ7C,EAAYlD,KAG/C,OACE,cAACoH,EAAc7B,SAAf,CAAwBrI,MAAOmI,EAA/B,SACE,cAAC,EAAD,UACE,cAAC,EAAD,UAAaL,S,uCEtGRuD,EAZKC,YAAOC,WAASC,IAAhBF,CAChBG,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,IACAC,KAMFX,EAAIY,YAAc,MAClBZ,EAAIa,aAAe,CACjBC,QAAS,OACTC,cAAe,UCpDV,IAAMC,EAAUf,YAAOD,EAAPC,CAAH,uTAcPgB,EAAShB,YAAOD,EAAPC,CAAY,CAChCc,cAAe,MACfG,WAAY,SACZC,aAAc,SAGHC,EAAgBnB,IAAOE,IAAI,CACtCW,QAAS,OACTC,cAAe,MACfV,OAAQ,oBAGGgB,EAAcpB,IAAOE,KAA2B,SAAC3D,GAAD,MAAY,CACvEsE,QAAS,OACTQ,KAAM,EACNC,SAAU,OACVC,WAAY,IACZC,eAAgB,SAChBP,WAAY,SACZd,WACiB,YAAf5D,EAAM7E,KACF,0EACA,6EAIK+J,EAAiBzB,IAAOE,IAAI,CACvCW,QAAS,OACTQ,KAAM,EACNlB,WAAY,QACZE,MAAO,wBACPmB,eAAgB,SAChBP,WAAY,WAIRS,EAAsB,CAC1BC,EAAG,aACHC,EAAG,iBACHC,EAAG,aACHC,EAAG,SACHC,EAAG,SACHC,EAAG,UAEQC,EAAqBjC,IAAOE,KAAwB,SAAC3D,GAAD,MAAY,CAC3EgF,WAAY,IACZD,SAAU,GACVjB,MAAOqB,EAAenF,EAAMrF,SAAW,YAG5BgL,EAAclC,YAAOD,EAAPC,CAAY,CACrCqB,KAAM,EACNC,SAAU,OACVC,WAAY,IACZlB,MAAO,yBAEP8B,QAAS,UC1EX,SAASC,IAA2Q,OAA9PA,EAAW1L,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAASK,EAAyB5K,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM8K,CAA8B/K,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAIkL,EAAqB,gBAAoB,OAAQ,CACnDC,KAAM,OACNpI,EAAG,8LAGL,SAASqI,EAAUC,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQoG,EAAyBU,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOjB,EAAS,CACtDqB,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAML,GAGpB,IAAIU,EAA0B,aAAiBR,GAChC,IC7Bf,SAAS,IAA2Q,OAA9P,EAAW1M,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,EAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,EAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,+TAGL,SAAS8I,EAAQR,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,EAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,GAGpB,IAAI,EAA0B,aAAiBM,GAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWnN,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,oKAGL,SAAS+I,GAAkBT,EAAMC,GAC/B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBO,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWpN,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,uqDAGL,SAASgJ,GAAWV,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBQ,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWrN,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,yrCAGL,SAASiJ,GAAaX,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBS,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWtN,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,wlDAGL,SAASkJ,GAAcZ,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBU,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWvN,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,mrDAGL,SAASmJ,GAAWb,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBW,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWxN,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,8lBAGL,SAASoJ,GAAcd,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBY,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWzN,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,uZAGL,SAASqJ,GAASf,EAAMC,GACtB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,I,GAAI,GAA0B,aAAiBa,ICdzCC,IDeS,ICf2C,CACxDC,KAAMC,EACNC,MAAOC,EACPC,MAAOC,GACPC,MAAOC,GACPC,QAASC,GACTC,IAAKC,GACLC,MAAOC,GACPC,KAAMC,GACNC,MAAOC,KAGIC,GAA0C,CACrDlB,KAAM,SACNE,MAAO,iBACPE,MAAO,aACPE,MAAO,MACPE,QAAS,OACTE,IAAK,YACLE,MAAO,eACPE,KAAM,iBACNE,MAAO,eAGHvE,GAAUf,IAAOE,IAAV,8FAID,SAACX,GAAD,OAAOA,EAAEc,SAQRoF,GAAc,SAAClJ,GAA6B,IAC/C7E,EAAgB6E,EAAhB7E,KAAM2I,EAAU9D,EAAV8D,MACRqF,EAAOrB,GAAQ3M,GACrB,OACE,cAAC,GAAD,CAAS2I,MAAOA,GAASmF,GAAS9N,GAAlC,SACE,cAACgO,EAAD,OCvDN,SAAS,KAA2Q,OAA9P,GAAWhP,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,40EAGL,SAAS4K,GAAUtC,EAAMC,GACvB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBoC,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWjP,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,uoCAGL,SAAS6K,GAAcvC,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,I,MAAI,GAA0B,aAAiBqC,ICtBzCvB,IDuBS,ICvByC,CACtDwB,SAAUC,GACVC,QAASC,KAGLR,GAAwC,CAC5CK,SAAU,QACVE,QAAS,SAGLhF,GAAUf,IAAOE,IAAV,8FAID,SAACX,GAAD,OAAOA,EAAEc,SAQR4F,GAAW,SAAC1J,GAA0B,IACzC7E,EAAgB6E,EAAhB7E,KAAM2I,EAAU9D,EAAV8D,MACRqF,EAAOrB,GAAQ3M,GACrB,OACE,cAAC,GAAD,CAAS2I,MAAOA,GAASmF,GAAS9N,GAAlC,SACE,cAACgO,EAAD,O,SC5BA3E,GAAUf,YAAOD,EAAPC,CAAH,6DAED,SAACT,GAAD,OACNA,EAAEc,OAA4B,kBAAZd,EAAEc,MAAqBd,EAAEc,MAAQ,aAI5C6F,GAAO,SAAC3J,GAAsB,IACjCC,EAAsBD,EAAtBC,SAAa2J,EADmB,aACV5J,EADU,cAExC,OAAO,cAAC,GAAD,2BAAa4J,GAAb,aAAoB3J,MCd7B,SAAS,KAA2Q,OAA9P,GAAW9F,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,4hDAGL,SAASqL,GAAc/C,EAAMC,GAC3B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiB6C,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW1P,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,mTAGL,SAASsL,GAAqBhD,EAAMC,GAClC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiB8C,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAW3P,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,oTAGL,SAASuL,GAAsBjD,EAAMC,GACnC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,I,GAAI,GAA0B,aAAiB+C,ICrBzCjC,IDsBS,ICtB8C,CAC3DrM,OAAQuO,GACRxO,OAAQyO,KAGJhB,GAA6C,CACjDxN,OAAQ,yBACRD,OAAQ,0BAGJgJ,GAAUf,IAAOE,IAAV,oHAKD,SAACX,GAAD,OAAOA,EAAEc,SAQRoG,GAAmB,SAAClK,GAAkC,IACzD7E,EAAgB6E,EAAhB7E,KAAM2I,EAAU9D,EAAV8D,MACRqF,EAAOrB,GAAQ3M,GACrB,OACE,cAAC,GAAD,CAAS2I,MAAOA,GAASmF,GAAS9N,GAAlC,SACE,cAACgO,EAAD,OC/BOgB,GAAmD,CAC9D9R,OAAQ,SACR1B,MAAO,QACP2B,OAAQ,SACRC,WAAY,aACZC,eAAgB,kBAChBC,eAAgB,kBAChBjC,iBAAkB,iBAClBkC,eAAgB,cAChBC,gBAAiB,eACjBjC,gBAAiB,gBACjBkC,cAAe,cACfC,eAAgB,eAChBC,WAAY,cACZC,eAAgB,WAChBC,YAAa,eACbC,gBAAiB,YACjBC,YAAa,eACbC,gBAAiB,YACjBC,YAAa,eACbC,gBAAiB,YACjBC,cAAe,iBACfC,kBAAmB,cACnBC,UAAW,aACXC,cAAe,UACfC,YAAa,eACbC,gBAAiB,YACjBC,WAAY,cACZC,eAAgB,WAChBC,YAAa,eACbC,gBAAiB,aAONqQ,GAAa,SAACpK,GAA4B,IAC7CjK,EAAWiK,EAAXjK,OACFsU,EAAUtU,EAAOC,UAAUsH,KAAI,SAAC9C,GAAD,OACnCL,OAAOC,KAAKI,EAAIlE,UAElB,OACE,eAACkN,EAAD,CAAKI,WAAW,QAAQgC,QAAQ,MAAhC,UACE,cAACpC,EAAD,CAAK8G,MAAO,CAAEtF,WAAY,KAA1B,SAAkCjP,EAAOwU,OACzC,cAAC/G,EAAD,UACG6G,EAAQ/M,KAAI,SAAClD,EAAMoQ,GAAP,OACXpQ,EAAKkD,KAAI,SAACrD,GACR,IACMwQ,EADM1U,EAAOC,UAAUwU,GACdlU,MAAM2D,GACrB,OAAKwQ,EAEH,eAACjH,EAAD,WACY,IAATiH,EAAG5S,GACF,eAAC2L,EAAD,WACG2G,GAAWlQ,GADd,KACsBwQ,EAAG5S,EAAI,EAAI,IAAM,GAC7B,IAAP4S,EAAG5S,EAFN,OAKQ,IAAT4S,EAAG3S,GACF,eAAC0L,EAAD,WACG2G,GAAWlQ,GADd,KACsBwQ,EAAG5S,EAAI,EAAI,IAAM,GACpC4S,EAAG3S,OAVV,UAAa/B,EAAO2B,GAApB,YAA0BuC,IAFZ,iB,SC3CfyQ,GAAU,SAAC1K,GAAyB,IAAD,EAQ1CA,EANF2K,cAF4C,SAG5CC,EAKE5K,EALF4K,QACA3K,EAIED,EAJFC,SAJ4C,EAQ1CD,EAHF6K,oBAL4C,MAK7B,GAL6B,IAQ1C7K,EAFF8K,eAN4C,MAMlC,GANkC,EAOzClB,EAPyC,aAQ1C5J,EAR0C,4DAUgB+K,aAAS,aACrEJ,UACGG,IAFGE,EAVsC,EAUtCA,WAAYC,EAV0B,EAU1BA,WAAYC,EAVc,EAUdA,aAAcC,EAVA,EAUAA,YAK9C,OACE,qCACE,cAAC3H,EAAD,uCAASoG,GAAUsB,GAAnB,aACGjL,KAEF0K,GACCQ,EACE,eAAC3H,EAAD,uCAASqH,GAAkBI,GAA3B,cACGL,EACD,cAAC,KAAD,eAAWI,aCnCVI,GACC,UADDA,GAEA,UCEA5G,GAAUf,YAAOD,EAAPC,CAAY,CACjC4H,WAAY,MACZ9G,cAAe,MACfG,WAAY,eAGD4G,GAAgB7H,YAAOD,EAAPC,EAAqC,SAACzD,GAAD,MAAY,CAC5E8D,MAAQ9D,EAAMvI,WAA+B2T,GAAlBA,GAC3BG,YAAa,MACbhH,cAAe,MACfG,WAAY,aAGD8G,GAAe/H,YAAOD,EAAPC,CAAY,CACtC8H,YAAa,MACbE,QAAS,IACT1G,SAAU,OACVC,WAAY,MAGD0G,GAAajI,YAAOD,EAAPC,EAAsC,SAACzD,GAAD,MAAY,CAC1E+E,SAAU,OACVC,WAAY,IACZ2G,OAAQ,UACRC,eAAgB5L,EAAM6L,WAAa,YAAc,WChBtCC,GAAa,SAAC9L,GAA4B,IAC7CpK,EAAmBoK,EAAnBpK,SAAUuF,EAAS6E,EAAT7E,KAClB,OAAe,OAARvF,QAAQ,IAARA,OAAA,EAAAA,EAAUsG,QACf,eAAC,GAAD,WACE,cAACsH,EAAD,CAAKuI,WAAW,MAAMR,YAAY,MAAlC,SACE,cAAC,GAAD,CAAkBpQ,KAAMA,MAE1B,cAACqI,EAAD,CAAKe,cAAc,MAAMyH,SAAS,OAAlC,SACGpW,EAAS0H,KAAI,SAACvH,EAAQ+E,GAAT,OACZ,cAAC,GAAD,CAAgB/E,OAAQA,EAAxB,SACG+E,IAAMlF,EAASsG,OAAS,EAAI,IAAM,aAKzC,MAMO+P,GAAiB,SAC5BjM,GACI,IACIjK,EAAqBiK,EAArBjK,OAAQkK,EAAaD,EAAbC,SADb,EAEiCI,oBAAS,GAF1C,mBAEIwL,EAFJ,KAEgBK,EAFhB,KAGH,OACE,eAACZ,GAAD,CACE7T,WAAY1B,EAAO0B,WACnB0U,aAAc,kBAAMD,GAAc,IAClCE,aAAc,kBAAMF,GAAc,IAHpC,UAKE,eAACV,GAAD,gBAAsC,IAArBzV,EAAOiB,aAAmBqV,QAAQ,GAAnD,QACA,cAAC,GAAD,CACE1B,OAAQkB,EACRjB,QAAS,cAAC,GAAD,CAAY7U,OAAQA,IAC7B+U,QAAS,CACPwB,cAAe,GAJnB,SAOE,cAACZ,GAAD,CAAYG,WAAYA,EAAxB,SAAqC9V,EAAOwU,SAE7CtK,MC/CDsM,GAAU9I,YAAOD,EAAPC,CAAY,CAC1B+I,MAAO,OACP7H,aAAc,QAEV8H,GAAehJ,YAAOD,EAAPC,CAAY,CAC/Bc,cAAe,MACfU,eAAgB,gBAChBP,WAAY,WAERgI,GAAQjJ,YAAOD,EAAPC,CAAY,CACxBuB,WAAY,IACZ2H,cAAe,YACf5H,SAAU,SAEN6H,GAASnJ,YAAOD,EAAPC,CAAY,CACzBqB,KAAM,EACN+H,OAAQ,MACRC,aAAc,mCACdC,OAAQ,aAEJC,GAASvJ,YAAOD,EAAPC,CAAY,CACzBsB,SAAU,OACV0G,QAAS,MAWEwB,GAAsB,SAACjN,GAAqC,IAC/DrF,EAA2DqF,EAA3DrF,OAD8D,EACHqF,EAAnDkN,mBADsD,MACxC,QADwC,EAC/BC,EAA4BnN,EAA5BmN,OAAQvX,EAAoBoK,EAApBpK,SAAUoR,EAAUhH,EAAVgH,MACnDoG,EAAcC,MAAM1S,GAAQiM,KAAK,MACvC,OACE,eAAC2F,GAAD,WACE,eAACE,GAAD,WACE,cAACC,GAAD,UAAQ1F,IACR,cAAC4F,GAAD,IACA,eAACpJ,EAAD,CAAKe,cAAc,MAAMG,WAAW,SAApC,UACE,cAAClB,EAAD,CAAKe,cAAc,MAAMgH,YAAY,MAArC,SACG6B,EAAY9P,KAAI,SAACgQ,EAAGxS,GAAJ,OACf,cAAC,GAAD,CAAcgJ,MAAOoJ,EAAaL,OAAO,OAAOL,MAAM,OAAtD,SACE,cAAC,GAAD,KADS1R,aAMHuC,IAAX8P,GACC,eAACH,GAAD,gBAAoB,IAATG,GAAcd,QAAQ,GAAjC,cAIN,cAAC,GAAD,CAAYzW,SAAQ,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAU4F,OAAQL,KAAK,WAC7C,cAAC,GAAD,CAAYvF,SAAQ,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAU6F,OAAQN,KAAK,eCjDtCoS,GAAe,SAACvN,GAA8B,IACjD/E,EAAoB+E,EAApB/E,KAAMvF,EAAcsK,EAAdtK,UACR8X,EACJvS,EAAKkC,iBACLlC,EAAKkC,gBAAgB3B,OAAOU,OAASjB,EAAKkC,gBAAgB1B,OAAOS,OAAS,EACtEuR,EACJxS,EAAKmC,iBACLnC,EAAKmC,gBAAgB5B,OAAOU,OAASjB,EAAKmC,gBAAgB3B,OAAOS,OAAS,EACtEwR,EAAgBhY,EAClBsF,+BAAqBC,EAAMvF,QAC3B2H,EACEsQ,EAAgBjY,EAClB4F,+BAAqBL,EAAMvF,QAC3B2H,EAEJ,OAAKoQ,GAAuBD,EAE1B,eAAChK,EAAD,CAAKI,WAAW,mBAAmBgC,QAAQ,MAAMmH,OAAO,kBAAxD,UACGS,GACC,cAAC,GAAD,CACE7S,OAAQM,EAAKN,OACbwS,OAAQO,EACR9X,SAAUqF,EAAKkC,gBACf6J,MAAM,eAGTyG,GACC,cAAC,GAAD,CACE9S,OAAQM,EAAKN,OACbuS,YAAY,yBACZC,OAAQQ,EACR/X,SAAUqF,EAAKmC,gBACf4J,MAAM,kBAjByC,MCXnD4G,GAAkD,CACtDC,IAAK,MACLC,KAAM,OACN,sBAAuB,QACvB,sBAAuB,SACvB,qBAAsB,QACtB,oBAAqB,OACrB,oBAAqB,SACrB,mBAAoB,QAQTC,GAAO,SAAC/N,GAAyC,IACpD/E,EAA8B+E,EAA9B/E,KAAMvF,EAAwBsK,EAAxBtK,UAAWuK,EAAaD,EAAbC,SACnB+N,EAAWnL,mBAAQ,WACvB,GAAInN,EAAW,CACb,IAAMY,EAAQD,YAASX,GACvB,MAAM,IAAN,OACEY,EAAM,GAAD,OAAI2E,EAAKE,KAAT,aAAkDF,EAAKG,OAD9D,MAIF,MAAM,IAAN,OAAWH,EAAKG,QAAU,GAAK,KAA/B,OAAqCH,EAAKG,OAA1C,OACC,CAAC1F,EAAWuF,IAEf,OACE,eAACuJ,EAAD,WACE,eAACC,EAAD,WACE,cAAC,GAAD,CAAatJ,KAAMF,EAAK9E,UACxB,cAACqN,EAAD,CAAKsB,KAAM,EAAGmJ,aAAa,OAA3B,SACE,wBAAQ3D,MAAO,CAAEe,WAAY,EAAGtG,SAAU,IAA1C,SAAiD9J,EAAKsP,YAG1D,eAAC3F,EAAD,WACE,eAACC,EAAD,CAAa1J,KAAMF,EAAKE,KAAxB,UACE,cAAC,GAAD,CAAUA,KAAMF,EAAKE,OACrB,sBAAMmP,MAAO,CAAEe,WAAY,GAA3B,SAAiCpQ,EAAKqB,WAExC,eAAC4I,EAAD,WACE,cAACQ,EAAD,CAAoB/K,OAAQM,EAAKN,OAAQ2P,MAAO,CAAEiB,YAAa,GAA/D,SACGtQ,EAAKN,SAEP,IAJH,IAISqT,QAIX,eAACxK,EAAD,CACEe,cAAc,MACd+F,MAAO,CAAEnG,UAAW,UACpB4I,OAAO,eAHT,UAKE,eAACpH,EAAD,WACE,cAACnC,EAAD,CAAK8G,MAAO,CAAEvF,SAAU,GAAImJ,WAAY,UAAxC,oBACA,cAAC1K,EAAD,CAAKM,MAAM,QAAX,SAAoB8J,GAAoB3S,EAAKQ,aAE/C,eAACkK,EAAD,WACE,cAACnC,EAAD,CAAK8G,MAAO,CAAEvF,SAAU,GAAImJ,WAAY,UAAxC,yBACA,cAAC1K,EAAD,CAAKM,MAAM,QAAX,SAAoB7I,EAAKkT,gBAE3B,eAACxI,EAAD,WACE,cAACnC,EAAD,CAAK8G,MAAO,CAAEvF,SAAU,GAAImJ,WAAY,UAAxC,sBACA,cAAC1K,EAAD,CAAKM,MAAM,QAAX,SAAoB7I,EAAKwG,iBAG7B,cAAC,GAAD,CAAcxG,KAAMA,EAAMvF,UAAWA,IACrC,cAAC8N,EAAD,CAAKsB,KAAM,IACV7E,MCnFDmO,GAAc,yBACdC,GAAe5K,YAAOD,EAAPC,CAAY,CAC/BiB,WAAY,SACZd,WAAY,mBACZC,OAAO,aAAD,OALc,0BAMpByK,aAAc,MACdxK,MAAOsK,GACPzC,OAAQ,UACR3G,WAAY,IACZY,QAAS,WACT+G,cAAe,YACf4B,WAAY,+BACZ,SAAU,CACR3K,WAAY,yBACZ4K,YAAaJ,GACbtK,MAAOsK,IAET,UAAW,CACTxK,WAAY,iBAIH6K,GAAS,SAACzO,GAAD,OAAqB,cAACqO,GAAD,eAAkBrO,KCjBhD0O,GAAoB,SAAC1O,GAAmC,IAAD,EAC1DI,EAAuBF,IAAvBE,mBACAb,EAAeM,IAAfN,WACF7J,EAAY0K,IAClB,OACE,cAACoD,EAAD,CAAKsB,KAAK,IAAI6J,SAAS,OAAvB,SACE,eAACnL,EAAD,WACE,oBAAI8G,MAAO,CAAExG,MAAO,QAASK,UAAW,UAAxC,8BAGA,cAACX,EAAD,CACEsB,KAAK,IACLP,cAAc,MACdyH,SAAS,OACT/G,eAAe,SACf0J,SAAS,OALX,gBAOGjZ,QAPH,IAOGA,GAPH,UAOGA,EAAWkJ,aAPd,aAOG,EAAkBtB,KAAI,SAACrC,GAAD,OACrB,cAAC,GAAD,CAAoBA,KAAMA,EAAMvF,UAAWA,EAA3C,SACE,cAAC,GAAD,CACEkZ,UAAU,MACVC,QAAS,WACPtP,EAAWtE,IAHf,qBADSA,EAAKvD,e,QCtBfoX,GAAa,SAAC9O,GAA4B,IAC7CC,EAAsBD,EAAtBC,SAAa2J,EAD+B,aACtB5J,EADsB,cAE9C+O,EAAaC,yBAAc,CAAC/O,GAAW,CAC3CgP,KAAM,CAAExD,QAAS,GACjByD,MAAO,CAAEzD,QAAS,GAClB0D,MAAO,CAAE1D,QAAS,GAClB2D,OAAQA,UAAOC,OAEjB,OACE,cAAC7L,EAAD,2BAASoG,GAAT,IAAe9E,KAAM,EAAG0H,MAAM,OAAOvI,SAAS,WAA9C,SACG8K,GAAW,SAACO,EAAQC,GAAT,OACV,cAAC/L,EAAD,CACES,SAAS,WACTqG,MAAK,2BACAgF,GADA,IAEHE,MAAO,QAJX,SAOGD,WChBL/K,GAAUf,YAAOD,EAAPC,CAAY,CAC1BgM,UAAW,sCACXC,UAAW,aACXxB,WAAY,SACZS,SAAU,SACVjK,WAAY,SACZO,eAAgB,SAChB0K,aAAc,WACdrL,QAAS,iBAMEsL,GAAwB,SAAC5P,GAAuC,IACnEtK,EAAuBsK,EAAvBtK,UAAckU,EADoD,aAC3C5J,EAD2C,eAE1E,OACE,cAAC,GAAD,2BACM4J,GADN,IAEEiG,gBACE5G,GAAQ,OAACvT,QAAD,IAACA,OAAD,EAACA,EAAWQ,SAAS,GAAGC,aAMxCyZ,GAAsBvL,aAAe,CACnCwI,OAAQ,OACRL,MAAO,OACPsD,YAAa,MACbtB,YAAa,QACbuB,YAAa,SC3BR,IAAMC,GAAoB,SAAChQ,GAAmC,IAC3DiQ,EAAmBjQ,EAAnBiQ,eAD0D,EAEtBpQ,IAApCP,EAF0D,EAE1DA,cAAeG,EAF2C,EAE3CA,iBACvB,OACE,eAAC+D,EAAD,CAAKsB,KAAM,EAAGJ,WAAW,SAAzB,UACE,cAAClB,EAAD,CAAKe,cAAc,MAAMG,WAAW,SAApC,SACE,oBAAI4F,MAAO,CAAExG,MAAO,SAApB,+BAEF,cAACN,EAAD,CAAKe,cAAc,MAAnB,SACG0L,EAAe3S,KAAI,SAACiD,EAASzF,GAAV,OAClB,eAAC0I,EAAD,CAEEoC,QAAQ,OACRmH,OAAO,MACPlJ,OAAO,kBACPa,WAAW,SACXd,WAAW,uFANb,UAYGrD,EAAQjD,KAAI,SAAC7B,GAAD,OACX,cAAC,GAAD,CAEEoR,OAAO,OACPL,MAAM,OACN9W,UAAW+F,GAHNA,EAAO/D,OAMhB,cAAC,GAAD,CAAQkX,UAAU,MAAMC,QAAS,kBAAMpP,EAAiBc,IAAxD,sBAnBKzF,QAyBX,cAAC0I,EAAD,CAAKoL,UAAU,OAAf,SACE,cAAC,GAAD,CAAQC,QAAS,kBAAMvP,OAAcjC,IAArC,yC,oBCzCK6S,GAAiB,SAAClQ,GAAgC,IACrD7H,EAAmB6H,EAAnB7H,MAAUyR,EAD0C,aACjC5J,EADiC,WAE5D,OAAO,cAACwD,EAAD,2BAASoG,GAAT,aAAgBzR,EAAMgY,IAAG,SAACC,GAAD,OAAOA,EAAE/D,QAAQ,UCTnD,SAAS,KAA2Q,OAA9P,GAAWlS,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,o+EAGL,SAAS6R,GAAWvJ,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBqJ,IAChC,IC7Bf,SAAS,KAA2Q,OAA9P,GAAWlW,OAAO2L,QAAU,SAAUrK,GAAU,IAAK,IAAIX,EAAI,EAAGA,EAAIiL,UAAU7J,OAAQpB,IAAK,CAAE,IAAIU,EAASuK,UAAUjL,GAAI,IAAK,IAAIb,KAAOuB,EAAcrB,OAAO6L,UAAUC,eAAeC,KAAK1K,EAAQvB,KAAQwB,EAAOxB,GAAOuB,EAAOvB,IAAY,OAAOwB,IAA2B8C,MAAM4H,KAAMJ,WAEhT,SAAS,GAAyBvK,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAAkEvB,EAAKa,EAAnEW,EAEzF,SAAuCD,EAAQ6K,GAAY,GAAc,MAAV7K,EAAgB,MAAO,GAAI,IAA2DvB,EAAKa,EAA5DW,EAAS,GAAQ6K,EAAanM,OAAOC,KAAKoB,GAAqB,IAAKV,EAAI,EAAGA,EAAIwL,EAAWpK,OAAQpB,IAAOb,EAAMqM,EAAWxL,GAAQuL,EAASpH,QAAQhF,IAAQ,IAAawB,EAAOxB,GAAOuB,EAAOvB,IAAQ,OAAOwB,EAFxM,CAA8BD,EAAQ6K,GAAuB,GAAIlM,OAAOqM,sBAAuB,CAAE,IAAIC,EAAmBtM,OAAOqM,sBAAsBhL,GAAS,IAAKV,EAAI,EAAGA,EAAI2L,EAAiBvK,OAAQpB,IAAOb,EAAMwM,EAAiB3L,GAAQuL,EAASpH,QAAQhF,IAAQ,GAAkBE,OAAO6L,UAAUU,qBAAqBR,KAAK1K,EAAQvB,KAAgBwB,EAAOxB,GAAOuB,EAAOvB,IAAU,OAAOwB,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDmL,KAAM,OACNpI,EAAG,6zCAGL,SAAS8R,GAAaxJ,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfjH,EAAQ,GAAyB8G,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDI,MAAO,6BACPC,QAAS,cACTC,IAAKL,EACL,kBAAmBE,GAClBjH,GAAQgH,EAAqB,gBAAoB,QAAS,CAC3DtP,GAAIuP,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBsJ,ICrBzC9L,IDsBS,ICtBCf,YAAOD,EAAPC,EAAY,SAACT,GAAD,MAAQ,CAClCiB,SAAU,WACV0K,SAAU,SACVoB,YAAa,QACbN,UAAW,oCACX1C,OAAQ,OAGJwD,GAAQ9M,YAAOD,EAAPC,EAAY,iBAAO,CAC/BgM,UAAW,4BACXe,OAAQ,MAcGC,GAAQ,SAACzQ,GAAuB,IAEzC7H,EAWE6H,EAXF7H,MACAuY,EAUE1Q,EAVF0Q,KAHwC,EAatC1Q,EATF4F,eAJwC,MAI9B,MAJ8B,IAatC5F,EARF8P,mBALwC,MAK1B,MAL0B,IAatC9P,EAPF2Q,aANwC,MAMhC,EANgC,IAatC3Q,EANF4Q,iBAPwC,MAO5B,yBAP4B,IAatC5Q,EALF6Q,oBARwC,MAQzB,yBARyB,IAatC7Q,EAJF8Q,oBATwC,MASzB,QATyB,IAatC9Q,EAHF6P,uBAVwC,MAUtB,0BAVsB,EAWxC5P,EAEED,EAFFC,SACA8Q,EACE/Q,EADF+Q,OAZwC,EAcV1Q,oBAAS,GAdC,mBAcnC2Q,EAdmC,KAczBC,EAdyB,KAepCC,EAAmB,OAAV/Y,EAGTgZ,EAAUC,yBACVC,EAAOC,oBAAU,CACrBlK,IAAK+J,EACLlC,KAAM,CAAEsC,KAAMb,GACda,IAAKL,GAAUR,EAAO,EACtBtB,OAAQ,CAAE5X,SANS,KAOnBmZ,MAAOA,IAIHa,EAAWJ,yBACXK,EAAQH,oBAAU,CACtBlK,IAAKoK,EACLvC,KAAM,CAAEjX,EAAG,GACXmY,GAAI,CAAEnY,EAAGkZ,EAAS,EAAI,GACtB9B,OAAQ,CAAE5X,SANU,KAOpBmZ,MAAOA,EAjBY,IAkBnBI,OAAQ,WACNE,GAAaC,GACbH,GAAUA,OAIRW,EAAYN,yBACZvN,EAASyN,oBAAU,CACvBlK,IAAKsK,EACLzC,KAAM,CACJT,YAAaoC,GAEfT,GAAI,CACF3B,YAAawC,EAAY7Y,EAAQ2Y,EAAeD,EAAgBD,KAI9De,EAAcxZ,EAAQ,gBAAkB,kBACxCyZ,EAAcZ,EAAQ,uBACRW,EADQ,gCAETA,EAFS,UAItBE,EAASP,oBAAU,CACvB7B,UAAWmC,EACX/B,gBAAiBA,IAInB,OADAiC,mBAAS,CAACX,EAASK,EAAUE,IAE3B,cAAC,GAAD,CACE7E,OAAQ6D,EACRlE,MAAOkE,EACPZ,YAAaA,EACbxF,MAAK,2BACAzG,GADA,IAEHkO,UAAWN,EAAMzZ,EACdmY,GAAG,CACF6B,MAAO,CAAC,EAAG,GAAK,GAChBC,OAAQ,CAAC,EAAGf,EAAS,EAAIR,EAAO,EAAG,KAEpCP,IAAG,SAACnY,GAAD,iCAA2BA,EAA3B,iBAXV,SAcE,cAACuY,GAAD,CACE1D,OAAQ6D,EACRlE,MAAOkE,EACPzM,SAAS,WACTqG,MAAK,uCACA+G,GACAQ,GAFA,IAGHjL,KAAM/C,EAAO2K,cAPjB,SAUE,cAAC,GAAD,CAAM1J,KAAM,EAAGc,QAASA,EAAxB,SACG3F,GAAY,cAAC,GAAD,WCtGViS,GAAgB,SAAClS,GAA+B,IACnDnF,EAAoBmF,EAApBnF,QAASsX,EAAWnS,EAAXmS,OADyC,EAEpB9R,mBAASxF,EAAQyC,KAAI,SAACgQ,GAAD,OAAO,MAFR,mBAEnD8E,EAFmD,KAEtCC,EAFsC,KAY1D,OANAnR,qBAAU,WACJkR,EAAYE,MAAMrW,UACpBkW,MAED,CAACC,IAGF,cAAC5O,EAAD,CAAKoC,QAAQ,WAAWhC,WAAW,mBAAnC,SACG/I,EAAQyC,KAAI,SAACjD,EAAQS,GAAT,OACX,cAAC0I,EAAD,CAAKoL,UAAW9T,EAAI,EAAI,OAAS,EAAjC,SACE,cAAC,GAAD,CAAcT,OAAQA,EAAQ8X,OAAQ,kBAbvBI,EAa2CzX,EAZhEuX,GAAe,SAACG,GAAD,OAAOA,EAAElV,KAAI,SAACkB,EAAG1D,GAAJ,OAAWA,IAAMyX,GAAe/T,QADxC,IAAC+T,aAwBnBE,GAAe,SAACzS,GAA8B,IAC1C3F,EAAmB2F,EAAnB3F,OAAQ8X,EAAWnS,EAAXmS,OADiC,EAEb9R,oBAAS,GAFI,mBAE1CqS,EAF0C,KAE9BC,EAF8B,KAI3CC,EAAUtB,qBAAU,CACxBrC,KAAM,CAAExD,QAAS,GACjB0E,GAAI,CAAE1E,QAAS,GACf2D,OAAQ,CACN5X,SAAU,KAEZuZ,OAAQ,WACqB,IAAvB1W,EAAO4C,aACT0V,GAAc,MAIdjR,EAAS4P,qBAAU,CACvB5P,OAAQrH,EAAO4C,YACfgS,KAAM,CACJvN,OAAQ,GAEV0N,OAAQ,CACNyD,KAAM,GACNC,QAAS,IACTC,SAAU,IACVC,OAAO,GAETjC,OAAQ,kBAAM4B,GAAc,MAS9B,OANAzR,qBAAU,WACJwR,GACFP,MAED,CAACO,IAGF,eAAClP,EAAD,CAAK8G,MAAOsI,EAASjE,SAAS,SAA9B,UACE,eAACnL,EAAD,CAAKe,cAAc,MAAMG,WAAW,SAASO,eAAe,SAA5D,UACE,cAAC,GAAD,CACEnB,MAAM,QACN0I,MAAM,OACN9H,WAAW,SACX4F,MAAO,CAAEvF,SAAU,OAAQC,WAAY,UACvC7M,MAAOuJ,EAAOA,SAEhB,cAAC8B,EAAD,CAAKgJ,MAAM,OAAO9H,WAAW,SAASqI,OAAO,aAA7C,SACE,cAAC,GAAD,CAAMP,MAAM,OAAO1I,MAAM,yBAAzB,SACE,cAAC,GAAD,QAIJ,cAAC,GAAD,CACE+I,OAAO,OACPL,MAAM,OACN9W,UAAW2E,EAAOoB,YAGtB,cAAC+H,EAAD,CAAKqJ,OAAQxS,EAAOzE,SAAS6F,OAAOS,OAAS,OAAS,MAAtD,SACGwW,GACC,cAAClP,EAAD,CAAKe,cAAc,MAAMU,eAAe,SAAxC,SACG5K,EAAOzE,SAAS6F,OAAO6B,KAAI,SAACvH,EAAQ+E,GAAT,OAC1B,eAAC0I,EAAD,CAEEM,MAAM,QACNS,cAAc,MACdG,WAAW,SACXkB,QAAQ,QALV,UAOE,cAAC,GAAD,CACE8K,KAAM,GACN9K,QAAQ,MACRkK,YAAa,MACb3X,MAAOpC,EAAOkB,UACd6Z,aAAc1F,GALhB,SAQGrV,EAAOkB,UAAY,cAAC,GAAD,IAAc,cAAC,GAAD,MAEpC,cAACuM,EAAD,CAAKiI,QAAS1V,EAAOkB,UAAY,EAAI,IAArC,SAA4ClB,EAAOwU,SAhB9CxU,EAAO2B,eChGfub,GAAa,SAACjT,GAA+C,IAChE7D,EAA0D6D,EAA1D7D,QAAS+W,EAAiDlT,EAAjDkT,KAAMR,EAA2C1S,EAA3C0S,WAAYS,EAA+BnT,EAA/BmT,iBAAkBlT,EAAaD,EAAbC,SAC/CmT,EAAa9B,qBAAU,CAC3BrC,KAAM,CACJxD,QAAS,GAEX0E,GAAI,CACF1E,QAAS,GAEX2D,OAAQ,CAAE5X,SAAUkb,EAAa,EAAI,OAIjCW,EAAgB/B,qBAAU,CAC9BrC,KAAM,CACJV,WAAY,oCAEd4B,GAAI,CACF5B,WAAYmE,EACR,6BACA,oCAENtD,OAAQ,CACNyD,KAAM,EACNC,QAAS,KACTC,SAAU,IACVC,OAAO,KAIX,OACE,eAACxP,EAAD,CACES,SAAS,WACTsN,IAAI,IACJ+B,OAAO,IACPC,KAAK,IACLC,MAAM,IACNlP,QAAQ,OACRW,eAAe,SACfP,WAAW,SACX4F,MAAO8I,EATT,UAWGjX,GAAWuW,GACV,cAAClP,EAAD,CACE8G,MAAK,2BACA+I,GADA,IAEHrO,WAAY,SACZD,SAAU,OACVjB,MAAOqP,IALX,SAQGlT,IAGJiT,GACC,cAAC1P,EAAD,CACE8G,MAAO,CACLtF,WAAY,SACZD,SAAU,OACVjB,MAAO,QAJX,yBCrDK2P,GAAyB,SAACzT,GAAwC,IAE3EtE,EAMEsE,EANFtE,MACAgX,EAKE1S,EALF0S,WACAgB,EAIE1T,EAJF0T,kBACAC,EAGE3T,EAHF2T,YACAR,EAEEnT,EAFFmT,iBACAhB,EACEnS,EADFmS,OAP0E,EASxC9R,mBAAS3E,EAAM4B,KAAI,SAACgQ,GAAD,OAAO,MATc,mBASrEsG,EATqE,KASzDC,EATyD,KAYtEC,EAAUF,EAAWtB,MAAMrW,SAC3B8X,EAAYrY,EAAM4W,MAAMrW,SACxB+X,GAAUtY,EAAMuY,KAAKhY,SAQ3B,OANAiF,qBAAU,WACJ4S,GACF3B,MAED,CAAC2B,IAGF,eAACtQ,EAAD,CAAKe,cAAc,MAAMN,SAAS,WAAWgB,eAAe,SAA5D,UACGvJ,EAAM4B,KAAI,SAACkV,EAAG1X,GAAJ,OACT,cAAC,GAAD,CAEE4V,KAAM,IACNC,MAAO,IAAM7V,EACb3C,MAAOqa,EACP1B,aACEgD,GAAWC,EAAYL,OAAiCrW,EAE1DwS,gBACEiE,EACItB,EACE,yBACA,mBACF,mBAENzB,OAAQ,WA9BK,IAACwB,IA+BCzX,EA9BrB+Y,GAAc,SAACrV,GAAD,OAAOA,EAAElB,KAAI,SAACc,EAAGtD,GAAJ,OAAWA,IAAMyX,GAAenU,UAehDtD,MAmBRgZ,GACC,cAAC,GAAD,CACE3X,QAAS4X,EACTb,KAAMc,EACNtB,WAAYA,EACZS,iBAAkBA,EAJpB,SAMGQ,QChDEO,GAAmB,SAAClU,GAAkC,IAE/DtE,EAMEsE,EANFtE,MACAb,EAKEmF,EALFnF,QAH8D,EAQ5DmF,EAJF2T,mBAJ8D,MAIhD,UAJgD,IAQ5D3T,EAHFmU,oBAL8D,MAD7B,UAC6B,EAM9DC,EAEEpU,EAFFoU,aACAjC,EACEnS,EADFmS,OAP8D,EASd9R,mBAAS8T,GATK,mBASzDT,EATyD,KAStCW,EATsC,KAU1DlB,EAAmBtQ,mBACvB,kBAAMyR,KAAMH,GAAcI,QAAQ,IAAKC,MAAMC,aAC7C,CAACN,IAZ6D,EAc5B9T,oBAAS,GAdmB,mBAczDuT,EAdyD,KAc7CC,EAd6C,OAe5BxT,oBAAS,GAfmB,mBAezDqS,EAfyD,KAe7CC,EAf6C,KAiB1D+B,EAAgB7Z,EAAQhF,QAAO,SAAC8e,EAAKta,GACzC,OAAOsa,EAAMta,EAAOzE,SAAS6F,OAAOS,SACnC,GAYH,OATAgF,qBAAU,WACJwR,IACF0B,GAAgBA,IAChBQ,YAAW,WACTzC,GAAUA,MACT,IAAuB,IAAhBuC,MAEX,CAAChC,IAGF,eAAClP,EAAD,CAAKqR,SAAS,QAAQ5P,eAAe,SAASqF,MAXhC,GAWd,UACE,cAAC,GAAD,CACE5O,MAAOA,EACPgX,WAAYA,EACZgB,kBAAmBA,EACnBC,YAAaA,EACbR,iBAAkBA,EAClBhB,OAAQ,kBAAM0B,GAAc,MAE7BD,GACC,eAACpQ,EAAD,CAAKe,cAAc,MAAnB,UACE,cAACf,EAAD,CAAKsB,KAAM,IACX,cAACtB,EAAD,CAAKqR,SAAS,QAAQjG,UAAU,OAAhC,SACE,cAAC,GAAD,CACE/T,QAASA,EACTsX,OAAQ,WACNkC,EAAqBF,GACrBxB,GAAc,QAIpB,cAACnP,EAAD,CAAKsB,KAAM,WCzDRgQ,GAAoB,SAAC9U,GAAmC,IAC3DtE,EAA6CsE,EAA7CtE,MAAOqZ,EAAsC/U,EAAtC+U,YAAapU,EAAyBX,EAAzBW,SAAUqU,EAAehV,EAAfgV,WAC9B5U,EAAuBF,IAAvBE,mBACAf,EAAeQ,IAAfR,WACF3J,EAAYmN,mBAAQ,kBAAMzC,MAAsB,IAEtD,OAAK1K,GAAc2J,EAGjB,eAACmE,EAAD,CAAKoC,QAAQ,OAAb,UACE,qBAAI0E,MAAO,CAAExG,MAAO,QAASK,UAAW,UAAxC,UACGzO,EAAU6U,KADb,SACyBlL,EAAWkL,QAEpC,cAAC,GAAD,CACE7O,MAAOA,EACPb,QAASka,EACTX,aAAc,aACdjC,OAAQ,WACN6C,IACArU,UAb8B,MCD3BsU,GAAa,WAAO,IAAD,EAO1B/U,IALFiC,EAF4B,EAE5BA,qBACAC,EAH4B,EAG5BA,uBACAhC,EAJ4B,EAI5BA,mBACA8B,EAL4B,EAK5BA,gBACA/B,EAN4B,EAM5BA,WAEMQ,E9CJyBb,qBAAWc,G8CIpCD,SARsB,EASQd,IAA9BR,EATsB,EAStBA,WAAYG,EATU,EASVA,cATU,EAUJa,mBAA6B,IAVzB,mBAUvB3E,EAVuB,KAUhBwZ,EAVgB,OAWQ7U,qBAXR,mBAWvB0U,EAXuB,KAWVI,EAXU,KAaxBzf,EAAY0K,IACZ6P,EACJ5Q,GAAc3J,EAAYyK,EAAWd,EAAY3J,QAAa2H,EAoBhE6D,qBAAU,WACJxL,GAAa2J,GAAcG,GAnBd,SACjBvE,EACAO,EACA+E,GAEA,IAAMjK,EAAQD,YAASmF,GACjBE,EAAQhB,mBACZO,EAAKN,OACLrE,EAAM,GAAD,OAAI2E,EAAKE,KAAT,aAAkDF,EAAKG,QAE9D8Z,EAASxZ,GACTyZ,EACE5U,EAAQjD,KAAI,SAAC7B,GACX,OAAOF,sBAAYC,EAAQC,EAAQR,EAAMS,OAO3C0Z,CAAW/V,EAAY3J,EAAW8J,KAEnC,CAACH,EAAYG,IAkBhB,OACE,eAAC,GAAD,CAAYsF,KAAK,IAAIJ,WAAW,SAAhC,WACIrF,GAAc,cAAC,GAAD,IACf4Q,IAAmBzQ,GAClB,cAAC,GAAD,CAAmByQ,eAAgBA,IAEpC8E,GAAevV,GAAiB9J,GAC/B,cAAC,GAAD,CACEqf,YAAaA,EACbrZ,MAAOA,EACPsZ,WA1BW,WACbtf,GAAa2J,GAAc0V,IAChB,OAAbvV,QAAa,IAAbA,KAAeX,SAAQ,SAACwW,EAAMva,GACxBia,EAAYja,KACdsH,EAAuBiT,EAAK3d,GAAIqd,EAAYja,GAAGlF,SAAS6F,QACxD2G,EAAuB1M,EAAUgC,GAAIqd,EAAYja,GAAGlF,SAAS4F,QAC7D2G,EAAqBkT,EAAK3d,GAAIqd,EAAYja,GAAGmC,iBAGjDiF,EAAgBxM,EAAUgC,IAAI,SAAC0G,GAAD,mBAAC,eAC1BA,GADyB,IAE5BkX,aAAclX,EAAEkX,aAAejW,EAAW8O,kBAgBxCxN,SAAUA,Q,kBCpFP4U,GAAe9R,IAAOE,IAAI,CACrCM,SAAU,WACVa,KAAM,EACNR,QAAS,OACTuI,OAAQ,SCSG2I,GAAQ,SAACxV,GAAuB,IACnCtC,EAAsBsC,EAAtBtC,MAAOS,EAAe6B,EAAf7B,WACTsX,ElDoHmB,SAAC/X,GAAD,OACzBxG,KAAKT,IAAI8H,MACPrH,KACAwG,EAAMJ,KAAI,SAACkB,GAAD,OAAOA,EAAErG,UkDvHVud,CAAYhY,GACjBiY,EAAWF,EAAK,EAAI,EAAIA,EACxBG,EAAMvI,MAAMsI,GAAU/O,UAAKvJ,GAE3BwY,EAAc,SAAC1d,GAAD,gBAAuBA,EAAQwd,EAAY,IAA3C,MANsB,EAOjBjY,EAAMoY,MAAK,SAAC5d,EAAGJ,GAAJ,OAAUI,EAAEC,MAAQL,EAAEK,SAPhB,kBAOzByR,GAPyB,iBAQpCmM,EAAc/G,yBAAcpF,EAAM,CACtC3P,IAAK,SAAC6E,GAAD,OAAyBA,EAAKpH,IACnCuX,KAAM,CAAEsE,KAAM,OAAQnY,OAAQ,EAAGqQ,QAAS,GAC1C0D,MAAO,CAAEoE,KAAM,KAAMnY,QAAS,GAAIqQ,QAAS,GAC3CyD,MAAO,gBAAG/W,EAAH,EAAGA,MAAH,MAAgB,CACrBsT,QAAS,EACTrQ,OAAQ,EACRmY,KAAMsC,EAAY1d,KAEpB6d,OAAQ,gBAAG7d,EAAH,EAAGA,MAAH,MAAgB,CACtBiD,OAAQ,EACRmY,KAAMsC,EAAY1d,KAEpBiX,OAAQA,UAAOC,OAEjB,OACE,cAAC7L,EAAD,CAAKsB,KAAM,EAAGiI,OAAO,cAAc9I,SAAS,WAAWgK,aAAa,OAApE,SACE,eAACsH,GAAD,WACGQ,GAAY,SAACzG,EAAQxQ,GAAT,OACX,cAAC,GAAD,CACEpJ,WAvBSgC,EAuBYoH,EAAKpH,GAvBFyG,EAAWP,MAAK,SAACQ,GAAD,OAAOA,EAAE1G,KAAOA,MAwBxD4S,MAAK,2BACAgF,GADA,IAEHyC,UAAWzC,EAAOlU,OAAO+U,IAAG,SAACC,GAAD,4BAAsBA,EAAtB,iBAE9BnM,SAAS,aA5BD,IAACvM,KA+Bb,cAAC8L,EAAD,CACEsB,KAAK,IACLP,cAAc,MACdV,OAAO,mCACPgJ,OAAO,OAJT,SAMG+I,EAAItY,KAAI,SAACgQ,EAAGxS,GAAJ,OACP,cAAC0I,EAAD,CAEE8G,MAAO,CACLkC,MAAM,GAAD,OAAK,IAAMmJ,EAAX,KACL9I,OAAQ,OACRjJ,WAAY,yBACZqS,YAAa,qCALVnb,cC3CNob,GAAkB,SAAClW,GAAuB,IAC7CtC,EAAsBsC,EAAtBtC,MAAOS,EAAe6B,EAAf7B,WACP6D,EAAiB9B,IAAjB8B,aACFrE,EAAwBkF,mBAC5B,kBACE1E,EAAWb,KAAI,SAACc,GAAD,MAAQ,CACrB1G,GAAI0G,EAAE1G,GACNS,MAAO9B,YAAS+H,SAEpB,CAACD,IATiD,EAWd0E,mBAAQ,WAC5C,OAAOpF,EAAgBC,EAAOC,GAC3BmY,MAAK,SAAC5d,EAAGJ,GAAJ,OAAUI,EAAEC,MAAQL,EAAEK,SAC3BmF,KAAI,SAAC6Y,GAAD,OAAWnU,EAAamU,EAAMze,OAClCsE,QAAO,SAACoC,GAAD,YAAaf,IAANe,OAChB,CAACV,EAAOC,IAhByC,kBAWnCyY,GAXmC,iBAkB9CtgB,EAAI,YAAOsgB,GAEXC,EAAiB,OAMjBN,EAAc/G,yBAClBlZ,EAAKwH,KAAI,SAAC+X,EAAiBva,GAAlB,mBAAC,eACLua,GADI,IAEPrd,GARUua,EAQFzX,EAPVhF,EAAKD,QAAO,SAAC8e,EAAKvW,EAAGtD,GAEnB,OAAO6Z,GADGpC,EAAQzX,EAAIsD,EAAEmM,KAAKrO,OAASma,EAzB9B7J,GAyBuD,KAE9D,MAJQ,IAAC+F,KAUZ,CACEtY,IAAK,SAACob,GAAD,OAAqBA,EAAK3d,IAE/ByX,MAAO,CAAE1D,QAAS,GAClByD,MAAO,gBAAGlX,EAAH,EAAGA,EAAH,MAAY,CAAEyT,QAAS,EAAGsG,UAAU,eAAD,OAAiB/Z,EAAjB,aAC1Cge,OAAQ,gBAAGhe,EAAH,EAAGA,EAAH,MAAY,CAAE+Z,UAAU,eAAD,OAAiB/Z,EAAjB,aAC/BoX,OAAQA,UAAOC,OAInB,OACE,cAAC7L,EAAD,CAAKuJ,OAAO,QAAQF,OAAO,OAAOtI,cAAc,MAAhD,SACGwR,GAAY,SAACzG,EAAQ5Z,EAAWqI,EAAGwU,GAClC,OACE,eAAC/O,EAAD,CAEE8G,MAAOgF,EACP/K,cAAc,MACdG,WAAW,SACXT,SAAS,WALX,UAOE,cAAC,GAAD,CAAMH,MAAM,yBAAyB0I,MAAM,OAA3C,SACE,cAAC,GAAD,MAEF,cAAChJ,EAAD,CACEqJ,OAAO,OACPL,MAAK,UAAK9W,EAAU6U,KAAKrO,OAASma,EAA7B,MACLhL,WAAW,MACXE,YAAY,MACZoD,SAAS,SACTrK,QAAQ,eACRgG,MAAO,CACL4D,WAAY,SACZyB,aAAc,WACd2G,WAAY,OACZC,WAAY,aAEdzS,MAAOmF,GAASvT,EAAUQ,SAAS,GAAGC,SAbxC,SAeGT,EAAU6U,SAxBR7U,EAAUgC,UCvDd8e,GAAe,SAACxW,GAA8B,aAC9CA,GAD6C,MAENE,IAA1CxC,EAFgD,EAEhDA,MAAOS,EAFyC,EAEzCA,WACTzI,GAAY0K,EAHsC,EAE7BA,sBAE3B,OACE,eAACoD,EAAD,CAAKe,cAAc,MAAMqB,QAAQ,mBAAjC,UACGlQ,GACC,cAAC,GAAD,CACE8a,OAAQ,GACR3D,OAAO,OACPL,MAAM,OACN9W,UAAWA,IAGf,eAAC8N,EAAD,CAAKsB,KAAK,IAAV,UACE,cAAC,GAAD,CAAOpH,MAAOA,EAAOS,WAAYA,IACjC,cAAC,GAAD,CAAiBT,MAAOA,EAAOS,WAAYA,W,SCftCsY,GAAM,SAACzW,GAAqB,IAC/B7H,EAAuD6H,EAAvD7H,MAAO1B,EAAgDuJ,EAAhDvJ,IADuB,EACyBuJ,EAA3CpJ,WADkB,MACZ,EADY,EACTqJ,EAAkCD,EAAlCC,SAAU2D,EAAwB5D,EAAxB4D,WAAegG,EADhB,aACyB5J,EADzB,+CAEhC0W,EAAWve,GAAS1B,EAAMG,GAAQ,IAElC+f,EAAYrF,qBAAU,CAC1B9E,MAAM,GAAD,OAAKkK,EAAL,KACLtH,OAAQ,CACN5X,SAAU,KAIRof,EAActF,qBAAU,CAC5B9E,MAAM,GAAD,OAAKkK,EAAL,OAGP,OACE,eAAClT,EAAD,2BAASoG,GAAT,IAAe3F,SAAS,WAAWL,WAAW,mBAAmB4M,OAAQ,EAAzE,UACE,cAAChN,EAAD,CACES,SAAS,WACTsN,IAAI,MACJ+B,OAAO,MACP1P,WAAY,QACZ4M,OAAQ,EACRlG,MAAOsM,IAET,cAACpT,EAAD,CACES,SAAS,WACTsN,IAAI,MACJ+B,OAAO,MACP1P,WAAYA,EACZ4M,OAAQ,EACRlG,MAAOqM,IAET,cAACnT,EAAD,CACES,SAAS,WACTsN,IAAI,MACJ+B,OAAO,MACPC,KAAK,MACLC,MAAM,MACN9O,WAAW,WACXO,eAAe,SACfnB,MAAM,QACN0M,OAAQ,EACRlG,MAAO,CACLiE,WAAY,6BAXhB,SAcGtO,SC5CH4W,GAAgBpT,YAAOD,EAAPC,EAA0B,SAACzD,GAAW,IAClD0Q,EAA0B1Q,EAA1B0Q,KADiD,EACvB1Q,EAApB8P,mBAD2C,MAC7B,EAD6B,EAEnDgH,EAAapG,EAAOxZ,KAAK6f,KAAK,GAC9BC,EAActG,EAAOxZ,KAAK6f,KAAK,GAC/BE,EAAwB,CAC5BrM,QAAS,KACT3G,SAAU,WACVuM,OAAQ,EACRX,gBAAiB,UACjBrD,MAAM,GAAD,OAAKwK,EAAL,MACLnK,OAAO,GAAD,OAAKmK,EAAL,MACNjF,UAAU,gCACVwB,KAAK,GAAD,OAAK,SAAY7C,EAAOZ,EAAxB,MACJC,YAAa,UACbvB,YAAa,WAEf,MAAO,CACLvK,SAAU,WACVyL,UAAW,aACXc,OAAQ,EACRhE,MAAM,GAAD,OAAKkE,EAAL,MACL7D,OAAO,GAAD,OAAKiK,EAAL,MACN/J,OAAO,GAAD,OAAK+J,EAAa,EAAlB,MACNjH,gBAAiB7P,EAAM8D,MACvBiM,YAAa,QACbvB,YAAaxO,EAAMwO,YACnB0I,gBAAgB,GAAD,OAAKpH,EAAL,MACfqH,iBAAiB,GAAD,OAAKrH,EAAL,MAChBsH,eAAgB,EAChBC,kBAAmB,EAEnB,UAAU,2BACLJ,GADL,IAEEvH,UAAW,aACX6B,IAAI,GAAD,OAAWyF,EAAc,GAAnB,EAAN,MACHI,eAAe,GAAD,OAAKtH,EAAc5Y,KAAK6f,KAAK,GAA7B,MACdM,kBAAmB,EACnBF,iBAAiB,GAAD,OAAKrH,EAAc5Y,KAAK6f,KAAK,GAA7B,MAChBG,gBAAiB,IAEnB,SAAS,2BACJD,GADL,IAEEvH,UAAW,aACX4D,OAAO,GAAD,OAAW0D,EAAc,GAAnB,EAAN,MACNM,UAAW,EACXD,kBAAkB,GAAD,OAAKvH,EAAc5Y,KAAK6f,KAAK,GAA7B,MACjBI,iBAAkB,EAClBD,gBAAgB,GAAD,OAAKpH,EAAc5Y,KAAK6f,KAAK,GAA7B,YAKRQ,GAAU,SAACvX,GAAD,OAAyB,cAAC6W,GAAD,eAAmB7W,KCtDtDwX,GAAwB,SAACxX,GAAuC,IACnEjK,EAAWiK,EAAXjK,OADkE,EAEtCsK,oBAAS,GAF6B,mBAEnEwL,EAFmE,KAEvDK,EAFuD,KAG1E,OACE,cAAC1I,EAAD,CACE6H,WAAW,MACXc,aAAc,kBAAMD,GAAc,IAClCE,aAAc,kBAAMF,GAAc,IAHpC,SAKE,cAAC,GAAD,CACEvB,OAAQkB,EACRjB,QAAS,cAAC,GAAD,CAAY7U,OAAQA,IAC7B+U,QAAS,CACP2M,UAAW,gBACXnL,cAAe,GALnB,SAQE,cAAC9I,EAAD,CACE8G,MAAO,CACLvF,SAAU,OACVC,WAAY,IACZ2H,cAAe,aAJnB,SAOG5W,EAAOwU,YCpBLmN,GAAkB,SAAC1X,GAAiC,IACvDtK,EAAcsK,EAAdtK,UACFY,EAAQuM,mBAAQ,kBAAMxM,YAASX,KAAY,CAACA,IAC5CiiB,EAAgB/gB,eAAIN,EAAM+B,OAAS3C,EAAUgM,OAAQ,GACrDkW,EAAgBhhB,eAAIN,EAAMgC,OAAS5C,EAAU4f,aAAc,GACjE,OACE,eAAC9R,EAAD,WACE,eAACA,EAAD,CACEgJ,MAAM,QACN5I,WAAW,uFAKXC,OAAO,mCACPkJ,OAAO,gBACPxI,cAAc,MAThB,UAWE,cAAC,GAAD,CACET,MAAOmF,GAASvT,EAAUQ,SAAS,GAAGC,SACtCqY,YAAY,yBACZsB,YAAa,EACbY,KAAM,GACNpG,MAAO,CACLyC,OAAQ,oBAGZ,eAACvJ,EAAD,CAAKsB,KAAM,EAAX,UACE,cAACtB,EAAD,CAAKoC,QAAQ,MAAb,SACE,cAACpC,EAAD,CAAKM,MAAM,QAAX,SACE,wBAAQwG,MAAO,CAAEiE,WAAY,8BAA7B,SACG7Y,EAAU6U,WAIjB,eAAC,GAAD,CACEpS,MAAOwf,EACPlhB,IAAKH,EAAM+B,OACXwU,OAAO,OACPjJ,WAAW,aACXC,OAAO,6BACPwH,WAAW,OACXvH,MAAM,mBACNwG,MAAO,CACLvF,SAAU,OACVC,WAAY,KAVhB,UAaG2S,EAbH,IAamBrhB,EAAM+B,UAEzB,eAAC,GAAD,CACEF,MAAOyf,EACPnhB,IAAKH,EAAMgC,OACXuU,OAAO,OACPjJ,WAAW,eACXC,OAAO,6BACPyT,UAAU,OACVjM,WAAW,QACX4C,aAAa,MACbnK,MAAM,mBACNwG,MAAO,CACLvF,SAAU,OACVC,WAAY,KAZhB,UAeG4S,EAfH,IAemBthB,EAAMgC,gBAI7B,cAACkL,EAAD,CAAKyB,eAAe,WAAWnB,MAAM,QAAQS,cAAc,MAA3D,SACG7O,EAAUE,SAAS0H,KAAI,SAACvH,GAAD,OACtB,cAAC,GAAD,CAAuCA,OAAQA,GAAnBA,EAAO2B,aC9EhCmgB,GAAgB,SAAC7X,GAAkD,IACtEC,EAAaD,EAAbC,SACA6B,EAAY5B,IAAZ4B,QACR,OACE,eAAC0B,EAAD,CAAKsB,KAAK,IAAI6J,SAAS,SAASpK,cAAc,MAA9C,UACE,cAACf,EAAD,CAAKoC,QAAQ,MAAb,SACG9D,EAAQ,IACPA,EAAQ,GAAG3D,WAAWb,KAAI,SAACc,GAAD,OACxB,cAAC,GAAD,CAA4B1I,UAAW0I,GAAjBA,EAAE1G,SAG7BuI,EACD,cAACuD,EAAD,CAAKoC,QAAQ,MAAb,SACG9D,EAAQ,IACPA,EAAQ,GAAG3D,WAAWb,KAAI,SAACc,GAAD,OACxB,cAAC,GAAD,CAA4B1I,UAAW0I,GAAjBA,EAAE1G,aCpBvBogB,GAA0B,CACrC3hB,QAAS,QACTH,UAAW,CACT,CACEM,MAAO,CACL0C,YAAa,CACXnB,EAAG,IACHC,EAAG,GAELmB,gBAAiB,CACfpB,EAAG,GACHC,EAAG,GAELqB,gBAAiB,CACftB,GAAI,GACJC,EAAG,O,SCfAigB,GAAM3gB,aAAa,CAC9BmT,KAAM,MACNhH,aAAa,EACbvN,UAAW,CACT,CACEM,MAAO,CACLuC,eAAgB,CACdhB,GAAI,GACJC,EAAG,QCNAkgB,GAAkB,CAC7BtgB,GAAIH,cACJgT,KAAM,aACNpP,KAAM,UACNhF,QAAS,QACTsF,OAAQ,sBACRd,OAAQ,EACRS,QAAS,EACTkB,MAAO,IACPmF,SAAU,IACV0M,WAAY,GACZhR,gBAAiB,CACf1B,OAAQ,CAACsc,GAAI,IAAM,GAAG,IACtBvc,OAAQ,IAEV4B,gBAAiB,CACf3B,OAAQ,GACRD,OAAQ,CAACuc,GAAI,IAAM,GAAG,MCnBbE,GAA6B,CACxC5f,OAAQ,EACR1B,MAAO,EACP2B,OAAQ,EACRC,WAAY,EACZC,eAAgB,EAChBC,eAAgB,EAChBjC,iBAAkB,EAClBkC,eAAgB,EAChBC,gBAAiB,EACjBjC,gBAAiB,EACjBkC,cAAe,EACfC,eAAgB,EAChBC,WAAY,EACZC,eAAgB,EAChBC,YAAa,EACbC,gBAAiB,EACjBC,YAAa,EACbC,gBAAiB,EACjBC,YAAa,EACbC,gBAAiB,EACjBC,cAAe,EACfC,kBAAmB,EACnBC,UAAW,EACXC,cAAe,EACfC,YAAa,EACbC,gBAAiB,EACjBC,WAAY,EACZC,eAAgB,EAChBC,YAAa,EACbC,gBAAiB,G,SC9BNme,GAAS9gB,aAAa,CACjCmT,KAAM,SACNhH,aAAa,EACbvN,UAAW,CACT,CACEM,MAAO,CACLoC,eAAgB,CACdb,GAAI,GACJC,EAAG,QCNAqgB,GAAiB,CAC5BzgB,GAAIH,cACJgT,KAAM,YACNpP,KAAM,UACNhF,QAAS,OACTsF,OAAQ,qBACRd,OAAQ,EACRS,QAAS,GACTkB,MAAO,IACPmF,SAAU,IACV0M,WAAY,GACZhR,gBAAiB,CACf1B,OAAQ,CAACyc,GAAO,IAAM,GAAG,IACzB1c,OAAQ,IAEV4B,gBAAiB,CACf3B,OAAQ,GACRD,OAAQ,CAAC0c,GAAO,IAAM,GAAG,MCnBhBE,GAA0B,CACrCjiB,QAAS,QACTH,UAAW,CACT,CACEM,MAAO,CACL8C,YAAa,CACXvB,EAAG,IACHC,EAAG,GAELuB,gBAAiB,CACfxB,EAAG,GACHC,EAAG,GAEL0B,UAAW,CACT3B,GAAI,GACJC,EAAG,OCdAugB,GAAkB,CAC7B3gB,GAAIH,cACJgT,KAAM,aACNpP,KAAM,WACNhF,QAAS,QACTsF,OAAQ,sBACRd,OAAQ,EACRS,OAAQ,EACRkB,MAAO,IACPmF,SAAU,IACV0M,WAAY,GACZhR,gBAAiB,CACf1B,OAAQ,GACRD,OAAQ,IAEV4B,gBAAiB,CACf3B,OAAQ,GACRD,OAAQ,KClBC8c,GAAwB,CACnCniB,QAAS,MACTH,UAAW,CACT,CACEM,MAAO,CACLkD,UAAW,CACT3B,EAAG,IACHC,EAAG,GAEL2B,cAAe,CACb5B,EAAG,GACHC,EAAG,GAELyB,kBAAmB,CACjB1B,GAAI,GACJC,EAAG,OCdAygB,GAAiB,CAC5B7gB,GAAIH,cACJgT,KAAM,YACNpP,KAAM,WACNhF,QAAS,MACTsF,OAAQ,sBACRd,OAAQ,EACRS,OAAQ,EACRkB,MAAO,GACPmF,SAAU,IACV0M,WAAY,GACZhR,gBAAiB,CACf1B,OAAQ,GACRD,OAAQ,IAEV4B,gBAAiB,CACf3B,OAAQ,GACRD,OAAQ,KClBCgd,GAA4B,CACvCriB,QAAS,UACTH,UAAW,CACT,CACEM,MAAO,CACLgD,cAAe,CACbzB,EAAG,IACHC,EAAG,GAELyB,kBAAmB,CACjB1B,EAAG,GACHC,EAAG,GAELuB,gBAAiB,CACfxB,GAAI,GACJC,EAAG,OCfA2gB,GAAUrhB,aAAa,CAClCmT,KAAM,UACNhH,aAAa,EACbvN,UAAW,CACT,CACEM,MAAO,CACLK,MAAO,CACLkB,GAAI,GACJC,EAAG,QCNA4gB,GAAoB,CAC/BhhB,GAAIH,cACJgT,KAAM,cACNpP,KAAM,UACNhF,QAAS,UACTsF,OAAQ,sBACRd,OAAQ,EACRS,QAAS,EACTkB,MAAO,GACPmF,SAAU,IACV0M,WAAY,GACZhR,gBAAiB,CACf1B,OAAQ,CAACgd,GAAQ,IAAM,GAAG,IAC1Bjd,OAAQ,IAEV4B,gBAAiB,CACf3B,OAAQ,GACRD,OAAQ,CAACid,GAAQ,IAAM,GAAG,MCnBjBE,GAAQvhB,aAAa,CAChCmT,KAAM,QACNhH,aAAa,EACbvN,UAAW,CACT,CACEM,MAAO,CACLK,MAAO,CACLkB,GAAI,EACJC,EAAG,QCLA8gB,GAAqB,CAChClhB,GAAIH,cACJgT,KAAM,gBACNpP,KAAM,WACNhF,QAAS,UACTsF,OAAQ,qBACRd,OAAQ,EACRS,QAAS,GACTkB,MAAO,IACPmF,SAAU,IACV0M,WAAY,GACZhR,gBAAiB,CACf1B,OAAQ,CAACkd,GAAM,IAAM,GAAG,GAAOF,GAAQ,IAAM,GAAG,IAChDjd,OAAQ,IAEV4B,gBAAiB,CACf3B,OAAQ,GACRD,OAAQ,CAACid,GAAQ,IAAM,GAAG,MCpBjBI,GAA0B,CACrC1iB,QAAS,QACTH,UAAW,CACT,CACEM,MAAO,CACL4C,YAAa,CACXrB,EAAG,IACHC,EAAG,GAELqB,gBAAiB,CACftB,EAAG,GACHC,EAAG,GAELiB,eAAgB,CACdlB,GAAI,GACJC,EAAG,OCdAghB,GAAkB,CAC7BphB,GAAIH,cACJgT,KAAM,aACNpP,KAAM,UACNhF,QAAS,QACTsF,OAAQ,qBACRd,OAAQ,EACRS,QAAS,GACTkB,MAAO,IACPmF,SAAU,IACV0M,WAAY,GACZhR,gBAAiB,CACf1B,OAAQ,GACRD,OAAQ,IAEV4B,gBAAiB,CACf3B,OAAQ,GACRD,OAAQ,KCsBGud,OAjBf,WAAgB,IACNhX,EAAS7B,IAAT6B,KAMR,OAJAb,qBAAU,WACRa,EAAK,CAdmB,CAC1BrK,GAAIH,cACJ4G,WAAY,CCX6B,CACzCzG,GAAIH,cACJgT,KAAM,YACNyO,MAAO,IACP9iB,SAAU,CAACsH,gBACX5H,SAAU,GACV8L,OAAQ,EACR4T,aAAc,EACdhf,MAAM,2BACD2hB,IADA,IAEH5f,OAAQ,IACR1B,MAAO,IACP2B,OAAQ,IACRC,WAAY,IACZC,eAAgB,GAChBC,eAAgB,IAChBjC,iBAAkB,GAClBkC,eAAgB,GAChBC,gBAAiB,GACjBjC,gBAAiB,GACjBkC,cAAe,IACfC,eAAgB,KAElB+F,MAAO,CAACuZ,KCvBgC,CACxCzgB,GAAIH,cACJgT,KAAM,WACNyO,MAAO,IACP9iB,SAAU,CAAC2iB,IACXjjB,SAAU,GACV8L,OAAQ,EACR4T,aAAc,EACdhf,MAAM,2BACD2hB,IADA,IAEH5f,OAAQ,IACR1B,MAAO,GACP2B,OAAQ,IACRC,WAAY,IACZC,eAAgB,GAChBC,eAAgB,IAChBjC,iBAAkB,GAClBkC,eAAgB,GAChBC,gBAAiB,GACjBjC,gBAAiB,GACjBkC,cAAe,IACfC,eAAgB,MAElB+F,MAAO,CAACka,KCvBiC,CACzCphB,GAAIH,cACJgT,KAAM,YACNyO,MAAO,IACP9iB,SAAU,CAAC4hB,IACXliB,SAAU,GACV8L,OAAQ,EACR4T,aAAc,EACdhf,MAAM,2BACD2hB,IADA,IAEH5f,OAAQ,IACR1B,MAAO,GACP2B,OAAQ,IACRC,WAAY,IACZC,eAAgB,GAChBC,eAAgB,IAChBjC,iBAAkB,GAClBkC,eAAgB,GAChBC,gBAAiB,IACjBjC,gBAAiB,GACjBkC,cAAe,GACfC,eAAgB,MAElB+F,MAAO,CAACoZ,OHToB,CAC5BtgB,GAAIH,cACJ4G,WAAY,CId0B,CACtCzG,GAAIH,cACJgT,KAAM,SACNyO,MAAO,IACP9iB,SAAU,CAACsiB,IACX5iB,SAAU,GACV8L,OAAQ,EACR4T,aAAc,EACdhf,MAAM,2BACD2hB,IADA,IAEH5f,OAAQ,IACR1B,MAAO,IACP2B,OAAQ,IACRC,WAAY,IACZC,eAAgB,GAChBC,eAAgB,IAChBjC,iBAAkB,GAClBkC,eAAgB,GAChBC,gBAAiB,GACjBjC,gBAAiB,GACjBkC,cAAe,GACfC,eAAgB,KAElB+F,MAAO,CAACga,GAAcF,KCzBe,CACrChhB,GAAIH,cACJgT,KAAM,QACNyO,MAAO,IACP9iB,SAAU,CAACkiB,IACXxiB,SAAU,GACV8L,OAAQ,EACR4T,aAAc,EACdhf,MAAM,2BACD2hB,IADA,IAEH5f,OAAQ,IACR1B,MAAO,GACP2B,OAAQ,IACRC,WAAY,IACZC,eAAgB,GAChBC,eAAgB,IAChBjC,iBAAkB,GAClBkC,eAAgB,IAChBC,gBAAiB,IACjBjC,gBAAiB,GACjBkC,cAAe,GACfC,eAAgB,KAElB+F,MAAO,CAACyZ,KCtB+B,CACvC3gB,GAAIH,cACJgT,KAAM,UACNyO,MAAO,IACP9iB,SAAU,CAACoiB,IACX1iB,SAAU,GACV8L,OAAQ,EACR4T,aAAc,EACdhf,MAAM,2BACD2hB,IADA,IAEH5f,OAAQ,IACR1B,MAAO,GACP2B,OAAQ,IACRC,WAAY,IACZC,eAAgB,GAChBC,eAAgB,IAChBjC,iBAAkB,GAClBkC,eAAgB,GAChBC,gBAAiB,GACjBjC,gBAAiB,GACjBkC,cAAe,GACfC,eAAgB,KAElB+F,MAAO,CAAC2Z,WNAL,IAGD,eAAC/U,EAAD,CAAKyV,UAAU,MAAMnU,KAAM,EAA3B,UACE,cAAC,GAAD,IACA,cAAC,GAAD,UACE,cAAC,GAAD,UOtBOoU,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCPDQ,GAAsBlW,IAAOE,IAAI,CAC5CM,SAAU,WACV4I,OAAQ,QACRL,MAAO,QACPmC,SAAU,SACVrK,QAAS,OACTQ,KAAM,IAGK8U,GAAmBnW,IAAOE,IAAI,CACzCM,SAAU,WACVL,WAAY,kBACZ2N,IAAK,EACL+B,OAAQ,EACRC,KAAM,EACNC,MAAO,EACPhD,OAAQ,QCJJpR,GAAkC,CACtCya,KAAM,aACNC,MAAO,cAGIC,GAAena,wBAAiCR,IAGhD4a,GAAuB,SAACha,GAAkC,IAC7DC,EAAaD,EAAbC,SAD4D,EAExCI,oBAAS,GAF+B,mBAE7DsK,EAF6D,KAErDsP,EAFqD,KAG9DC,EAAiBC,iBAAY,IAC7BC,EAAeD,iBAAsC,MACrDE,EAAYD,EAAaE,QACzBha,EAA6B,CACjCuZ,KAAM,SAACzb,EAAG4E,GACRoX,EAAaE,QAAUlc,EACvB8b,EAAeI,QAAUtX,EACzBiX,GAAU,IAEZH,MAAO,WACLM,EAAaE,QAAU,KACvBJ,EAAeI,QAAU,KACzBL,GAAU,KAGd,OACE,cAACF,GAAavZ,SAAd,CAAuBrI,MAAOmI,EAA9B,SACE,eAACqZ,GAAD,WACG1Z,EACA0K,GAAU0P,GACT,cAACT,GAAD,CAAkB/K,QAASvO,EAAQwZ,MAAnC,SACE,cAACO,EAAD,eAAgBH,GAAkB,aC1CjCK,GAAc,SAACva,GAAkC,IACpDC,EAAaD,EAAbC,SACR,OACE,cAAC,EAAD,UACE,cAAC,GAAD,UAAuBA,OCD7Bua,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,UACE,cAAC,GAAD,QAGJC,SAASC,eAAe,SAM1B1B,O","file":"static/js/main.ef04b664.chunk.js","sourcesContent":["import { max, min } from '../equation'\r\nimport {\r\n  Modifier,\r\n  reduceModifiers,\r\n  reduceModifiersToEquations,\r\n  resolveStats,\r\n  StatEquations,\r\n} from '../stats'\r\nimport { Character, CharacterStats } from './character'\r\nimport { BASE_MODIFIER } from './data'\r\n\r\nexport const getModifiers = (character: Character) => {\r\n  const statusModifiers = character.statuses.reduce(\r\n    (list, status) => [...list, ...status.modifiers],\r\n    [] as Modifier[],\r\n  )\r\n  const elementModifiers = character.elements.reduce(\r\n    (list, element) => [...list, ...element.modifiers],\r\n    [] as Modifier[],\r\n  )\r\n  return [BASE_MODIFIER, ...statusModifiers, ...elementModifiers]\r\n}\r\n\r\nexport const getStats = (character: Character): CharacterStats => {\r\n  const modifiers = getModifiers(character)\r\n  const stats = resolveStats(character.stats, modifiers)\r\n  return {\r\n    ...stats,\r\n    physicalAccuracy: max(stats.physicalAccuracy, 95),\r\n    specialAccuracy: max(stats.specialAccuracy, 95),\r\n    speed: min(stats.speed, 0),\r\n  }\r\n}\r\n\r\nexport const getStatsAndModifier = (\r\n  character: Character,\r\n): [CharacterStats, Modifier] => {\r\n  const stats = getStats(character)\r\n  const modifier = reduceModifiers(getModifiers(character))\r\n  return [stats, modifier]\r\n}\r\n\r\nexport const getStatsAndEquations = (\r\n  character: Character,\r\n): [CharacterStats, StatEquations] => {\r\n  const stats = getStats(character)\r\n  const modifier = reduceModifiersToEquations(getModifiers(character))\r\n  return [stats, modifier]\r\n}\r\n","export * from './data'\r\nexport * from './equation'\r\nexport * from './util'\r\n","import { v4 } from 'uuid'\r\nimport { ResolvedStatus, Status, StatusFn } from './status'\r\n\r\nexport const resolveStatus = (status: Status): ResolvedStatus => {\r\n  const { applyChance } = status\r\n  return {\r\n    ...status,\r\n    isApplied: applyChance > Math.random(),\r\n  }\r\n}\r\n\r\ntype MakeStatusStatus = Omit<\r\n  Status,\r\n  'statusId' | 'id' | 'applyChance' | 'duration' | 'isPositive'\r\n>\r\nexport const makeStatusFn = (partial: MakeStatusStatus): StatusFn => {\r\n  const statusId = v4()\r\n  return (applyChance, duration, isPositive) => ({\r\n    ...partial,\r\n    id: v4(),\r\n    statusId,\r\n    applyChance,\r\n    duration,\r\n    isPositive,\r\n  })\r\n}\r\n","export * from './move'\r\nexport * from './util'\r\n","import { makeEquationObject } from '../util'\r\n\r\nexport const ZERO_EQUATION = makeEquationObject(0, 0)\r\n","import { ZERO_EQUATION } from './data'\r\nimport { Equation, EquationObject } from './equation'\r\n\r\nexport const makeEquationObject = (m: number, b: number): EquationObject => ({\r\n  m,\r\n  b,\r\n})\r\n\r\nexport const makeEquation: (o: EquationObject) => Equation =\r\n  ({ m, b }) =>\r\n  (x) =>\r\n    m * x + b\r\n\r\nexport const addEquations = (\r\n  a: EquationObject = ZERO_EQUATION,\r\n  b: EquationObject = ZERO_EQUATION,\r\n): EquationObject => ({\r\n  m: a.m + b.m,\r\n  b: a.b + b.b,\r\n})\r\n\r\nexport const negEquation = (o: EquationObject) => ({\r\n  m: o.m * -1,\r\n  b: o.b * -1,\r\n})\r\n\r\nexport const max = (value: number, n: number) => (value > n ? n : value)\r\n\r\nexport const min = (value: number, n: number) => (value < n ? n : value)\r\n","import { ResolvedModifier } from '../../stats'\r\n\r\nexport const BASE_MODIFIER: ResolvedModifier = {\r\n  stats: {\r\n    health: { m: 1, b: 0 },\r\n    speed: { m: 1, b: 0 },\r\n    energy: { m: 1, b: 0 },\r\n    initiative: { m: 1, b: 0 },\r\n    criticalChance: { m: 1, b: 0 },\r\n    criticalDamage: { m: 1, b: 0 },\r\n\r\n    physicalAccuracy: { m: 1, b: 0 },\r\n    physicalAttack: { m: 1, b: 0 },\r\n    physicalDefense: { m: 1, b: 0 },\r\n    specialAccuracy: { m: 1, b: 0 },\r\n    specialAttack: { m: 1, b: 0 },\r\n    specialDefense: { m: 1, b: 0 },\r\n\r\n    fireDamage: { m: 0, b: 0 },\r\n    fireResistance: { m: 0, b: 0 },\r\n    waterDamage: { m: 0, b: 0 },\r\n    waterResistance: { m: 0, b: 0 },\r\n    grassDamage: { m: 0, b: 0 },\r\n    grassResistance: { m: 0, b: 0 },\r\n    earthDamage: { m: 0, b: 0 },\r\n    earthResistance: { m: 0, b: 0 },\r\n    thunderDamage: { m: 0, b: 0 },\r\n    thunderResistance: { m: 0, b: 0 },\r\n    airDamage: { m: 0, b: 0 },\r\n    airResistance: { m: 0, b: 0 },\r\n    ghostDamage: { m: 0, b: 0 },\r\n    ghostResistance: { m: 0, b: 0 },\r\n    darkDamage: { m: 0, b: 0 },\r\n    darkResistance: { m: 0, b: 0 },\r\n    lightDamage: { m: 0, b: 0 },\r\n    lightResistance: { m: 0, b: 0 },\r\n  },\r\n}\r\n","export * from './stats'\r\nexport * from './util'\r\n","import { BASE_MODIFIER } from '../character/data'\r\nimport { CharacterStats } from '../character/character'\r\nimport {\r\n  addEquations,\r\n  EquationObject,\r\n  makeEquation,\r\n  ZERO_EQUATION,\r\n} from '../equation'\r\nimport { Modifier, ResolvedModifier, StatEquations } from './stats'\r\n\r\nexport function makeModifier(\r\n  key: keyof CharacterStats,\r\n  value: EquationObject = ZERO_EQUATION,\r\n): Modifier {\r\n  return {\r\n    stats: {\r\n      [key]: value,\r\n    },\r\n  } as Modifier\r\n}\r\n\r\nexport function reduceModifiers(modifiers: Modifier[]) {\r\n  const statKeys = Object.keys(BASE_MODIFIER.stats) as (keyof CharacterStats)[]\r\n  return statKeys.reduce((result, key) => {\r\n    const keyModifier = modifiers.reduce(\r\n      (keyMod, mod) =>\r\n        makeModifier(key, addEquations(keyMod.stats[key], mod.stats[key])),\r\n      makeModifier(key, ZERO_EQUATION),\r\n    )\r\n    return {\r\n      ...result,\r\n      stats: {\r\n        ...result.stats,\r\n        [key]: {\r\n          b: keyModifier.stats[key]?.b || 0,\r\n          m: keyModifier.stats[key]?.m || 0,\r\n        },\r\n      },\r\n    }\r\n  }, {} as ResolvedModifier)\r\n}\r\n\r\nexport function reduceModifiersToEquations(modifiers: Modifier[]) {\r\n  const stats = reduceModifiers(modifiers).stats\r\n  const keys = Object.keys(stats) as (keyof CharacterStats)[]\r\n  return keys.reduce((result, key) => {\r\n    return {\r\n      ...result,\r\n      stats: {\r\n        ...result.stats,\r\n        [key]: makeEquation({\r\n          b: stats[key]?.b || 0,\r\n          m: stats[key]?.m || 0,\r\n        }),\r\n      },\r\n    }\r\n  }, {} as StatEquations)\r\n}\r\n\r\nexport function resolveStats(baseStats: CharacterStats, modifiers: Modifier[]) {\r\n  const stats = reduceModifiersToEquations(modifiers).stats\r\n  const keys = Object.keys(stats) as (keyof CharacterStats)[]\r\n  return keys.reduce(\r\n    (result, key) => ({\r\n      ...result,\r\n      [key]: stats[key](result[key]),\r\n    }),\r\n    baseStats,\r\n  )\r\n}\r\n","import {\r\n  AccuracyStats,\r\n  AttackStats,\r\n  Character,\r\n  CharacterStats,\r\n  DefenseStats,\r\n  ElementalDamageStats,\r\n  ElementalResistanceStats,\r\n} from '../character/character'\r\nimport { getStats, getStatsAndEquations } from '../character/util'\r\nimport { resolveStatus } from '../status/util'\r\nimport { Move, MoveResolvedStatuses, MoveStatuses } from './move'\r\n\r\nexport const getRolls = (checks: number, stat: number): boolean[] => {\r\n  let results: boolean[] = []\r\n  for (let i = 0; i < checks; i++) {\r\n    const roll = Math.random() * 100\r\n    results = [...results, roll < stat]\r\n  }\r\n  return results\r\n}\r\n\r\nexport const getMoveDamageModifier = (\r\n  move: Move,\r\n  sourceStats: CharacterStats,\r\n  targetStats: CharacterStats,\r\n): number => {\r\n  return (\r\n    sourceStats[`${move.type}Attack` as keyof AttackStats] /\r\n    targetStats[`${move.type}Defense` as keyof DefenseStats]\r\n  )\r\n}\r\n\r\nexport const getMovePerfectChance = (move: Move, character: Character) => {\r\n  const stats = getStats(character)\r\n  const stat = stats[`${move.type}Accuracy` as keyof AccuracyStats]\r\n  const statValue = (stat + move.offset) / 100\r\n  return Math.pow(statValue, move.checks)\r\n}\r\n\r\nexport const getMoveFailureChance = (move: Move, character: Character) => {\r\n  const stats = getStats(character)\r\n  const stat = stats[`${move.type}Accuracy` as keyof AccuracyStats]\r\n  const statValue = (stat + move.offset) / 100\r\n  return Math.pow(1 - statValue, move.checks)\r\n}\r\n\r\nexport type MoveResult = {\r\n  totalDamage: number\r\n  critical: boolean\r\n  statuses: MoveResolvedStatuses\r\n  source: Character\r\n  target: Character\r\n}\r\n\r\nexport const resolveMove = (\r\n  source: Character,\r\n  target: Character,\r\n  move: Move,\r\n  rolls: boolean[],\r\n): MoveResult => {\r\n  const [sStats, { stats: sMods }] = getStatsAndEquations(source)\r\n  const [tStats, { stats: tMods }] = getStatsAndEquations(target)\r\n  const successes = rolls.filter(Boolean).length\r\n  const perfect = successes === move.checks\r\n  const failure = successes === 0\r\n  const baseDamage = (successes / move.checks) * (move.power || 0)\r\n  const damageModifier = getMoveDamageModifier(move, sStats, tStats)\r\n  const [critical] = getRolls(1, sStats.criticalChance)\r\n  const criticalMod = critical && perfect ? sStats.criticalDamage : 1\r\n  const rawDamage = baseDamage * damageModifier * criticalMod\r\n  const elementalDamageKey =\r\n    `${move.element}Damage` as keyof ElementalDamageStats\r\n  const elementalResistanceKey =\r\n    `${move.element}Resistance` as keyof ElementalResistanceStats\r\n  const eSourceDamage = sMods[elementalDamageKey](rawDamage)\r\n  const eTargetDamage = tMods[elementalResistanceKey](rawDamage + eSourceDamage)\r\n  const totalDamage =\r\n    rawDamage === 0 ? 0 : Math.floor(rawDamage + eSourceDamage - eTargetDamage)\r\n  const statuses: MoveStatuses = (perfect\r\n    ? move.perfectStatuses\r\n    : failure\r\n    ? move.failureStatuses\r\n    : undefined) || { target: [], source: [] }\r\n\r\n  const resolvedStatuses: MoveResolvedStatuses = {\r\n    source: statuses.source.map((s) => resolveStatus(s)),\r\n    target: statuses.target.map((s) => resolveStatus(s)),\r\n  }\r\n\r\n  return {\r\n    totalDamage,\r\n    critical: critical && perfect,\r\n    statuses: resolvedStatuses,\r\n    source,\r\n    target,\r\n  }\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const FireElement: Elemental = {\r\n  element: 'fire',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        fireDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        fireResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        waterResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","export * from './data'\r\nexport * from './elemental'\r\n","import { Character, CharacterStats } from '../character/character'\r\nimport { getStats } from '../character/util'\r\nimport { Move } from '../move'\r\n\r\nexport type QueueItem = {\r\n  id: string\r\n  value: number\r\n}\r\nexport type Queue = QueueItem[]\r\n\r\nexport type QueueStats = {\r\n  id: string\r\n  value: CharacterStats\r\n}[]\r\n\r\nexport const initializeQueue = (characters: Character[]): Queue => {\r\n  const stats: QueueStats = characters.map((c) => ({\r\n    id: c.id,\r\n    value: getStats(c),\r\n  }))\r\n  const maxValue = Math.max.apply(\r\n    Math,\r\n    stats.map((qs) => qs.value.initiative),\r\n  )\r\n  return consolidateQueue(\r\n    stats.map((qs) => ({\r\n      id: qs.id,\r\n      value: qs.value.initiative,\r\n    })),\r\n    characters,\r\n  )\r\n}\r\n\r\nexport const getDeltas = (stats: CharacterStats, distance: number): number => {\r\n  const speed = stats.speed > 0 ? stats.speed : 0\r\n  // distance = speed * t => t = distance / speed\r\n  const t = speed === 0 ? 99999 : distance / speed\r\n  return t\r\n}\r\n\r\nexport const convertToDeltas = (queue: Queue, statArray: QueueStats) => {\r\n  return queue.map((i) => {\r\n    const stats = statArray.find((qs) => qs.id === i.id)?.value\r\n    if (!stats) throw new Error('Bad Input Data: enQueue')\r\n    const t = getDeltas(stats, i.value)\r\n    return {\r\n      id: i.id,\r\n      value: t,\r\n    }\r\n  })\r\n}\r\n\r\nexport const consolidateQueue = (queue: Queue, characters: Character[]) => {\r\n  const statArray: QueueStats = characters.map((c) => ({\r\n    id: c.id,\r\n    value: getStats(c),\r\n  }))\r\n  const deltaToZero = convertToDeltas(queue, statArray)\r\n  const minT = Math.min.apply(\r\n    Math,\r\n    deltaToZero.map((d) => d.value),\r\n  )\r\n  return [\r\n    ...queue.map((i) => {\r\n      const stats = statArray.find((qs) => qs.id === i.id)?.value\r\n      if (!stats) throw new Error('Bad Input Data: consolidateQueue')\r\n\r\n      return {\r\n        id: i.id,\r\n        value: Math.round(i.value - minT * stats.speed),\r\n      }\r\n    }),\r\n  ]\r\n}\r\n\r\nexport const enQueue = (\r\n  queue: Queue,\r\n  activeId: string,\r\n  characters: Character[],\r\n  move: Move,\r\n): Queue => {\r\n  const statArray: QueueStats = characters.map((c) => ({\r\n    id: c.id,\r\n    value: getStats(c),\r\n  }))\r\n\r\n  const queueToMove = [\r\n    ...queue.filter((i) => i.id !== activeId),\r\n    {\r\n      id: activeId,\r\n      value: Math.round(move.recovery),\r\n    },\r\n  ].filter((q) => {\r\n    const character = characters.find((c) => c.id === q.id)\r\n    const stats = statArray.find((s) => s.id === q.id)\r\n    return character && stats && character.damage < stats.value.health\r\n  })\r\n\r\n  return validateQueue(consolidateQueue(queueToMove, characters), statArray)\r\n}\r\n\r\nexport const validateQueue = (queue: Queue, stats: QueueStats): Queue => {\r\n  const validate = (queue: Queue, stats: QueueStats): [Queue, number] => {\r\n    let moves = 0\r\n    let result = [...queue]\r\n    result.forEach((item) => {\r\n      const sameValueItem = result.find(\r\n        (i) => i.value === item.value && i.id !== item.id,\r\n      )\r\n      const anotherIndex = sameValueItem ? result.indexOf(sameValueItem) : -1\r\n      if (sameValueItem && anotherIndex > 0) {\r\n        moves++\r\n        result[anotherIndex] = {\r\n          ...sameValueItem,\r\n          value: sameValueItem?.value + 1,\r\n        }\r\n      }\r\n    })\r\n    return [result, moves]\r\n  }\r\n\r\n  let validation = validate(queue, stats)\r\n  while (validation[1] > 0) {\r\n    validation = validate(validation[0], stats)\r\n  }\r\n  return validation[0]\r\n}\r\n\r\nexport const getActiveId = (queue: Queue): string => {\r\n  const item = queue.find((i) => i.value === 0)\r\n  if (!item) return ''\r\n  return item.id\r\n}\r\n\r\nexport const getMaxValue = (queue: Queue) =>\r\n  Math.max.apply(\r\n    Math,\r\n    queue.map((d) => d.value),\r\n  )\r\n","import { createContext, PropsWithChildren, useContext, useState } from 'react'\r\nimport { useCombat } from '.'\r\nimport { Character } from '../../types/character/character'\r\nimport { Move } from '../../types/move'\r\n\r\nexport type CombatBufferContextValue = {\r\n  moveBuffer: Move | undefined\r\n  setMoveBuffer: (move: Move | undefined) => void\r\n  bufferMove: (move: Move) => void\r\n  targetsBuffer: Character[] | undefined\r\n  setTargetsBuffer: (targets: Character[] | undefined) => void\r\n  clear: () => void\r\n}\r\nconst defaultValue: CombatBufferContextValue = {\r\n  moveBuffer: undefined,\r\n  setMoveBuffer: () => {},\r\n  bufferMove: () => {},\r\n  targetsBuffer: undefined,\r\n  setTargetsBuffer: () => {},\r\n  clear: () => {},\r\n}\r\n\r\nexport const CombatBufferContext =\r\n  createContext<CombatBufferContextValue>(defaultValue)\r\nexport const useCombatBuffer = () => useContext(CombatBufferContext)\r\n\r\nexport const CombatBuffer = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  const { getTargets, getActiveCharacter } = useCombat()\r\n  const [moveBuffer, setMoveBuffer] = useState<Move | undefined>()\r\n  const [targetsBuffer, setTargetsBuffer] = useState<Character[] | undefined>()\r\n  const bufferMove = (move: Move) => {\r\n    setMoveBuffer(move)\r\n    const character = getActiveCharacter()\r\n    if (character) {\r\n      const targets = getTargets(move, character)\r\n      if (targets.length === 1) {\r\n        setTargetsBuffer(targets[0])\r\n      }\r\n    }\r\n  }\r\n  const clear = () => {\r\n    setMoveBuffer(undefined)\r\n    setTargetsBuffer(undefined)\r\n  }\r\n  const context: CombatBufferContextValue = {\r\n    moveBuffer,\r\n    setMoveBuffer,\r\n    bufferMove,\r\n    targetsBuffer,\r\n    setTargetsBuffer,\r\n    clear,\r\n  }\r\n  return (\r\n    <CombatBufferContext.Provider value={context}>\r\n      {children}\r\n    </CombatBufferContext.Provider>\r\n  )\r\n}\r\n","import {\r\n  createContext,\r\n  PropsWithChildren,\r\n  useContext,\r\n  useEffect,\r\n  useState,\r\n} from 'react'\r\nimport { v4 } from 'uuid'\r\nimport { useCombat } from '.'\r\nimport { useCombatBuffer } from './buffer'\r\n\r\nexport type CombatTurnContextValue = {\r\n  turnId: string\r\n  turnCount: number\r\n  nextTurn: () => void\r\n}\r\nconst defaultValue: CombatTurnContextValue = {\r\n  turnId: v4(),\r\n  turnCount: 0,\r\n  nextTurn: () => {},\r\n}\r\n\r\nexport const CombatTurnContext = createContext(defaultValue)\r\nexport const useCombatTurn = () => useContext(CombatTurnContext)\r\n\r\nexport const CombatTurn = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  const [turnId, setTurnId] = useState<string>(v4())\r\n  const [turnCount, setTurnCount] = useState(0)\r\n  const { enqueue, reduceStatusDurations } = useCombat()\r\n  const { clear, moveBuffer } = useCombatBuffer()\r\n  const nextTurn = () => {\r\n    setTurnId(v4())\r\n    setTurnCount((c) => c + 1)\r\n  }\r\n  const context: CombatTurnContextValue = {\r\n    turnId,\r\n    turnCount,\r\n    nextTurn,\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (turnId && turnCount > 0 && moveBuffer) {\r\n      reduceStatusDurations()\r\n      enqueue(moveBuffer)\r\n      clear()\r\n    }\r\n  }, [turnCount])\r\n\r\n  return (\r\n    <CombatTurnContext.Provider value={context}>\r\n      {children}\r\n    </CombatTurnContext.Provider>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { Character } from '../../types/character/character'\r\nimport { Move } from '../../types/move'\r\nimport {\r\n  enQueue,\r\n  getActiveId,\r\n  initializeQueue,\r\n  Queue,\r\n} from '../../types/queue/queue'\r\n\r\nexport const useQueue = (initialValue?: Queue) => {\r\n  const [queue, set] = useState<Queue>(initialValue || [])\r\n  const enqueue = (characters: Character[], move: Move) => {\r\n    set((q) => enQueue(q, getActiveId(q), characters, move))\r\n  }\r\n  const initialize = (characters: Character[]) => {\r\n    set(initializeQueue(characters))\r\n  }\r\n  return {\r\n    queue,\r\n    enqueue,\r\n    initialize,\r\n  }\r\n}\r\n","import {\r\n  createContext,\r\n  PropsWithChildren,\r\n  useContext,\r\n  useMemo,\r\n  useState,\r\n} from 'react'\r\nimport { Character } from '../../types/character/character'\r\nimport { Party } from '../../types/character/party'\r\nimport { Move } from '../../types/move'\r\nimport { getActiveId, Queue } from '../../types/queue/queue'\r\nimport { ResolvedStatus, Status } from '../../types/status/status'\r\nimport { CombatBuffer } from './buffer'\r\nimport { getTargetIds } from './getTargets'\r\nimport { CombatTurn } from './turn'\r\nimport { CombatParty } from './types'\r\nimport { useQueue } from './useQueue'\r\n\r\nexport type CombatContextValue = {\r\n  queue: Queue\r\n  parties: Party[]\r\n  characters: Character[]\r\n  init: (parties: Party[]) => void\r\n  getCharacter: (id: string) => Character | undefined\r\n  getActiveCharacter: () => Character | undefined\r\n  hydrateCharacterIds: (ids: string[]) => Character[]\r\n  getTargets: (move: Move, source: Character) => Character[][]\r\n  updateCharacter: (id: string, fn: (c: Character) => Character) => void\r\n  addDamageToCharacter: (id: string, damage: number) => void\r\n  addStatusesToCharacter: (id: string, statuses: ResolvedStatus[]) => void\r\n  reduceStatusDurations: () => void\r\n  enqueue: (move: Move) => void\r\n}\r\nconst defaultValue: CombatContextValue = {\r\n  queue: [],\r\n  parties: [],\r\n  characters: [],\r\n  init: () => {},\r\n  getCharacter: () => undefined,\r\n  getActiveCharacter: () => undefined,\r\n  hydrateCharacterIds: () => [],\r\n  getTargets: () => [],\r\n  updateCharacter: () => {},\r\n  addDamageToCharacter: () => {},\r\n  addStatusesToCharacter: () => {},\r\n  reduceStatusDurations: () => {},\r\n  enqueue: () => {},\r\n}\r\n\r\nexport const CombatContext = createContext<CombatContextValue>(defaultValue)\r\nexport const useCombat = () => useContext(CombatContext)\r\n\r\nexport const CombatContextProvider = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  const [parties, setParties] = useState<CombatParty[]>([])\r\n  const [characters, setCharacters] = useState<Character[]>([])\r\n  const { queue, enqueue, initialize } = useQueue([])\r\n  const updateCharacter = (id: string, fn: (c: Character) => Character) => {\r\n    setCharacters((chars) => chars.map((c) => (c.id === id ? fn(c) : c)))\r\n  }\r\n  const addDamageToCharacter = (id: string, damage: number) =>\r\n    updateCharacter(id, (c) => ({ ...c, damage: c.damage + damage }))\r\n\r\n  const addStatusesToCharacter = (id: string, statuses: ResolvedStatus[]) => {\r\n    const statusesToApply = statuses.filter((status) => status.isApplied)\r\n\r\n    updateCharacter(id, (c) => {\r\n      let oldStatuses = [...c.statuses]\r\n      statusesToApply.forEach((status) => {\r\n        if (!status.isStackable) {\r\n          oldStatuses = oldStatuses.filter(\r\n            (s) => s.statusId !== status.statusId,\r\n          )\r\n        }\r\n      })\r\n      return { ...c, statuses: [...oldStatuses, ...statusesToApply] }\r\n    })\r\n  }\r\n\r\n  const reduceStatusDurations = () => {\r\n    characters.forEach((character) => {\r\n      updateCharacter(character.id, (c) => ({\r\n        ...c,\r\n        statuses: c.statuses\r\n          .map((status) => ({\r\n            ...status,\r\n            duration: status.duration - 1,\r\n          }))\r\n          .filter((status) => status.duration !== 0),\r\n      }))\r\n    })\r\n  }\r\n\r\n  const hydrateCharacterIds = (ids: string[]): Character[] =>\r\n    ids\r\n      .map((id) => characters.find((c) => c.id === id))\r\n      .filter((c) => c !== undefined) as Character[]\r\n\r\n  const getCharacter = (id: string) =>\r\n    hydrateCharacterIds([id])[0] as Character | undefined\r\n\r\n  const getActiveCharacter = () => getCharacter(getActiveId(queue))\r\n\r\n  const getTargets = (move: Move, source: Character) => {\r\n    const targets = getTargetIds(move, source, parties)\r\n    if (targets.length === 0)\r\n      throw new Error('Invalid Battle state. [getTargets]')\r\n    return targets.map((ids) => hydrateCharacterIds(ids))\r\n  }\r\n\r\n  const init = (p: Party[]) => {\r\n    setParties(\r\n      p.map((party) => ({\r\n        id: party.id,\r\n        characterIds: party.characters.map((c) => c.id),\r\n      })),\r\n    )\r\n    const chars = p.reduce(\r\n      (result, party) => [...result, ...party.characters],\r\n      [] as Character[],\r\n    )\r\n    setCharacters(chars)\r\n    initialize(chars)\r\n  }\r\n\r\n  const contextParties = useMemo(() => {\r\n    return parties.map((party) => ({\r\n      id: party.id,\r\n      characters: party.characterIds\r\n        .map((id) => characters.find((c) => c.id === id))\r\n        .filter((c) => c !== undefined) as Character[],\r\n    }))\r\n  }, [parties, characters])\r\n\r\n  const context: CombatContextValue = {\r\n    queue,\r\n    parties: contextParties,\r\n    characters,\r\n    init,\r\n    getCharacter,\r\n    getActiveCharacter,\r\n    hydrateCharacterIds,\r\n    getTargets,\r\n    updateCharacter,\r\n    addDamageToCharacter,\r\n    addStatusesToCharacter,\r\n    reduceStatusDurations,\r\n    enqueue: (move: Move) => enqueue(characters, move),\r\n  }\r\n\r\n  return (\r\n    <CombatContext.Provider value={context}>\r\n      <CombatBuffer>\r\n        <CombatTurn>{children}</CombatTurn>\r\n      </CombatBuffer>\r\n    </CombatContext.Provider>\r\n  )\r\n}\r\n","import { Character } from '../../types/character/character'\r\nimport { Move } from '../../types/move'\r\nimport { CombatParty } from './types'\r\n\r\nconst getSplashTargets = (ids: string[]): string[][] => {\r\n  if (ids.length === 0) return []\r\n  if (ids.length === 1) return [[ids[0]]]\r\n  if (ids.length === 2) return [[ids[0], ids[1]]]\r\n  if (ids.length >= 3)\r\n    return [\r\n      [ids[0], ids[1]],\r\n      [ids[0], ids[1], ids[2]],\r\n      [ids[1], ids[2]],\r\n    ]\r\n  return []\r\n}\r\n\r\nexport const getTargetIds = (\r\n  move: Move,\r\n  source: Character,\r\n  parties: CombatParty[],\r\n): string[][] => {\r\n  const sourceParty = parties.find((party) =>\r\n    party.characterIds.includes(source.id),\r\n  )\r\n  if (!sourceParty) throw new Error('Party not found. [getTargets]')\r\n  const enemyParty = parties.find((party) => party.id !== sourceParty.id)\r\n  if (!enemyParty) throw new Error('Invalid Combat state. [[getTargets]')\r\n  switch (move.target) {\r\n    case 'all':\r\n      return [[...sourceParty.characterIds, ...enemyParty.characterIds]]\r\n    case 'self':\r\n      return [[source.id]]\r\n    case 'controlled-party':\r\n      return [sourceParty.characterIds]\r\n    case 'controlled-target':\r\n      return sourceParty.characterIds.map((id) => [id])\r\n    case 'controlled-splash':\r\n      // return getSplashTargets(sourceParty.characterIds)\r\n      return sourceParty.characterIds.map((id) => [id])\r\n    case 'uncontrolled-party':\r\n      return [enemyParty.characterIds]\r\n    case 'uncontrolled-target':\r\n      return enemyParty.characterIds.map((id) => [id])\r\n    case 'uncontrolled-splash':\r\n      // return getSplashTargets(enemyParty.characterIds)\r\n      return enemyParty.characterIds.map((id) => [id])\r\n    default:\r\n      return []\r\n  }\r\n}\r\n","import { animated } from '@react-spring/web'\r\nimport {\r\n  forwardRef,\r\n  ForwardRefExoticComponent,\r\n  HTMLAttributes,\r\n  RefObject,\r\n} from 'react'\r\nimport styled, { StyledProps } from 'styled-components'\r\nimport {\r\n  background,\r\n  BackgroundProps,\r\n  border,\r\n  BorderProps,\r\n  color,\r\n  ColorProps,\r\n  flexbox,\r\n  FlexboxProps,\r\n  layout,\r\n  LayoutProps,\r\n  position,\r\n  PositionProps,\r\n  space,\r\n  SpaceProps,\r\n  textAlign,\r\n  TextAlignProps,\r\n} from 'styled-system'\r\ntype Theme = any\r\n\r\ninterface StyledBoxProps\r\n  extends ColorProps<Theme>,\r\n    BackgroundProps<Theme>,\r\n    BorderProps<Theme>,\r\n    FlexboxProps<Theme>,\r\n    PositionProps,\r\n    LayoutProps<Theme>,\r\n    SpaceProps<Theme>,\r\n    TextAlignProps,\r\n    Partial<Pick<StyledProps<any>, 'style'>> {}\r\n\r\nconst StyledBox = styled(animated.div)<StyledBoxProps>(\r\n  background,\r\n  border,\r\n  color,\r\n  flexbox,\r\n  layout,\r\n  position,\r\n  space,\r\n  textAlign,\r\n)\r\n\r\nexport type BoxProps = HTMLAttributes<any> & StyledBoxProps\r\nexport const Box = StyledBox\r\n\r\nBox.displayName = 'Box'\r\nBox.defaultProps = {\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n}\r\n","import styled from 'styled-components'\r\nimport { AttackTypes } from '../../types/character/character'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport const Wrapper = styled(Box)`\r\n  color: white;\r\n  flex-direction: column;\r\n  padding: 16px;\r\n  margin: 8px;\r\n  border: 1px solid black;\r\n  width: 250px;\r\n  text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.27);\r\n  background: linear-gradient(\r\n    198deg,\r\n    rgba(45, 47, 56, 1) 0%,\r\n    rgba(80, 94, 116, 1) 100%\r\n  );\r\n`\r\nexport const Header = styled(Box)({\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n  marginBottom: '12px',\r\n})\r\n\r\nexport const AttackWrapper = styled.div({\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  border: '1px solid black',\r\n})\r\n\r\nexport const AttackPower = styled.div<{ type: AttackTypes }>((props) => ({\r\n  display: 'flex',\r\n  flex: 1,\r\n  fontSize: '32px',\r\n  fontWeight: 800,\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  background:\r\n    props.type === 'special'\r\n      ? 'linear-gradient(198deg, rgba(130,93,232,1) 0%, rgba(129,36,195,1) 100%)'\r\n      : 'linear-gradient(198deg, rgba(232,148,93,1) 0%, rgba(215,93,13,1) 100%)',\r\n  // color: props.type === 'physical' ? 'blue' : 'purple',\r\n}))\r\n\r\nexport const AttackAccuracy = styled.div({\r\n  display: 'flex',\r\n  flex: 1,\r\n  background: 'black',\r\n  color: 'rgba(255,255,255,0.5)',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  //fontSize: 12,\r\n})\r\n\r\nconst accuracyColors: any = {\r\n  1: 'DarkOrchid',\r\n  2: 'CornflowerBlue',\r\n  3: 'LightGreen',\r\n  4: 'Yellow',\r\n  5: 'Orange',\r\n  6: 'Salmon',\r\n}\r\nexport const AttackAccuracyText = styled.div<{ checks: number }>((props) => ({\r\n  fontWeight: 800,\r\n  fontSize: 32,\r\n  color: accuracyColors[props.checks] || 'white',\r\n}))\r\n\r\nexport const MoveDetails = styled(Box)({\r\n  flex: 1,\r\n  fontSize: '14px',\r\n  fontWeight: 700,\r\n  color: 'rgba(255,255,255,0.56)',\r\n  // whiteSpace: 'nowrap',\r\n  padding: '0 8px',\r\n})\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M166 121c0 90 90 105 90 180 0 30-30 75-75 75s-75-45-45-120c-45 30-60 60-60 90 0 75 75 150 180 150s180-45 180-135c.67-133.125-153.4-177.596-195-240-30-45-15-75 15-105-60 15-90 57-90 105z\"\n});\n\nfunction SvgFlamer(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFlamer);\nexport default __webpack_public_path__ + \"static/media/flamer.6efba9c3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M263.844 40.344C234.1 213.202 145.594 248.03 145.594 369.22c0 60.804 60.106 105.5 118.25 105.5 59.45 0 115.937-41.803 115.937-99.533 0-116.332-85.2-162.312-115.936-334.843zm-58.28 217.094c-27.963 75.53-5.105 154.567 54.25 179.375 15.185 6.348 31.724 7.714 47.905 6.28-116.134 49.787-185.836-79.816-102.158-185.656z\"\n});\n\nfunction SvgDrop(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDrop);\nexport default __webpack_public_path__ + \"static/media/drop.c90ef023.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M29.805 29.777L242.14 209.55H118.712l112.54 86.784H95.995l225.656 174.012-81.537-116.05 66.487.143 179.185 138.175-171.96-244.746h84.568L248.082 29.776H29.805z\"\n});\n\nfunction SvgPowerLightning(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPowerLightning);\nexport default __webpack_public_path__ + \"static/media/power-lightning.3ae17416.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M92.239 26.432c-4.705.09-9.496.87-14.37 2.473-19.773 6.506-41.557 59.364-7.411 112.912 9.221 14.46-41 39.289-31.803 67.056 12.387 37.399 99.437 19.933 112.104 42.211 6.44 11.328-79.773 49.284-49.663 81.625 37.951 40.763 76.062 14.109 138.553 23.864 24.685 3.853-26.357 63.343 11.031 86.498 39.948 24.739 118.742 1.986 160.846-20.254a20577.214 20577.214 0 0 0-30.19-36.098c-33.45 10.371-71.807 15.824-106.036 13.664 36.092-6.615 65.118-14.246 94.8-27.025-21.566-25.637-43.299-51.22-65.357-76.479-36.846 7.379-103.783 18.406-166.793 13.88 8.83-1.316 110.772-14.937 154.935-27.38a3177.953 3177.953 0 0 0-24.357-27.318 6823.337 6823.337 0 0 0-27.935-35.486 6485.7 6485.7 0 0 0-15.413-19.34l-.115.658c-31.187 1.8-90.154 3.052-142.9-10.709 7.477.02 92.983 1.716 132.031-3.637-16.65-20.699-32.746-40.434-46.473-56.795-7.035-8.385-13.392-15.81-19.011-22.209l.05-.056c25.401 23.275 50.132 47.542 74.329 72.506 15.57-24.254 32.931-56.653 41.664-80.655 1.469 29.363-15.963 66.66-27.586 95.325 22.456 23.61 44.458 47.79 66.125 72.287 20.118-23.976 44.105-60.316 54.869-83.707-3.957 26.047-31.834 67.188-44.936 94.982 25.142 28.669 49.84 57.727 74.266 86.8 13.506-17.48 28.29-40.286 35.822-57.296 1.32 21.671-14.607 49.312-24.892 70.281l-.05-.014c9.624 11.49 19.211 22.974 28.766 34.428 3.016-2.12 5.604-4.173 7.582-6.095 31.459-30.573 36.26-79.699 17.842-116.51-12.519-25.021-70.096-8.654-77.265-23.846-9.068-19.214 51.563-76.204 28.146-104.902-16.456-20.168-75.04 1.983-85.264-16.182-16.343-29.04 28.13-74.832-21.763-99.244-26.468-12.95-46.397 5.349-88.338 44.103-21.236 19.623-62.13-63.165-113.828-64.312a48.694 48.694 0 0 0-2.012-.004zm345.39 402.365l-13.982 11.336 36.848 45.444 13.98-11.336-36.845-45.444z\"\n});\n\nfunction SvgOakLeaf(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgOakLeaf);\nexport default __webpack_public_path__ + \"static/media/oak-leaf.7deeef1c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M317.727 108.904l-95.192 96.592-26.93 86.815 17.54 36.723 20.417 9.287 33.182-55.082 11.297-3.61 61.75 26.85 20.26-12.998 4.47-43.7 11.42 53.634-10.622 14.162 3.772 1.64 5.238 6.5 6.832 34.343 55.977-66.775 13.98.23 22.397 28.575-9.453-52.244L434.01 166.81l-116.28-57.906zM123.61 120.896L94.08 173l-4.603 27.62 25.98-8.442 11.704 7.377.084.634 28.295 59.865 13.773-4.543 10.94 4.668 3.922 8.21 19.517-62.917-1.074-33.336-40.15-.522-29.732-23.78 34.06 10.888 42.49-7.727 26.034 15.88 36.282-36.815c-2.777-1.18-5.615-2.356-8.58-3.52l-79.58 10.126-3.528-.25-56.307-15.52zm249.33 36.422l47.058 66.02 2.107 62.51-25.283-59.698-65.322-60.404 41.44-8.428zm-262.2 55.32l-64.234 20.876-16.71 78.552 50.794 5.582.596-7.14 37.662-36.707-8.108-61.16zm56.688 62.45l-36.44 12.016-31.644 30.84 22.588 30.867 57.326 1.74 16.5-16.16-28.33-59.302zm110.666 24.19l-44.307 73.546-.033 57.14 97.264 12.216 44.242-19.528-17.666-88.806-79.5-34.567zM443.8 313.36l-46.843 55.876.287 1.774 65.147 13.887 25.78-14.926-44.37-56.613zm-138.382 15.89l39.23 22.842 13.41 50.658-26.82 23.838-45.015-2.553 38.562-28.242 2.483-39.23-21.85-27.312zm-238.37 53.838l-8.77 28.51 13.152 48.498 91.037-11.91 1.32-26.418-62.582-31.995-34.156-6.684z\"\n});\n\nfunction SvgStonePile(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgStonePile);\nexport default __webpack_public_path__ + \"static/media/stone-pile.addbf61f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M160.53 20.906c-22.075.207-39.973 9.138-54.218 23.782C89.507 61.962 78.3 87.6 74.876 115.624c-6.847 56.05 16.55 119.953 82.094 146.625l-7.032 17.313c-64.128-26.096-93.275-84.757-94.782-141-17.36 10.866-27.608 27.05-32.343 46.437-5.728 23.448-2.727 51.54 7.906 77.844 21.264 52.61 71.37 96.856 138.436 87.594l2.563 18.53c-48.795 6.74-90.183-11.576-119.907-41.03-8.152 16.216-7.504 32.264-.657 48.312 8.472 19.854 27.498 39.252 52.875 53.594 47.085 26.61 114.8 35.554 173.19 5.094-5.43-20.99-2.652-45.074 11.342-69.313 22.71-39.332 60.78-49.83 88.375-38.688 13.798 5.572 25.08 16.555 29.875 31.157 4.796 14.6 2.836 32.303-7.375 50.312-11.8 20.81-34.144 27.877-51.25 22.22-8.552-2.83-16.22-9.437-18.875-18.876-2.653-9.44-.142-20.366 7.063-31.313l15.594 10.282c-5.238 7.955-5.5 13.08-4.69 15.967.813 2.888 2.84 4.895 6.75 6.188 7.822 2.587 21.483-.152 29.158-13.688 8.188-14.44 8.82-26.183 5.843-35.25-2.976-9.066-9.846-15.954-19.092-19.687-18.493-7.467-46.14-2.273-65.188 30.72-14.024 24.29-14.373 45.376-6.72 63.436l2.814 4.375c-.197.13-.397.25-.594.376.256.497.513 1.008.78 1.5 1.945 3.565 4.218 7.007 6.814 10.28.1.13.21.25.312.377.395.49.81.984 1.22 1.468 11.508 13.657 28.358 24.378 47.312 30.283 24.26 7.557 51.596 7.146 74.843-3.75 23.248-10.897 42.935-31.972 52.69-68.375 3.323-12.406 5.08-23.776 5.5-34.313.01-.418.023-.832.03-1.25.087-5.1-.088-10.246-.563-15.406-.037-.407-.084-.814-.125-1.22-.032-.27-.06-.544-.093-.813-3.295-25.79-15.823-46.16-34.345-64.437-29.635-29.24-75.698-51.638-122.75-74.125-47.052-22.487-95.112-45.1-128.875-77.656-31.683-30.553-49.926-71.185-40.313-124.814-.72-.01-1.444-.006-2.156 0z\"\n});\n\nfunction SvgFluffyWing(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFluffyWing);\nexport default __webpack_public_path__ + \"static/media/fluffy-wing.30c94702.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M282.83 18.877c21.567 6.146 36.328 15.205 40.572 28.77-1.367.74-2.725 1.518-4.066 2.363-25.655 5.807-53.084 18.634-81.047 34.363 20.225-4.69 36.705-4.42 47.544 3.324-5.712 10.3-10.797 22.294-15.123 36.06-21.343 67.922-125.678-80.577-189.065-5.255C41.47 166.24 92.702 212.342 26.5 294.29c35.583-4.14 45.11-9.47 62.416-36.21 10.44-16.13 28.52-22.1 44.668-21.45-12.718 11.206-25.786 30.354-38.21 59.895 19.832-18.528 44.927-38.68 71.603-40.005.912 6.354-2.408 13.74-12.008 21.418C93.21 327.327 15.58 364.185 19.83 476.504c5.558-11.267 11.646-20.31 17.574-28.617 5.98 29.582 28.2 53.8 92.99 40.482-46.928-6.407-76.268-59.586-45.355-82.528 62.716-46.544 128.82 1.436 269.9-75.342 2.475-1.346 4.86-2.49 7.164-3.46-2.246 19.6-12.367 39.84-22.362 57.14 14.26-10.38 25.415-20.147 33.928-29.262 2.14 26.14-11.748 54.65-25.393 78.268 43.26-31.49 61.19-57.976 63.207-78.422 9.334 36.678-1.895 95.547-25.03 123.492 77.553-39.433 106.608-77.127 109.76-190.664 1.662-59.824-66.23-60.536-56.435-101.344 11.945-49.756 6.768-84.69-7.565-107.947-19.6-49.73-79.99-59.74-149.385-59.423zM89.8 47.684C54.69 47.534 45.233 83.056 55.724 117c17.146-51.504 70.414-44.24 111.17-34.367-33.282-25.005-58.707-34.87-77.096-34.95zm254.595 30.742c18.643 21.37 29.373 43.02 10.105 65.732-26.562-16.677-26.985-39.252-10.105-65.732zm74.494 48.6c3.655-.013 7.78.35 12.473 1.09-1.706 30.506-14.4 33-46.634 32.154 8.335-22.146 14.416-33.176 34.16-33.245zm-84.677 40.316c9.652.1 20.258 2.84 30.598 8.918 44.65 26.246 21.934 73.314-4.1 74.78-15.174.855 1.443-23.842-16.17-38.476-15.258-12.678-38.596 12.53-45.204-5.78-8.218-22.693 10.21-39.696 34.877-39.442zm60.18 246.168c-24.195 27.825-58.89 60.1-99.444 31.41 16.625 45.643 68.87 70.465 99.443-31.41z\"\n});\n\nfunction SvgSpectre(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpectre);\nexport default __webpack_public_path__ + \"static/media/spectre.a300475c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M255.997 16.004c-120 0-239.997 60-239.997 149.998C16 226.002 61 256 61 316c0 45-15 45-15 75 0 14.998 48.01 32.002 89.998 44.998v60h239.997v-60s90.567-27.957 90-45c-.933-27.947-15-30-15-74.998 0-30 45.642-91.42 44.998-149.998 0-90-119.998-149.998-239.996-149.998zm-90 179.997c33.137 0 60 26.864 60 60 0 33.136-26.863 60-60 60C132.863 316 106 289.136 106 256c0-33.136 26.862-60 59.998-60zm179.998 0c33.136 0 60 26.864 60 60 0 33.136-26.864 60-60 60-33.136 0-60-26.864-60-60 0-33.136 26.864-60 60-60zm-89.998 105c15 0 45 60 45 75 0 29.998 0 29.998-15 29.998h-60c-15 0-15 0-15-30 0-15 30-74.998 45-74.998z\"\n});\n\nfunction SvgDeathSkull(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDeathSkull);\nexport default __webpack_public_path__ + \"static/media/death-skull.e46d2abd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M256 16c-120 0-135 105-60 195 0-165 135-45 135-135 0-30-45-60-75-60zm146.25 134.532C370.61 152.554 334.75 167.875 301 196c165 0 45 135 135 135 30 0 60-45 60-75 0-75-41.016-108.838-93.75-105.468zM76 181c-30 0-60 45-60 75 0 120 105 135 195 60-165 0-45-135-135-135zm175.782 15A60 60 0 0 0 196 256a60 60 0 0 0 120 0 60 60 0 0 0-64.218-60zM316 301c0 165-135 45-135 135 0 30 45 60 75 60 120 0 135-105 60-195z\"\n});\n\nfunction SvgPulse(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPulse);\nexport default __webpack_public_path__ + \"static/media/pulse.bdf208ab.svg\";\nexport { ForwardRef as ReactComponent };","import { ElementalType } from '../../types/elemental'\r\nimport { ReactComponent as Fire } from '../../icons/sbed/flamer.svg'\r\nimport { ReactComponent as Water } from '../../icons/lorc/drop.svg'\r\nimport { ReactComponent as Thunder } from '../../icons/lorc/power-lightning.svg'\r\nimport { ReactComponent as Grass } from '../../icons/delapouite/oak-leaf.svg'\r\nimport { ReactComponent as Earth } from '../../icons/delapouite/stone-pile.svg'\r\nimport { ReactComponent as Air } from '../../icons/lorc/fluffy-wing.svg'\r\nimport { ReactComponent as Ghost } from '../../icons/lorc/spectre.svg'\r\nimport { ReactComponent as Dark } from '../../icons/sbed/death-skull.svg'\r\nimport { ReactComponent as Light } from '../../icons/sbed/pulse.svg'\r\n\r\nimport { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst iconMap: Record<ElementalType, FunctionComponent> = {\r\n  fire: Fire,\r\n  water: Water,\r\n  grass: Grass,\r\n  earth: Earth,\r\n  thunder: Thunder,\r\n  air: Air,\r\n  ghost: Ghost,\r\n  dark: Dark,\r\n  light: Light,\r\n}\r\n\r\nexport const colorMap: Record<ElementalType, string> = {\r\n  fire: 'salmon',\r\n  water: 'CornflowerBlue',\r\n  grass: 'lightgreen',\r\n  earth: 'tan',\r\n  thunder: 'gold',\r\n  air: 'aliceblue',\r\n  ghost: 'mediumpurple',\r\n  dark: 'lightslategrey',\r\n  light: 'lightyellow',\r\n}\r\n\r\nconst Wrapper = styled.div<{ color: string }>`\r\n  height: 24px;\r\n  width: 24px;\r\n  path {\r\n    fill: ${(p) => p.color};\r\n  }\r\n`\r\n\r\nexport type ElementIconProps = {\r\n  type: ElementalType\r\n  color?: string\r\n}\r\nexport const ElementIcon = (props: ElementIconProps) => {\r\n  const { type, color } = props\r\n  const Name = iconMap[type]\r\n  return (\r\n    <Wrapper color={color || colorMap[type]}>\r\n      <Name />\r\n    </Wrapper>\r\n  )\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M418.176 280.486c21.38-30.735 42.538-61.17 64.123-92.267-30.341-4.086-59.886-8.048-89.888-12.134 13.6-39.089 26.955-77.509 40.735-117.15-41.247 23.546-81.281 46.413-121.716 69.462-10.34-34.333-20.703-68.359-31.223-103.298-18.23 32.498-35.798 63.965-53.603 95.676-33.719-32.262-66.83-64.029-101.163-96.841 7.803 45.31 15.426 89.155 22.986 133.733-43.964-7.009-86.833-13.655-130.986-20.553 31.892 37.199 63.052 73.548 94.4 110.197-27.932 25.67-55.681 51.161-84.029 77.383 36.648 8.173 71.958 16.16 108.18 24.332-13.236 29.451-26.221 58.358-39.577 88.061 23.718-6.284 26.68-7.016 49.303-13.118 0 0 22.35-68.463 32.866-84.747 4.806-7.29 5.267-13.96 3.675-22.182-6.668-34.118-12.749-68.32-19.108-102.447-.39-1.934-.47-3.335 1.543-4.647 23.978-16.689 36.344-21.244 73.797-47.78 17.295 19.699 34.47 39.477 51.997 59.647a2368.384 2368.384 0 0 0-17.837 16.364c-.46.46-1.622.69-2.324.46-6.52-1.943-13.03-3.876-19.588-5.968-7.708-7.292-13.68-15.293-19.808-21.482-1.703 6.36-3.456 12.327-4.887 18.457 8.984 10.945 11.236 14.184 16.904 19.77 1.162 1.17 1.861 3.024 1.861 4.576 1.549 31.612.61 62.646 2.134 89.81 3.374.932 6.439 1.703 10.196 2.795-.773-34.13-1.353-67.71-2.244-101.52 2.053 0 3.995 1.012 5.618 3.877 19.688 32.305 37.333 64.041 54.95 93.455 2.944-1.712 5.858-3.415 8.843-5.127-1.513 4.573-6.594 10.905-9.314 14.822-9.388 14.727-25.093 22.027-37.995 30.863-15.624 24.762-28.247 50.076-38.257 67.658l14.789 37.443c.37.118 26.19-39.152 38.908-59.09 21.19 18.717 41.987 37.136 63.39 56.035 1.55-41.042 3.196-80.801 4.692-121.048 44.704 3.844 88.763 7.623 134.04 11.53-26.01-32.444-51.169-63.604-76.383-95.007zm-164.443-117.08c12.948-8.062 25.587-15.822 38.506-23.725 6.389 11.007 12.479 21.863 18.646 32.878-10.625 6.59-21.17 13.189-32.107 19.849-8.181-9.614-16.593-19.147-25.045-29.002zm51.184 59.027c-6.29-7.37-12.568-14.512-19.197-22.183 11.055-6.75 22.062-13.57 33.307-20.48 5.74 10.085 11.368 19.93 17.066 30.013-16.835 10.475-33.47 20.63-49.834 30.715-.11-.232-.23-.311-.459-.47 6.317-5.739 12.598-11.476 19.117-17.595zm-26.138 34.74c20.55-12.639 40.83-25.047 61.42-37.765 6.128 10.546 11.946 20.86 18.115 31.716-20.52 12.719-40.879 25.127-61.54 37.844-6.018-10.775-11.985-21.25-17.995-31.795zm40.479 71.033c-5.739-10.155-11.476-20.08-17.175-30.325 19.238-11.786 38.346-23.574 57.744-35.51 5.698 10.073 11.438 20.079 17.135 30.245-19.31 12.015-38.466 23.733-57.704 35.59z\"\n});\n\nfunction SvgRevolt(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRevolt);\nexport default __webpack_public_path__ + \"static/media/revolt.2e58af85.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M247.79 18.734C137.967 17.596 19.874 96.94 19.73 244.53l21.403-51.395c-9.485 72.28-7.75 147.236 38.79 202.502L38.2 377.355c39.24 69.774 126.333 90.976 200.855 92.51C124.11 429.9 67.87 342.277 63.912 246.492c-6.722-211.78 260.658-217.694 340.78-75.77-3.417-19.492-8.623-38.426-15.618-56.11 77.406 89.155 59.293 214.875-21.29 253.036-24.25 3.95-48.93 12.06-60.954 19-58.548 33.802-6.27 126.536 53.225 92.188 9.44-5.45 23.404-17.303 36.494-31.352 64.36-59.52 98.1-118.24 93.108-188.94-6.52 29.1-19.175 57.904-35.623 84.683 63.158-146.822 7.956-263.89-144.838-301.354 12.097 5.835 23.503 13.63 33.873 23.36-57.415-23.752-131.123-22.62-186.884 3.505 28.066-26.2 64.776-43.73 102.2-49.642-3.52-.205-7.054-.325-10.597-.362zm-19.74 160.202l-19.843 100.566c-2.958 3.81-5.64 6.852-9.033 9.94l-25.688-49.096-22.705 11.93 31.37 60.945c4.48 11.474 10.02 20.68 15.162 28.524 28.063 42.803 64.547 35.252 95.303 9.555l87.28-48.452-12.71-22.498-66.136 36.94c-1.517-3.154-3.266-6.552-5.056-9.51l67.818-64.96-17.54-18.695-66.47 63.762c-2.356-2.318-4.238-4.527-6.765-6.54l45.084-78.085-22.733-13.127-45.864 78.297c-3.79-1.31-7.72-2.2-11.595-2.745l15.656-81.896-25.533-4.854z\"\n});\n\nfunction SvgMagicSwirl(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgMagicSwirl);\nexport default __webpack_public_path__ + \"static/media/magic-swirl.fe6b7c76.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as Physical } from '../../icons/darkzaitzev/revolt.svg'\r\nimport { ReactComponent as Special } from '../../icons/lorc/magic-swirl.svg'\r\nimport { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\nimport { AttackTypes } from '../../types/character/character'\r\n\r\nconst iconMap: Record<AttackTypes, FunctionComponent> = {\r\n  physical: Physical,\r\n  special: Special,\r\n}\r\n\r\nconst colorMap: Record<AttackTypes, string> = {\r\n  physical: 'white',\r\n  special: 'white',\r\n}\r\n\r\nconst Wrapper = styled.div<{ color: string }>`\r\n  height: 32px;\r\n  width: 32px;\r\n  path {\r\n    fill: ${(p) => p.color};\r\n  }\r\n`\r\n\r\nexport type TypeIconProps = {\r\n  type: AttackTypes\r\n  color?: string\r\n}\r\nexport const TypeIcon = (props: TypeIconProps) => {\r\n  const { type, color } = props\r\n  const Name = iconMap[type]\r\n  return (\r\n    <Wrapper color={color || colorMap[type]}>\r\n      <Name />\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport type IconProps = BoxProps\r\n\r\nconst Wrapper = styled(Box)`\r\n  path {\r\n    fill: ${(p) =>\r\n      p.color && typeof p.color === 'string' ? p.color : 'inherit'};\r\n  }\r\n`\r\n\r\nexport const Icon = (props: IconProps) => {\r\n  const { children, ...rest } = props\r\n  return <Wrapper {...rest}>{children}</Wrapper>\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M247 16v23.2C134.4 43.81 43.81 134.4 39.2 247H16v18h23.2c4.61 112.6 95.2 203.2 207.8 207.8V496h18v-23.2c112.6-4.6 203.2-95.2 207.8-207.8H496v-18h-23.2C468.2 134.4 377.6 43.81 265 39.2V16h-18zm0 41.21V80h18V57.21C367.8 61.78 450.2 144.2 454.8 247H432v18h22.8c-4.6 102.8-87 185.2-189.8 189.8V432h-18v22.8c-102.8-4.6-185.22-87-189.79-189.8H80v-18H57.21C61.78 144.2 144.2 61.78 247 57.21zm8.9 38.12c-5 0-9.5 1.1-12.9 2.9L126.8 165.3c-7.3 4.1-7.3 10.9 0 15.2L243 247.4c7.2 4.3 18.5 4.3 25.7 0l115.9-66.9c7.4-4.3 7.4-11.1 0-15.2L268.7 98.23c-3.4-1.8-8.3-2.9-12.8-2.9zm-89 62.57c6 .1 11.7 1.6 16 4.1 8 5.7 7.3 14.1-1.5 19.4-9 5.2-23.1 5.6-32.7.8-14.9-9.3-3.4-24.7 18.2-24.3zm178.6.1h2c6 .2 11.7 1.8 15.9 4.2 8.3 5.7 7.7 14.3-1.2 19.6-9.1 5.3-23.4 5.6-33 .7-15-9-4.5-24.1 16.3-24.5zm-89 0c21.4.2 31.8 15.5 16.8 24.5-9.3 6.2-25.2 6.4-35.1.6-9.8-5.8-9.6-15.3.6-20.9 4.7-2.7 11.1-4.3 17.7-4.2zm-141 41c-4.5 0-7.5 3-7.5 9.2v119.7c0 8.4 5.8 18.3 13.2 22.6l111.4 64.4c7.2 4.1 12.9.7 12.9-7.6V287.6c0-8.3-5.7-18.4-12.9-22.5l-111.5-64.5c-2.2-1.1-4.1-1.5-5.6-1.6zm281.3 0c-1.6.1-3.7.5-5.8 1.6l-111.5 64.5c-7.2 4.1-12.9 14.2-12.9 22.5v119.7c0 8.3 5.7 11.7 12.9 7.6L391 350.5c7-4.3 13-14.2 13-22.6V208.2c0-6.2-3-9.2-7.2-9.2zm-185 65.5c11.2.4 24.7 17.3 24.5 31.5.4 11-7.4 15.5-17.2 9.9-9.7-5.7-17.5-19.4-16.9-29.8 0-6.8 3.2-11.2 8.5-11.6h1.1zm130.9 21.8h1.1c5.2.4 8.5 4.8 8.5 11.5-.1 10.5-7.7 23.3-17.1 28.8-9.5 5.5-17.1 1.5-17.2-8.9-.1-14.2 13.5-31.3 24.7-31.4zm-216.9 22.5c11.4-.5 25.5 16.8 25.5 31.3.4 11.1-7.4 15.6-17.2 10.1-9.7-5.7-17.5-19.3-17-29.8 0-6.9 3.3-11.3 8.7-11.6z\"\n});\n\nfunction SvgDiceTarget(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDiceTarget);\nexport default __webpack_public_path__ + \"static/media/dice-target.2123da11.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M44.62 106a26 26 0 0 0-25.69 29.3c16 124 16 117.4 0 241.4A26 26 0 0 0 54.72 404l138.68-57.7c-1.2 9.5-2.4 18.9-3.9 30.4-2.5 19.8 17.3 35 35.8 27.3l252-124c9.7-4 16-13.5 16-24s-6.3-20-16-24l-252-124c-3.2-1.3-6.6-2-10.1-2-15.6.1-27.7 13.8-25.7 29.3 1.5 11.5 2.7 20.9 3.9 30.4L54.72 108a26 26 0 0 0-10.1-2z\"\n});\n\nfunction SvgFastForwardButton(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFastForwardButton);\nexport default __webpack_public_path__ + \"static/media/fast-forward-button.2307d71a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M467.4 106a26 26 0 0 1 25.7 29.3c-16 124-16 117.4 0 241.4a26 26 0 0 1-35.8 27.3l-138.7-57.7c1.2 9.5 2.4 18.9 3.9 30.4 2.5 19.8-17.3 35-35.8 27.3L34.72 280c-9.7-4-16-13.5-16-24s6.3-20 16-24L286.7 108c3.2-1.3 6.6-2 10.1-2 15.6.1 27.7 13.8 25.7 29.3-1.5 11.5-2.7 20.9-3.9 30.4L457.3 108a26 26 0 0 1 10.1-2z\"\n});\n\nfunction SvgFastBackwardButton(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgFastBackwardButton);\nexport default __webpack_public_path__ + \"static/media/fast-backward-button.5e491b82.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as Target } from '../../icons/delapouite/fast-forward-button.svg'\r\nimport { ReactComponent as Source } from '../../icons/delapouite/fast-backward-button.svg'\r\nimport { FunctionComponent } from 'react'\r\nimport styled from 'styled-components'\r\n\r\nexport type StatusTargetType = 'target' | 'source'\r\n\r\nconst iconMap: Record<StatusTargetType, FunctionComponent> = {\r\n  target: Target,\r\n  source: Source,\r\n}\r\n\r\nconst colorMap: Record<StatusTargetType, string> = {\r\n  target: 'rgba(255,255,255,0.45)',\r\n  source: 'rgba(255,255,255,0.45)',\r\n}\r\n\r\nconst Wrapper = styled.div<{ color: string }>`\r\n  height: 16px;\r\n  width: 16px;\r\n  margin-right: 4px;\r\n  path {\r\n    fill: ${(p) => p.color};\r\n  }\r\n`\r\n\r\nexport type StatusTargetIconProps = {\r\n  type: StatusTargetType\r\n  color?: string\r\n}\r\nexport const StatusTargetIcon = (props: StatusTargetIconProps) => {\r\n  const { type, color } = props\r\n  const Name = iconMap[type]\r\n  return (\r\n    <Wrapper color={color || colorMap[type]}>\r\n      <Name />\r\n    </Wrapper>\r\n  )\r\n}\r\n","import { CharacterStats } from '../../../types/character/character'\r\nimport { Status } from '../../../types/status/status'\r\nimport { Box } from '../Box'\r\n\r\nexport const statKeyMap: Record<keyof CharacterStats, string> = {\r\n  health: 'Health',\r\n  speed: 'Speed',\r\n  energy: 'Energy',\r\n  initiative: 'Initiative',\r\n  criticalChance: 'Critical Chance',\r\n  criticalDamage: 'Critical Damage',\r\n  physicalAccuracy: 'Phys. Accuracy',\r\n  physicalAttack: 'Phys Attack',\r\n  physicalDefense: 'Phys Defense',\r\n  specialAccuracy: 'Spec Accuracy',\r\n  specialAttack: 'Spec Attack',\r\n  specialDefense: 'Spec Defense',\r\n  fireDamage: 'Fire Damage',\r\n  fireResistance: 'Fire Res',\r\n  waterDamage: 'Water Damage',\r\n  waterResistance: 'Water Res',\r\n  grassDamage: 'Grass Damage',\r\n  grassResistance: 'Grass Res',\r\n  earthDamage: 'Earth Damage',\r\n  earthResistance: 'Earth Res',\r\n  thunderDamage: 'Thunder Damage',\r\n  thunderResistance: 'Thunder Res',\r\n  airDamage: 'Air Damage',\r\n  airResistance: 'Air Res',\r\n  ghostDamage: 'Ghost Damage',\r\n  ghostResistance: 'Ghost Res',\r\n  darkDamage: 'Dark Damage',\r\n  darkResistance: 'Dark Res',\r\n  lightDamage: 'Light Damage',\r\n  lightResistance: 'Light Res',\r\n}\r\n\r\nexport type StatusCardProps = {\r\n  status: Status\r\n}\r\n\r\nexport const StatusCard = (props: StatusCardProps) => {\r\n  const { status } = props\r\n  const modKeys = status.modifiers.map((mod) =>\r\n    Object.keys(mod.stats),\r\n  ) as (keyof CharacterStats)[][]\r\n  return (\r\n    <Box background='white' padding='8px'>\r\n      <Box style={{ fontWeight: 700 }}>{status.name}</Box>\r\n      <Box>\r\n        {modKeys.map((keys, modIndex) =>\r\n          keys.map((key) => {\r\n            const mod = status.modifiers[modIndex]\r\n            const eq = mod.stats[key]\r\n            if (!eq) return null\r\n            return (\r\n              <Box key={`${status.id}-${key}`}>\r\n                {eq.m !== 0 && (\r\n                  <Box>\r\n                    {statKeyMap[key]}: {eq.m > 0 ? '+' : ''}\r\n                    {eq.m * 100}%\r\n                  </Box>\r\n                )}\r\n                {eq.b !== 0 && (\r\n                  <Box>\r\n                    {statKeyMap[key]}: {eq.m > 0 ? '+' : ''}\r\n                    {eq.b}\r\n                  </Box>\r\n                )}\r\n              </Box>\r\n            )\r\n          }),\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { useState } from 'react'\r\nimport { useHover, useLayer, Arrow, UseLayerOptions } from 'react-laag'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport type TooltipProps = BoxProps & {\r\n  content: JSX.Element\r\n  isOpen?: boolean\r\n  contentProps?: Omit<BoxProps, 'children'>\r\n  options?: Omit<UseLayerOptions, 'isOpen'>\r\n}\r\n\r\nexport const Tooltip = (props: TooltipProps) => {\r\n  const {\r\n    isOpen = false,\r\n    content,\r\n    children,\r\n    contentProps = {},\r\n    options = {},\r\n    ...rest\r\n  } = props\r\n\r\n  const { arrowProps, layerProps, triggerProps, renderLayer } = useLayer({\r\n    isOpen,\r\n    ...options,\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <Box {...rest} {...triggerProps}>\r\n        {children}\r\n      </Box>\r\n      {isOpen &&\r\n        renderLayer(\r\n          <Box {...contentProps} {...layerProps}>\r\n            {content}\r\n            <Arrow {...arrowProps} />\r\n          </Box>,\r\n        )}\r\n    </>\r\n  )\r\n}\r\n","export const theme = {\r\n  statsGreen: '#a3ffa3',\r\n  statsPink: '#ffa3a3',\r\n}\r\n","import styled from 'styled-components'\r\nimport { theme } from '../../../theme'\r\nimport { Box } from '../Box'\r\n\r\nexport const Wrapper = styled(Box)({\r\n  marginLeft: '4px',\r\n  flexDirection: 'row',\r\n  alignItems: 'flex-start',\r\n})\r\n\r\nexport const StatusWrapper = styled(Box)<{ isPositive: boolean }>((props) => ({\r\n  color: !props.isPositive ? theme.statsPink : theme.statsGreen,\r\n  marginRight: '4px',\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n}))\r\n\r\nexport const StatusChance = styled(Box)({\r\n  marginRight: '2px',\r\n  opacity: 0.72,\r\n  fontSize: '12px',\r\n  fontWeight: 300,\r\n})\r\n\r\nexport const StatusName = styled(Box)<{ isHovering?: boolean }>((props) => ({\r\n  fontSize: '14px',\r\n  fontWeight: 400,\r\n  cursor: 'default',\r\n  textDecoration: props.isHovering ? 'underline' : 'none',\r\n}))\r\n","import { PropsWithChildren, useState } from 'react'\r\nimport { Status } from '../../../types/status/status'\r\nimport { StatusTargetIcon } from '../../Move/StatusTargetIcon'\r\nimport { Box } from '../Box'\r\nimport { StatusCard } from '../StatusCard'\r\nimport { Tooltip } from '../Tooltip'\r\nimport { StatusChance, StatusName, StatusWrapper, Wrapper } from './style'\r\n\r\nexport type StatusListProps = {\r\n  statuses: Status[] | undefined\r\n  type: 'target' | 'source'\r\n}\r\nexport const StatusList = (props: StatusListProps) => {\r\n  const { statuses, type } = props\r\n  return statuses?.length ? (\r\n    <Wrapper>\r\n      <Box paddingTop='2px' marginRight='4px'>\r\n        <StatusTargetIcon type={type} />\r\n      </Box>\r\n      <Box flexDirection='row' flexWrap='wrap'>\r\n        {statuses.map((status, i) => (\r\n          <StatusListItem status={status}>\r\n            {i !== statuses.length - 1 ? ',' : ''}\r\n          </StatusListItem>\r\n        ))}\r\n      </Box>\r\n    </Wrapper>\r\n  ) : null\r\n}\r\n\r\nexport type StatusListItemProps = {\r\n  status: Status\r\n}\r\nexport const StatusListItem = (\r\n  props: PropsWithChildren<StatusListItemProps>,\r\n) => {\r\n  const { status, children } = props\r\n  const [isHovering, setIsHovering] = useState(false)\r\n  return (\r\n    <StatusWrapper\r\n      isPositive={status.isPositive}\r\n      onMouseEnter={() => setIsHovering(true)}\r\n      onMouseLeave={() => setIsHovering(false)}\r\n    >\r\n      <StatusChance>({(status.applyChance * 100).toFixed(0)}%)</StatusChance>\r\n      <Tooltip\r\n        isOpen={isHovering}\r\n        content={<StatusCard status={status} />}\r\n        options={{\r\n          triggerOffset: 4,\r\n        }}\r\n      >\r\n        <StatusName isHovering={isHovering}>{status.name}</StatusName>\r\n      </Tooltip>\r\n      {children}\r\n    </StatusWrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box } from '../_core/Box'\r\nimport { Icon } from '../_core/Icon'\r\nimport { ReactComponent as Check } from '../../icons/delapouite/dice-target.svg'\r\nimport { MoveStatuses } from '../../types/move'\r\nimport { StatusList } from '../_core/StatusList'\r\n\r\nconst Section = styled(Box)({\r\n  width: '100%',\r\n  marginBottom: '4px',\r\n})\r\nconst TitleWrapper = styled(Box)({\r\n  flexDirection: 'row',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n})\r\nconst Title = styled(Box)({\r\n  fontWeight: 700,\r\n  textTransform: 'uppercase',\r\n  fontSize: '14px',\r\n})\r\nconst Spacer = styled(Box)({\r\n  flex: 1,\r\n  height: '0px',\r\n  borderBottom: '1px solid rgba(255,255,255,0.24)',\r\n  margin: 'auto 8px',\r\n})\r\nconst Chance = styled(Box)({\r\n  fontSize: '14px',\r\n  opacity: 0.56,\r\n})\r\n\r\nexport type MoveStatusesSectionProps = {\r\n  checks: number\r\n  checksColor?: string\r\n  chance?: number\r\n  title: string\r\n  statuses?: MoveStatuses\r\n}\r\n\r\nexport const MoveStatusesSection = (props: MoveStatusesSectionProps) => {\r\n  const { checks, checksColor = 'white', chance, statuses, title } = props\r\n  const checksArray = Array(checks).fill(null)\r\n  return (\r\n    <Section>\r\n      <TitleWrapper>\r\n        <Title>{title}</Title>\r\n        <Spacer />\r\n        <Box flexDirection='row' alignItems='center'>\r\n          <Box flexDirection='row' marginRight='4px'>\r\n            {checksArray.map((_, i) => (\r\n              <Icon key={i} color={checksColor} height='16px' width='16px'>\r\n                <Check />\r\n              </Icon>\r\n            ))}\r\n          </Box>\r\n\r\n          {chance !== undefined && (\r\n            <Chance>({(chance * 100).toFixed(0)}%)</Chance>\r\n          )}\r\n        </Box>\r\n      </TitleWrapper>\r\n      <StatusList statuses={statuses?.source} type='source' />\r\n      <StatusList statuses={statuses?.target} type='target' />\r\n    </Section>\r\n  )\r\n}\r\n","import { Character } from '../../types/character/character'\r\nimport {\r\n  getMoveFailureChance,\r\n  getMovePerfectChance,\r\n  Move,\r\n} from '../../types/move'\r\nimport { Box } from '../_core/Box'\r\nimport { MoveStatusesSection } from './MoveStatusesSection'\r\n\r\nexport type MoveStatusesProps = {\r\n  move: Move\r\n  character?: Character\r\n}\r\n\r\nexport const MoveStatuses = (props: MoveStatusesProps) => {\r\n  const { move, character } = props\r\n  const hasPerfectStatuses =\r\n    move.perfectStatuses &&\r\n    move.perfectStatuses.source.length + move.perfectStatuses.target.length > 0\r\n  const hasFailureStatuses =\r\n    move.failureStatuses &&\r\n    move.failureStatuses.source.length + move.failureStatuses.target.length > 0\r\n  const perfectChance = character\r\n    ? getMovePerfectChance(move, character)\r\n    : undefined\r\n  const failureChance = character\r\n    ? getMoveFailureChance(move, character)\r\n    : undefined\r\n\r\n  if (!hasFailureStatuses && !hasPerfectStatuses) return null\r\n  return (\r\n    <Box background='rgba(0,0,0,0.27)' padding='8px' margin='0 -8px 8px -8px'>\r\n      {hasPerfectStatuses && (\r\n        <MoveStatusesSection\r\n          checks={move.checks}\r\n          chance={perfectChance}\r\n          statuses={move.perfectStatuses}\r\n          title='ON PERFECT'\r\n        />\r\n      )}\r\n      {hasFailureStatuses && (\r\n        <MoveStatusesSection\r\n          checks={move.checks}\r\n          checksColor='rgba(255,255,255,0.36)'\r\n          chance={failureChance}\r\n          statuses={move.failureStatuses}\r\n          title='ON FAILURE'\r\n        />\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n","import { Move as MoveType, MoveTarget } from '../../types/move'\r\nimport {\r\n  AttackAccuracy,\r\n  AttackAccuracyText,\r\n  AttackPower,\r\n  AttackWrapper,\r\n  Header,\r\n  MoveDetails,\r\n  Wrapper,\r\n} from './style'\r\nimport { ElementIcon } from './ElementIcon'\r\nimport { TypeIcon } from './TypeIcon'\r\nimport { MoveStatuses } from './MoveStatuses'\r\nimport { AccuracyStats, Character } from '../../types/character/character'\r\nimport { PropsWithChildren, useMemo } from 'react'\r\nimport { getStats } from '../../types/character/util'\r\nimport { Box } from '../_core/Box'\r\n\r\nconst targetTypeStringMap: Record<MoveTarget, string> = {\r\n  all: 'All',\r\n  self: 'Self',\r\n  'uncontrolled-target': 'Enemy',\r\n  'uncontrolled-splash': 'Splash',\r\n  'uncontrolled-party': 'Party',\r\n  'controlled-target': 'Ally',\r\n  'controlled-splash': 'Splash',\r\n  'controlled-party': 'Team',\r\n}\r\n\r\nexport type MoveProps = {\r\n  move: MoveType\r\n  character?: Character\r\n}\r\n\r\nexport const Move = (props: PropsWithChildren<MoveProps>) => {\r\n  const { move, character, children } = props\r\n  const accuracy = useMemo(() => {\r\n    if (character) {\r\n      const stats = getStats(character)\r\n      return `(${\r\n        stats[`${move.type}Accuracy` as keyof AccuracyStats] + move.offset\r\n      }%)`\r\n    }\r\n    return `(${move.offset >= 0 && '+'}${move.offset})`\r\n  }, [character, move])\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Header>\r\n        <ElementIcon type={move.element} />\r\n        <Box flex={1} paddingRight='16px'>\r\n          <strong style={{ marginLeft: 8, fontSize: 18 }}>{move.name}</strong>\r\n        </Box>\r\n      </Header>\r\n      <AttackWrapper>\r\n        <AttackPower type={move.type}>\r\n          <TypeIcon type={move.type} />\r\n          <span style={{ marginLeft: 4 }}>{move.power}</span>\r\n        </AttackPower>\r\n        <AttackAccuracy>\r\n          <AttackAccuracyText checks={move.checks} style={{ marginRight: 4 }}>\r\n            {move.checks}\r\n          </AttackAccuracyText>\r\n          {'@'} {accuracy}\r\n        </AttackAccuracy>\r\n      </AttackWrapper>\r\n\r\n      <Box\r\n        flexDirection='row'\r\n        style={{ textAlign: 'center' }}\r\n        margin='8px 0 12px 0'\r\n      >\r\n        <MoveDetails>\r\n          <Box style={{ fontSize: 12, whiteSpace: 'nowrap' }}>Target</Box>\r\n          <Box color='white'>{targetTypeStringMap[move.target]}</Box>\r\n        </MoveDetails>\r\n        <MoveDetails>\r\n          <Box style={{ fontSize: 12, whiteSpace: 'nowrap' }}>Energy Cost</Box>\r\n          <Box color='white'>{move.energyCost}</Box>\r\n        </MoveDetails>\r\n        <MoveDetails>\r\n          <Box style={{ fontSize: 12, whiteSpace: 'nowrap' }}>Recovery</Box>\r\n          <Box color='white'>{move.recovery}</Box>\r\n        </MoveDetails>\r\n      </Box>\r\n      <MoveStatuses move={move} character={character} />\r\n      <Box flex={1} />\r\n      {children}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nconst inactiveColor = 'rgba(255,255,255,0.45)'\r\nconst activeColor = 'rgba(255,255,255,0.96)'\r\nconst StyledButton = styled(Box)({\r\n  alignItems: 'center',\r\n  background: 'rgba(0,0,0,0.18)',\r\n  border: `2px solid ${inactiveColor}`,\r\n  borderRadius: '4px',\r\n  color: activeColor,\r\n  cursor: 'pointer',\r\n  fontWeight: 500,\r\n  padding: '4px 16px',\r\n  textTransform: 'uppercase',\r\n  textShadow: '0px 1px 3px rgba(0,0,0,0.54)',\r\n  ':hover': {\r\n    background: 'rgba(255,255,255,0.18)',\r\n    borderColor: activeColor,\r\n    color: activeColor,\r\n  },\r\n  ':active': {\r\n    background: 'transparent',\r\n  },\r\n})\r\n\r\nexport const Button = (props: BoxProps) => <StyledButton {...props} />\r\n","import { useSpring } from 'react-spring'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\nimport { Move } from '../Move'\r\nimport { Box } from '../_core/Box'\r\nimport { Button } from '../_core/Button'\r\n\r\nexport type CombatBodyActionsProps = {}\r\n\r\nexport const CombatBodyActions = (props: CombatBodyActionsProps) => {\r\n  const { getActiveCharacter } = useCombat()\r\n  const { bufferMove } = useCombatBuffer()\r\n  const character = getActiveCharacter()\r\n  return (\r\n    <Box flex='1' overflow='auto'>\r\n      <Box>\r\n        <h2 style={{ color: 'white', textAlign: 'center' }}>\r\n          Select an Action\r\n        </h2>\r\n        <Box\r\n          flex='1'\r\n          flexDirection='row'\r\n          flexWrap='wrap'\r\n          justifyContent='center'\r\n          overflow='auto'\r\n        >\r\n          {character?.moves?.map((move) => (\r\n            <Move key={move.id} move={move} character={character}>\r\n              <Button\r\n                marginTop='8px'\r\n                onClick={() => {\r\n                  bufferMove(move)\r\n                }}\r\n              >\r\n                Select\r\n              </Button>\r\n            </Move>\r\n          ))}\r\n        </Box>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { config, useTransition } from 'react-spring'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport type FadeWindowProps = BoxProps & {}\r\n\r\nexport const FadeWindow = (props: FadeWindowProps) => {\r\n  const { children, ...rest } = props\r\n  const transition = useTransition([children], {\r\n    from: { opacity: 0 },\r\n    enter: { opacity: 1 },\r\n    leave: { opacity: 0 },\r\n    config: config.slow,\r\n  })\r\n  return (\r\n    <Box {...rest} flex={1} width='100%' position='relative'>\r\n      {transition((styles, child) => (\r\n        <Box\r\n          position='absolute'\r\n          style={{\r\n            ...styles,\r\n            inset: '1px',\r\n          }}\r\n        >\r\n          {child}\r\n        </Box>\r\n      ))}\r\n    </Box>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\nimport { overflow } from 'styled-system'\r\nimport { Character } from '../../types/character/character'\r\nimport { ElementalType } from '../../types/elemental'\r\nimport { colorMap } from '../Move/ElementIcon'\r\nimport { Box, BoxProps } from '../_core/Box'\r\n\r\nconst Wrapper = styled(Box)({\r\n  boxShadow: '0px 0px 10px inset rgba(0,0,0,0.45)',\r\n  boxSizing: 'border-box',\r\n  whiteSpace: 'nowrap',\r\n  overflow: 'hidden',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  textOverflow: 'ellipsis',\r\n  display: 'inline-block',\r\n})\r\n\r\nexport type CombatCharacterAvatarProps = BoxProps & {\r\n  character: Character\r\n}\r\nexport const CombatCharacterAvatar = (props: CombatCharacterAvatarProps) => {\r\n  const { character, ...rest } = props\r\n  return (\r\n    <Wrapper\r\n      {...rest}\r\n      backgroundColor={\r\n        colorMap[character?.elements[0].element as ElementalType]\r\n      }\r\n    ></Wrapper>\r\n  )\r\n}\r\n\r\nCombatCharacterAvatar.defaultProps = {\r\n  height: '60px',\r\n  width: '60px',\r\n  borderWidth: '2px',\r\n  borderColor: 'white',\r\n  borderStyle: 'solid',\r\n}\r\n","import { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\nimport { Character } from '../../types/character/character'\r\nimport { CombatCharacterAvatar } from '../CombatCharacterAvatar'\r\nimport { Box } from '../_core/Box'\r\nimport { Button } from '../_core/Button'\r\n\r\nexport type CombatBodyTargetsProps = {\r\n  targetsOptions: Character[][]\r\n}\r\n\r\nexport const CombatBodyTargets = (props: CombatBodyTargetsProps) => {\r\n  const { targetsOptions } = props\r\n  const { setMoveBuffer, setTargetsBuffer } = useCombatBuffer()\r\n  return (\r\n    <Box flex={1} alignItems='center'>\r\n      <Box flexDirection='row' alignItems='center'>\r\n        <h2 style={{ color: 'white' }}>Choose a Target</h2>\r\n      </Box>\r\n      <Box flexDirection='row'>\r\n        {targetsOptions.map((targets, i) => (\r\n          <Box\r\n            key={i}\r\n            padding='16px'\r\n            margin='4px'\r\n            border='1px solid black'\r\n            alignItems='center'\r\n            background='linear-gradient(\r\n                    198deg,\r\n                    rgba(45, 47, 56, 1) 0%,\r\n                    rgba(80, 94, 116, 1) 100%\r\n                  )'\r\n          >\r\n            {targets.map((target) => (\r\n              <CombatCharacterAvatar\r\n                key={target.id}\r\n                height='80px'\r\n                width='80px'\r\n                character={target}\r\n              />\r\n            ))}\r\n            <Button marginTop='8px' onClick={() => setTargetsBuffer(targets)}>\r\n              Select\r\n            </Button>\r\n          </Box>\r\n        ))}\r\n      </Box>\r\n      <Box marginTop='32px'>\r\n        <Button onClick={() => setMoveBuffer(undefined)}>\r\n          Back to Action Select\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { SpringValue } from '@react-spring/core'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport interface AnimatedNumberProps extends Omit<BoxProps, 'children'> {\r\n  value: SpringValue<number>\r\n}\r\n\r\nexport const AnimatedNumber = (props: AnimatedNumberProps) => {\r\n  const { value, ...rest } = props\r\n  return <Box {...rest}>{value.to((v) => v.toFixed(0))}</Box>\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M302.344 28.514c-2.386 1.354-4.334 3.497-6.273 7.182-2.335 4.438-4.28 10.836-5.94 18.29-3.316 14.91-5.51 33.828-12.098 51.26l-.54 1.43-.982 1.17c-53.308 63.59-92.07 98.36-119.014 148.817l-2.46 4.605-5.22.15s-10.63.322-22.607 2.46c-11.978 2.137-43.225 3.316-46.132 7.017-13.33 16.97-23.48 45.76-25.072 70.46-1.592 24.697 3.872 48.986 16.676 65.568.858 1.11 29.53 4.57 38.22 5.302 8.693.73 16.52.162 16.52.162l6.08-.457 2.678 5.48c14.83 30.325 61.456 50.595 110.937 66.056 4.384.248 11.962-1.82 20.852-6.295-19.818-7.57-35.37-14.03-52.5-23.087l-4.423-2.338-.347-4.99c-.896-12.814 5.672-23.273 13.61-30.256 2.54-2.237 5.24-4.216 7.985-6.038-1.54-.685-3.074-1.38-4.62-2.053l-4.698-2.05-.635-5.086c-1.752-14.04 2.566-27.897 11.664-37.728 1.852-2 3.932-3.81 6.19-5.405l-.23-.1-.438-5.31c-1.313-15.828 8.72-29.44 20.295-39.02 2.13-1.764 4.347-3.44 6.623-4.985l-.91-2.148c-4.49-10.608-2.336-21.785 3.01-29.815 5.35-8.03 13.357-13.657 21.92-16.79l.232-.086.236-.073c16.656-5.078 32.616-1.007 47.756 3.03 15.14 4.036 29.842 8.22 45.14 6.923 9.286 15.502 8.095 12.523 10.49 17.176l-8.966.76c-19.417 1.647-36.48-3.515-51.3-7.467-14.71-3.92-26.832-6.456-37.616-3.264-5.132 1.933-10.21 5.715-12.908 9.77-2.15 3.226-3.06 6.18-2.338 9.75 21.768 9.268 38.374 19.347 57.04 24.798 19.682 5.746 42.49 7.06 79.325-3.035 5.858-2.842 11.615-7.678 15.014-12.946 3.503-5.427 4.637-10.646 2.87-16-6.415-19.43-15.202-36.684-33.028-48.515-40.155-16.703-65.958-16.832-101.275-13.336-.627-5.215-.437-10.644.022-18.09 2.066-15.153 8.845-33.844 16.745-55.096 9.792-26.342 21.692-55.157 30.416-78.892-2.042-19.79-7.618-30.87-15.044-37.3-7.295-6.315-17.56-9.054-30.932-9.564zm-14.53 290.698c-4.52 1.1-10.952 3.76-16.513 8.363-6.763 5.6-11.67 12.988-13.268 18.99 24.578 11.48 43.09 22.944 74.63 33.086l66.92-3.794c11.996-4.2 19.78-8.523 24.07-12.197 4.42-3.79 5.292-6.294 5.45-8.77.265-4.15-3.83-11.11-9.88-18.43-37.514 9.835-63.92 8.562-86.034 2.105-16.627-4.855-30.524-12.225-45.375-19.353zm-25.398 49.41c-6.38.195-11.287 2.923-15.2 7.15-4.27 4.616-6.853 11.327-7.09 18.49 23.313 10.374 45.08 21.135 74.69 30.407l56.54-1.095c21.862-.903 27.79-9.79 28.918-17.854.6-4.28-.493-8.504-2.71-11.72l-67.27 3.815-1.57-.496c-28.61-9.035-47.056-19.095-66.265-28.698h-.044zm-9.96 50.937c-6.14 3.332-12.053 6.753-16.258 10.452-4.005 3.523-6.404 6.67-7.237 10.69 17.396 8.825 33.933 15.363 57.386 24.162l46.51 1.596c8.015-3.427 12.8-6.69 15.08-9.11 2.44-2.59 2.637-3.797 2.603-5.873-.035-2.12-1.344-5.413-3-9.437l-35.403.685-1.385-.427c-22.878-7.07-41.16-14.99-58.295-22.74z\"\n});\n\nfunction SvgThumbUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThumbUp);\nexport default __webpack_public_path__ + \"static/media/thumb-up.9f51d969.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M283.195 35.116c24.564.196 57.187 6.155 86.344 17.69 13.42 5.31 24.168 9.772 30.624 14.062 6.456 4.29 8.202 6.845 8.266 11.725.052 3.996-.285 6.73-2.256 9.89-1.972 3.162-6.117 7.236-15.42 11.72l-26.506 12.78 29.12 4.235c28.602 4.157 33.414 21.214 33.6 23.85.69 9.877-2.582 16.77-15.882 22.27l-23.953 9.91 24.94 7.068c14.348 4.065 24.492 16.475 24.49 24.726 0 7.6-7.05 18.704-24.22 24.037l-27.63 8.583 27.625 8.606c10.35 3.222 18.282 5.945 22.32 8.792 4.038 2.847 5.318 4.47 5.107 11.64-.297 10.136-5.695 15.012-15.656 19.5-9.962 4.49-23.656 6.725-34.927 8.305-35.802 5.02-71.025 6.965-105.87.084l-20.33-4.015 10.947 17.598c25.885 41.614 54.194 90.91 59.11 130.426l.044.352.072.348c5.128 24.97-6.35 36.185-16.972 37.46-5.31.64-11.003-1.04-16.315-6.722-5.313-5.68-10.128-15.727-11.436-31.537l-.12-1.448-.57-1.336c-7.724-18.123-25.866-39.642-46.338-61.158-20.097-21.123-42.306-41.512-58.814-55.33-35.53-49.788-45.97-71.5-53.832-85.07-3.957-6.827-7.77-12.2-13.52-16.87-5.75-4.67-12.805-8.494-24.096-14.304l-.02-.01-.02-.01c-3.508-1.783-10.932-13.615-14.72-31.09-3.786-17.476-5.158-39.717-3.44-60.715 1.72-21 6.696-40.814 14.187-53.263 3.746-6.224 7.978-10.502 12.393-12.85 4.243-2.255 8.787-3.025 14.914-1.767 10.302 4.843 19.693 9.668 30.178 12.615 10.865 3.054 22.944 3.76 36.7.153l.583-.153.56-.23c28.5-11.733 71.544-20.78 100.737-20.55z\"\n});\n\nfunction SvgThumbDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgThumbDown);\nexport default __webpack_public_path__ + \"static/media/thumb-down.fd69cc7f.svg\";\nexport { ForwardRef as ReactComponent };","import { useChain, useSpring, useSpringRef } from '@react-spring/web'\r\nimport styled from 'styled-components'\r\nimport { ReactComponent as CheckIcon } from '../../../icons/delapouite/dice-target.svg'\r\nimport { Icon } from '../Icon'\r\nimport { Box, BoxProps } from '../Box'\r\nimport { useState } from 'react'\r\n\r\nconst Wrapper = styled(Box)((p) => ({\r\n  position: 'relative',\r\n  overflow: 'hidden',\r\n  borderStyle: 'solid',\r\n  boxShadow: '0px 0px 5px rgba(0,0,0,0.5) inset',\r\n  margin: 8,\r\n}))\r\n\r\nconst Inner = styled(Box)(() => ({\r\n  boxShadow: '1px 0px 1px rgba(0,0,0,1)',\r\n  zIndex: 2,\r\n}))\r\n\r\nexport type CheckProps = BoxProps & {\r\n  size: number\r\n  delay?: number\r\n  value: boolean | null\r\n  nullColor?: string\r\n  failureColor?: string\r\n  successColor?: string\r\n  backgroundColor?: string\r\n  onRest?: () => void\r\n}\r\n\r\nexport const Check = (props: CheckProps) => {\r\n  const {\r\n    value,\r\n    size,\r\n    padding = '6px',\r\n    borderWidth = '3px',\r\n    delay = 0,\r\n    nullColor = 'rgba(255,255,255,0.09)',\r\n    failureColor = 'rgba(255,255,255,0.18)',\r\n    successColor = 'white',\r\n    backgroundColor = 'rgba(255,255,255,0.054)',\r\n    children,\r\n    onRest,\r\n  } = props\r\n  const [dropDone, setDropDone] = useState(false)\r\n  const isNull = value === null\r\n\r\n  const dropDuration = 200\r\n  const dropRef = useSpringRef()\r\n  const drop = useSpring({\r\n    ref: dropRef,\r\n    from: { top: -size },\r\n    top: isNull ? -size : 0,\r\n    config: { duration: dropDuration },\r\n    delay: delay,\r\n  })\r\n\r\n  const shakeDuration = 100\r\n  const shakeRef = useSpringRef()\r\n  const shake = useSpring({\r\n    ref: shakeRef,\r\n    from: { x: 1 },\r\n    to: { x: isNull ? 1 : 0 },\r\n    config: { duration: shakeDuration },\r\n    delay: delay + dropDuration,\r\n    onRest: () => {\r\n      setDropDone(!isNull)\r\n      onRest && onRest()\r\n    },\r\n  })\r\n\r\n  const borderRef = useSpringRef()\r\n  const border = useSpring({\r\n    ref: borderRef,\r\n    from: {\r\n      borderColor: nullColor,\r\n    },\r\n    to: {\r\n      borderColor: dropDone ? (value ? successColor : failureColor) : nullColor,\r\n    },\r\n  })\r\n\r\n  const shadowColor = value ? 'rgba(0,0,0,1)' : 'rgba(0,0,0,0.3)'\r\n  const shadowValue = dropDone\r\n    ? `0px 0px 20px ${shadowColor} inset`\r\n    : `0px 0px 0px ${shadowColor} inset`\r\n\r\n  const shadow = useSpring({\r\n    boxShadow: shadowValue,\r\n    backgroundColor: backgroundColor,\r\n  })\r\n\r\n  useChain([dropRef, shakeRef, borderRef])\r\n  return (\r\n    <Wrapper\r\n      height={size}\r\n      width={size}\r\n      borderWidth={borderWidth}\r\n      style={{\r\n        ...border,\r\n        transform: shake.x\r\n          .to({\r\n            range: [0, 0.5, 1],\r\n            output: [0, isNull ? 0 : size / 6, 0],\r\n          })\r\n          .to((x) => `translate3d(0px, ${x}px, 0px)`),\r\n      }}\r\n    >\r\n      <Inner\r\n        height={size}\r\n        width={size}\r\n        position='absolute'\r\n        style={{\r\n          ...drop,\r\n          ...shadow,\r\n          fill: border.borderColor,\r\n        }}\r\n      >\r\n        <Icon flex={1} padding={padding}>\r\n          {children || <CheckIcon />}\r\n        </Icon>\r\n      </Inner>\r\n    </Wrapper>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { useSpring } from 'react-spring'\r\nimport { MoveResult } from '../../types/move'\r\nimport { CombatCharacterAvatar } from '../CombatCharacterAvatar'\r\nimport { AnimatedNumber } from '../_core/AnimatedNumber'\r\nimport { Box } from '../_core/Box'\r\nimport { ReactComponent as Success } from '../../icons/delapouite/thumb-up.svg'\r\nimport { ReactComponent as Failure } from '../../icons/delapouite/thumb-down.svg'\r\nimport { ReactComponent as Arrow } from '../../icons/delapouite/fast-forward-button.svg'\r\nimport { theme } from '../../theme'\r\nimport { Icon } from '../_core/Icon'\r\nimport { Check } from '../_core/Check'\r\n\r\nexport type TargetResultsProps = {\r\n  results: MoveResult[]\r\n  onDone: () => void\r\n}\r\n\r\nexport const TargetResults = (props: TargetResultsProps) => {\r\n  const { results, onDone } = props\r\n  const [resultsDone, setResultsDone] = useState(results.map((_) => false))\r\n  const setStatusDone = (index: number) =>\r\n    setResultsDone((r) => r.map((d, i) => (i === index ? true : d)))\r\n\r\n  useEffect(() => {\r\n    if (resultsDone.every(Boolean)) {\r\n      onDone()\r\n    }\r\n  }, [resultsDone])\r\n\r\n  return (\r\n    <Box padding='16px 8px' background='rgba(0,0,0,0.54)'>\r\n      {results.map((result, i) => (\r\n        <Box marginTop={i > 0 ? '12px' : 0}>\r\n          <TargetResult result={result} onDone={() => setStatusDone(i)} />\r\n        </Box>\r\n      ))}\r\n    </Box>\r\n  )\r\n}\r\n\r\ntype TargetResultProps = {\r\n  result: MoveResult\r\n  onDone: () => void\r\n}\r\nconst TargetResult = (props: TargetResultProps) => {\r\n  const { result, onDone } = props\r\n  const [damageDone, setDamageDone] = useState(false)\r\n\r\n  const wrapper = useSpring({\r\n    from: { opacity: 0 },\r\n    to: { opacity: 1 },\r\n    config: {\r\n      duration: 200,\r\n    },\r\n    onRest: () => {\r\n      if (result.totalDamage === 0) {\r\n        setDamageDone(true)\r\n      }\r\n    },\r\n  })\r\n  const damage = useSpring({\r\n    damage: result.totalDamage,\r\n    from: {\r\n      damage: 0,\r\n    },\r\n    config: {\r\n      mass: 10,\r\n      tension: 320,\r\n      friction: 110,\r\n      clamp: true,\r\n    },\r\n    onRest: () => setDamageDone(true),\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (damageDone) {\r\n      onDone()\r\n    }\r\n  }, [damageDone])\r\n\r\n  return (\r\n    <Box style={wrapper} overflow='hidden'>\r\n      <Box flexDirection='row' alignItems='center' justifyContent='center'>\r\n        <AnimatedNumber\r\n          color='white'\r\n          width='80px'\r\n          alignItems='center'\r\n          style={{ fontSize: '32px', fontWeight: 'bolder' }}\r\n          value={damage.damage}\r\n        />\r\n        <Box width='64px' alignItems='center' margin='0 16px 0 0'>\r\n          <Icon width='32px' color='rgba(255,255,255,0.36)'>\r\n            <Arrow />\r\n          </Icon>\r\n        </Box>\r\n\r\n        <CombatCharacterAvatar\r\n          height='36px'\r\n          width='36px'\r\n          character={result.target}\r\n        />\r\n      </Box>\r\n      <Box height={result.statuses.target.length ? '42px' : '0px'}>\r\n        {damageDone && (\r\n          <Box flexDirection='row' justifyContent='center'>\r\n            {result.statuses.target.map((status, i) => (\r\n              <Box\r\n                key={status.id}\r\n                color='white'\r\n                flexDirection='row'\r\n                alignItems='center'\r\n                padding='0 4px'\r\n              >\r\n                <Check\r\n                  size={20}\r\n                  padding='2px'\r\n                  borderWidth={'2px'}\r\n                  value={status.isApplied}\r\n                  successColor={theme.statsGreen}\r\n                  // onRest={() => setStatusDone(i)}\r\n                >\r\n                  {status.isApplied ? <Success /> : <Failure />}\r\n                </Check>\r\n                <Box opacity={status.isApplied ? 1 : 0.54}>{status.name}</Box>\r\n              </Box>\r\n            ))}\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import Color from 'color'\r\nimport { PropsWithChildren } from 'react'\r\nimport { useSpring } from 'react-spring'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport type ResultTextProps = {\r\n  perfect: boolean\r\n  miss: boolean\r\n  damageDone: boolean\r\n  perfectTextColor: string\r\n}\r\n\r\nexport const ResultText = (props: PropsWithChildren<ResultTextProps>) => {\r\n  const { perfect, miss, damageDone, perfectTextColor, children } = props\r\n  const postStyles = useSpring({\r\n    from: {\r\n      opacity: 0,\r\n    },\r\n    to: {\r\n      opacity: 1,\r\n    },\r\n    config: { duration: damageDone ? 0 : 500 },\r\n    // delay: 200,\r\n  })\r\n\r\n  const perfectStyles = useSpring({\r\n    from: {\r\n      textShadow: '0px 0px 40px rgba(255,255,255,1)',\r\n    },\r\n    to: {\r\n      textShadow: damageDone\r\n        ? '0px 4px 10px rgba(0,0,0,1)'\r\n        : '0px 0px 40px rgba(255,255,255,1)',\r\n    },\r\n    config: {\r\n      mass: 5,\r\n      tension: 2600,\r\n      friction: 1000,\r\n      clamp: true,\r\n    },\r\n  })\r\n\r\n  return (\r\n    <Box\r\n      position='absolute'\r\n      top='0'\r\n      bottom='0'\r\n      left='0'\r\n      right='0'\r\n      display='flex'\r\n      justifyContent='center'\r\n      alignItems='center'\r\n      style={postStyles}\r\n    >\r\n      {perfect && damageDone && (\r\n        <Box\r\n          style={{\r\n            ...perfectStyles,\r\n            fontWeight: 'bolder',\r\n            fontSize: '48px',\r\n            color: perfectTextColor,\r\n          }}\r\n        >\r\n          {children}\r\n        </Box>\r\n      )}\r\n      {miss && (\r\n        <Box\r\n          style={{\r\n            fontWeight: 'bolder',\r\n            fontSize: '48px',\r\n            color: '#ccc',\r\n          }}\r\n        >\r\n          FAILURE\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport { Box } from '../_core/Box'\r\nimport { Check } from '../_core/Check'\r\nimport { ResultText } from './ResultText'\r\n\r\nexport type CombatMoveResultChecksProps = {\r\n  rolls: (boolean | null)[]\r\n  damageDone: boolean\r\n  perfectCheckColor: string\r\n  perfectText: string\r\n  perfectTextColor: string\r\n  onDone: () => void\r\n}\r\n\r\nexport const CombatMoveResultChecks = (props: CombatMoveResultChecksProps) => {\r\n  const {\r\n    rolls,\r\n    damageDone,\r\n    perfectCheckColor,\r\n    perfectText,\r\n    perfectTextColor,\r\n    onDone,\r\n  } = props\r\n  const [checksDone, setChecksDone] = useState(rolls.map((_) => false))\r\n  const setCheckDone = (index: number) =>\r\n    setChecksDone((d) => d.map((c, i) => (i === index ? true : c)))\r\n  const allDone = checksDone.every(Boolean)\r\n  const isPerfect = rolls.every(Boolean)\r\n  const isMiss = !rolls.some(Boolean)\r\n\r\n  useEffect(() => {\r\n    if (allDone) {\r\n      onDone()\r\n    }\r\n  }, [allDone])\r\n\r\n  return (\r\n    <Box flexDirection='row' position='relative' justifyContent='center'>\r\n      {rolls.map((r, i) => (\r\n        <Check\r\n          key={i}\r\n          size={100}\r\n          delay={200 * i}\r\n          value={r}\r\n          successColor={\r\n            allDone ? (isPerfect ? perfectCheckColor : undefined) : undefined\r\n          }\r\n          backgroundColor={\r\n            allDone\r\n              ? r\r\n                ? 'rgba(255,255,255,0.18)'\r\n                : 'rgba(0,0,0,0.54)'\r\n              : 'rgba(0,0,0,0.18)'\r\n          }\r\n          onRest={() => {\r\n            setCheckDone(i)\r\n          }}\r\n        />\r\n      ))}\r\n      {allDone && (\r\n        <ResultText\r\n          perfect={isPerfect}\r\n          miss={isMiss}\r\n          damageDone={damageDone}\r\n          perfectTextColor={perfectTextColor}\r\n        >\r\n          {perfectText}\r\n        </ResultText>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n","import { useEffect, useMemo, useState } from 'react'\r\nimport Color from 'color'\r\nimport { useSpring } from 'react-spring'\r\nimport { Box } from '../_core/Box'\r\nimport { MoveResult } from '../../types/move'\r\nimport { TargetResults } from './TargetResults'\r\nimport { CombatMoveResultChecks } from './CombatMoveResultChecks'\r\n\r\nexport interface CombatMoveResultProps {\r\n  rolls: (boolean | null)[]\r\n  results: MoveResult[]\r\n  perfectColor?: string\r\n  perfectText?: string\r\n  onDamageDone?: () => void\r\n  onDone?: () => void\r\n}\r\n\r\nexport const DEFAULT_PERFECT_COLOR = '#fcba03'\r\nexport const CombatMoveResult = (props: CombatMoveResultProps) => {\r\n  const {\r\n    rolls,\r\n    results,\r\n    perfectText = 'PERFECT',\r\n    perfectColor = DEFAULT_PERFECT_COLOR,\r\n    onDamageDone,\r\n    onDone,\r\n  } = props\r\n  const [perfectCheckColor, setPerfectCheckColor] = useState(perfectColor)\r\n  const perfectTextColor = useMemo(\r\n    () => Color(perfectColor).lighten(0.8).rgb().toString(),\r\n    [perfectColor],\r\n  )\r\n  const [checksDone, setChecksDone] = useState(false)\r\n  const [damageDone, setDamageDone] = useState(false)\r\n\r\n  const statusesCount = results.reduce((sum, result) => {\r\n    return sum + result.statuses.target.length\r\n  }, 0)\r\n\r\n  const wrapper = {}\r\n  useEffect(() => {\r\n    if (damageDone) {\r\n      onDamageDone && onDamageDone()\r\n      setTimeout(() => {\r\n        onDone && onDone()\r\n      }, 1000 + statusesCount * 200)\r\n    }\r\n  }, [damageDone])\r\n\r\n  return (\r\n    <Box minWidth='366px' justifyContent='center' style={wrapper}>\r\n      <CombatMoveResultChecks\r\n        rolls={rolls}\r\n        damageDone={damageDone}\r\n        perfectCheckColor={perfectCheckColor}\r\n        perfectText={perfectText}\r\n        perfectTextColor={perfectTextColor}\r\n        onDone={() => setChecksDone(true)}\r\n      />\r\n      {checksDone && (\r\n        <Box flexDirection='row'>\r\n          <Box flex={1} />\r\n          <Box minWidth='400px' marginTop='16px'>\r\n            <TargetResults\r\n              results={results}\r\n              onDone={() => {\r\n                setPerfectCheckColor(perfectColor)\r\n                setDamageDone(true)\r\n              }}\r\n            />\r\n          </Box>\r\n          <Box flex={1} />\r\n        </Box>\r\n      )}\r\n    </Box>\r\n  )\r\n}\r\n","import { useMemo, useState } from 'react'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\nimport { MoveResult } from '../../types/move'\r\nimport { CombatMoveResult } from '../CombatMoveResult'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport type CombatBodyResultsProps = {\r\n  rolls: (boolean | null)[]\r\n  moveResults: MoveResult[]\r\n  commitMove: () => void\r\n  nextTurn: () => void\r\n}\r\n\r\nexport const CombatBodyResults = (props: CombatBodyResultsProps) => {\r\n  const { rolls, moveResults, nextTurn, commitMove } = props\r\n  const { getActiveCharacter } = useCombat()\r\n  const { moveBuffer } = useCombatBuffer()\r\n  const character = useMemo(() => getActiveCharacter(), [])\r\n\r\n  if (!character || !moveBuffer) return null\r\n\r\n  return (\r\n    <Box padding='16px'>\r\n      <h2 style={{ color: 'white', textAlign: 'center' }}>\r\n        {character.name} uses {moveBuffer.name}\r\n      </h2>\r\n      <CombatMoveResult\r\n        rolls={rolls}\r\n        results={moveResults}\r\n        onDamageDone={() => {}}\r\n        onDone={() => {\r\n          commitMove()\r\n          nextTurn()\r\n        }}\r\n      />\r\n    </Box>\r\n  )\r\n}\r\n","import { useCombat } from '../../contexts/CombatContext'\r\nimport { useCombatBuffer } from '../../contexts/CombatContext/buffer'\r\nimport {\r\n  getRolls,\r\n  Move as MoveType,\r\n  MoveResult,\r\n  resolveMove,\r\n} from '../../types/move'\r\nimport { AccuracyStats, Character } from '../../types/character/character'\r\nimport { getStats } from '../../types/character/util'\r\nimport { useEffect, useMemo, useRef, useState } from 'react'\r\nimport { useCombatTurn } from '../../contexts/CombatContext/turn'\r\nimport { CombatBodyActions } from './CombatBodyActions'\r\nimport { FadeWindow } from '../_core/FadeWindow'\r\nimport { CombatBodyTargets } from './CombatBodyTargets'\r\nimport { CombatBodyResults } from './CombatBodyResults'\r\nimport { Check } from '../_core/Check'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport const CombatBody = () => {\r\n  const {\r\n    addDamageToCharacter,\r\n    addStatusesToCharacter,\r\n    getActiveCharacter,\r\n    updateCharacter,\r\n    getTargets,\r\n  } = useCombat()\r\n  const { nextTurn } = useCombatTurn()\r\n  const { moveBuffer, targetsBuffer } = useCombatBuffer()\r\n  const [rolls, setRolls] = useState<(boolean | null)[]>([])\r\n  const [moveResults, setMoveResults] = useState<MoveResult[] | undefined>()\r\n\r\n  const character = getActiveCharacter()\r\n  const targetsOptions =\r\n    moveBuffer && character ? getTargets(moveBuffer, character) : undefined\r\n\r\n  const rollDamage = (\r\n    move: MoveType,\r\n    source: Character,\r\n    targets: Character[],\r\n  ) => {\r\n    const stats = getStats(source)\r\n    const rolls = getRolls(\r\n      move.checks,\r\n      stats[`${move.type}Accuracy` as keyof AccuracyStats] + move.offset,\r\n    )\r\n    setRolls(rolls)\r\n    setMoveResults(\r\n      targets.map((target) => {\r\n        return resolveMove(source, target, move, rolls)\r\n      }),\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (character && moveBuffer && targetsBuffer) {\r\n      rollDamage(moveBuffer, character, targetsBuffer)\r\n    }\r\n  }, [moveBuffer, targetsBuffer])\r\n\r\n  const commitMove = () => {\r\n    if (character && moveBuffer && moveResults) {\r\n      targetsBuffer?.forEach((char, i) => {\r\n        if (moveResults[i]) {\r\n          addStatusesToCharacter(char.id, moveResults[i].statuses.target)\r\n          addStatusesToCharacter(character.id, moveResults[i].statuses.source)\r\n          addDamageToCharacter(char.id, moveResults[i].totalDamage)\r\n        }\r\n      })\r\n      updateCharacter(character.id, (c) => ({\r\n        ...c,\r\n        energyOffset: c.energyOffset + moveBuffer.energyCost,\r\n      }))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FadeWindow flex='1' alignItems='center'>\r\n      {!moveBuffer && <CombatBodyActions />}\r\n      {targetsOptions && !targetsBuffer && (\r\n        <CombatBodyTargets targetsOptions={targetsOptions} />\r\n      )}\r\n      {moveResults && targetsBuffer && character && (\r\n        <CombatBodyResults\r\n          moveResults={moveResults}\r\n          rolls={rolls}\r\n          commitMove={commitMove}\r\n          nextTurn={nextTurn}\r\n        />\r\n      )}\r\n    </FadeWindow>\r\n  )\r\n}\r\n","import { animated, SpringValue } from 'react-spring'\r\nimport styled from 'styled-components'\r\n\r\nexport const QueueWrapper = styled.div({\r\n  position: 'relative',\r\n  flex: 1,\r\n  display: 'flex',\r\n  height: '60px',\r\n})\r\n","import { config, useTransition } from 'react-spring'\r\nimport { Character } from '../../types/character/character'\r\nimport {\r\n  getMaxValue,\r\n  Queue as QueueType,\r\n  QueueItem as QueueItemType,\r\n} from '../../types/queue/queue'\r\nimport { CombatCharacterAvatar } from '../CombatCharacterAvatar'\r\nimport { Box } from '../_core/Box'\r\nimport { QueueWrapper } from './style'\r\n\r\nexport type QueueProps = {\r\n  queue: QueueType\r\n  characters: Character[]\r\n}\r\n\r\nexport const Queue = (props: QueueProps) => {\r\n  const { queue, characters } = props\r\n  const mv = getMaxValue(queue)\r\n  const maxValue = mv < 0 ? 0 : mv\r\n  const mva = Array(maxValue).fill(undefined)\r\n  const character = (id: string) => characters.find((c) => c.id === id)\r\n  const getPosition = (value: number) => `${(value / maxValue) * 100}%`\r\n  const [first, ...rest] = queue.sort((a, b) => a.value - b.value)\r\n  const transitions = useTransition(rest, {\r\n    key: (item: QueueItemType) => item.id,\r\n    from: { left: '150%', offset: 0, opacity: 0 },\r\n    leave: { left: '0%', offset: -76, opacity: 0 },\r\n    enter: ({ value }) => ({\r\n      opacity: 1,\r\n      offset: 0,\r\n      left: getPosition(value),\r\n    }),\r\n    update: ({ value }) => ({\r\n      offset: 0,\r\n      left: getPosition(value),\r\n    }),\r\n    config: config.slow,\r\n  })\r\n  return (\r\n    <Box flex={1} margin='0 0 8px 8px' position='relative' paddingRight='60px'>\r\n      <QueueWrapper>\r\n        {transitions((styles, item) => (\r\n          <CombatCharacterAvatar\r\n            character={character(item.id) as Character}\r\n            style={{\r\n              ...styles,\r\n              transform: styles.offset.to((v) => `translate3d(${v}px, 0,0)`),\r\n            }}\r\n            position='absolute'\r\n          />\r\n        ))}\r\n        <Box\r\n          flex='1'\r\n          flexDirection='row'\r\n          border='1px solid rgba(255,255,255,0.18)'\r\n          height='48px'\r\n        >\r\n          {mva.map((_, i) => (\r\n            <Box\r\n              key={i}\r\n              style={{\r\n                width: `${100 / maxValue}%`,\r\n                height: '100%',\r\n                background: 'rgba(255,255,255,0.09)',\r\n                borderRight: '1px solid rgba(255,255,255,0.18)',\r\n              }}\r\n            />\r\n          ))}\r\n        </Box>\r\n      </QueueWrapper>\r\n    </Box>\r\n  )\r\n}\r\n","import { useMemo } from 'react'\r\nimport { config, useTransition } from 'react-spring'\r\nimport { ReactComponent as Forward } from '../../icons/delapouite/fast-forward-button.svg'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { Character } from '../../types/character/character'\r\nimport { getStats } from '../../types/character/util'\r\nimport { convertToDeltas, QueueStats } from '../../types/queue/queue'\r\nimport { QueueProps } from '../Queue'\r\nimport { Box } from '../_core/Box'\r\nimport { Icon } from '../_core/Icon'\r\nimport { colorMap } from '../Move/ElementIcon'\r\nimport { ElementalType } from '../../types/elemental'\r\n\r\nconst margin = 16\r\nconst width = 18\r\nconst space = width + margin\r\n\r\nexport const QueueNormalized = (props: QueueProps) => {\r\n  const { queue, characters } = props\r\n  const { getCharacter } = useCombat()\r\n  const statArray: QueueStats = useMemo(\r\n    () =>\r\n      characters.map((c) => ({\r\n        id: c.id,\r\n        value: getStats(c),\r\n      })),\r\n    [characters],\r\n  )\r\n  const [first, ...charactersInOrder] = useMemo(() => {\r\n    return convertToDeltas(queue, statArray)\r\n      .sort((a, b) => a.value - b.value)\r\n      .map((delta) => getCharacter(delta.id))\r\n      .filter((c) => c !== undefined) as Character[]\r\n  }, [queue, statArray])\r\n\r\n  const list = [...charactersInOrder]\r\n\r\n  const magicWidthCoef = 7.2857\r\n  const getX = (index: number) =>\r\n    list.reduce((sum, c, i) => {\r\n      const w = index > i ? c.name.length * magicWidthCoef + space : 0\r\n      return sum + w\r\n    }, 0)\r\n  const transitions = useTransition(\r\n    list.map((char: Character, i: number) => ({\r\n      ...char,\r\n      x: getX(i),\r\n    })),\r\n    {\r\n      key: (char: Character) => char.id,\r\n      // from: { opacity: 0 },\r\n      leave: { opacity: 0 },\r\n      enter: ({ x }) => ({ opacity: 1, transform: `translate3d(${x}px,0,0)` }),\r\n      update: ({ x }) => ({ transform: `translate3d(${x}px,0,0)` }),\r\n      config: config.slow,\r\n    },\r\n  )\r\n\r\n  return (\r\n    <Box margin='0 8px' height='20px' flexDirection='row'>\r\n      {transitions((styles, character, t, index) => {\r\n        return (\r\n          <Box\r\n            key={character.id}\r\n            style={styles}\r\n            flexDirection='row'\r\n            alignItems='center'\r\n            position='absolute'\r\n          >\r\n            <Icon color='rgba(255,255,255,0.18)' width='18px'>\r\n              <Forward />\r\n            </Icon>\r\n            <Box\r\n              height='20px'\r\n              width={`${character.name.length * magicWidthCoef}px`}\r\n              marginLeft='8px'\r\n              marginRight='8px'\r\n              overflow='hidden'\r\n              display='inline-block'\r\n              style={{\r\n                whiteSpace: 'nowrap',\r\n                textOverflow: 'ellipsis',\r\n                lineHeight: '20px',\r\n                fontFamily: 'monospace',\r\n              }}\r\n              color={colorMap[character.elements[0].element as ElementalType]}\r\n            >\r\n              {character.name}\r\n            </Box>\r\n          </Box>\r\n        )\r\n      })}\r\n    </Box>\r\n  )\r\n}\r\n","import { useCombat } from '../../contexts/CombatContext'\r\nimport { CombatCharacterAvatar } from '../CombatCharacterAvatar'\r\nimport { Queue } from '../Queue'\r\nimport { QueueNormalized } from '../QueueNormalized'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport type CombatHeaderProps = {}\r\n\r\nexport const CombatHeader = (props: CombatHeaderProps) => {\r\n  const {} = props\r\n  const { queue, characters, getActiveCharacter } = useCombat()\r\n  const character = getActiveCharacter()\r\n  return (\r\n    <Box flexDirection='row' padding='0px 8px 24px 8px'>\r\n      {character && (\r\n        <CombatCharacterAvatar\r\n          zIndex={10}\r\n          height='88px'\r\n          width='88px'\r\n          character={character}\r\n        />\r\n      )}\r\n      <Box flex='1'>\r\n        <Queue queue={queue} characters={characters} />\r\n        <QueueNormalized queue={queue} characters={characters} />\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { useSpring } from 'react-spring'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport type BarProps = BoxProps & {\r\n  value: number\r\n  max: number\r\n  min?: number\r\n}\r\n\r\nexport const Bar = (props: BarProps) => {\r\n  const { value, max, min = 0, children, background, ...rest } = props\r\n  const percent = (value / (max - min)) * 100\r\n\r\n  const barStyles = useSpring({\r\n    width: `${percent}%`,\r\n    config: {\r\n      duration: 0,\r\n    },\r\n  })\r\n\r\n  const deltaStyles = useSpring({\r\n    width: `${percent}%`,\r\n  })\r\n\r\n  return (\r\n    <Box {...rest} position='relative' background='rgba(0,0,0,0.36)' zIndex={1}>\r\n      <Box\r\n        position='absolute'\r\n        top='0px'\r\n        bottom='0px'\r\n        background={'white'}\r\n        zIndex={1}\r\n        style={deltaStyles}\r\n      ></Box>\r\n      <Box\r\n        position='absolute'\r\n        top='0px'\r\n        bottom='0px'\r\n        background={background}\r\n        zIndex={2}\r\n        style={barStyles}\r\n      ></Box>\r\n      <Box\r\n        position='absolute'\r\n        top='0px'\r\n        bottom='0px'\r\n        left='0px'\r\n        right='0px'\r\n        alignItems='flex-end'\r\n        justifyContent='center'\r\n        color='white'\r\n        zIndex={3}\r\n        style={{\r\n          textShadow: '0px 1px 1px rgba(0,0,0,1)',\r\n        }}\r\n      >\r\n        {children}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { FunctionComponent } from 'react'\r\nimport styled, { CSSProperties } from 'styled-components'\r\nimport { width } from 'styled-system'\r\nimport { Box, BoxProps } from '../Box'\r\n\r\nexport type HexagonProps = BoxProps & {\r\n  size: number\r\n  color: string\r\n  borderWidth?: number\r\n  borderColor?: string\r\n}\r\n\r\nconst StyledHexagon = styled(Box)<HexagonProps>((props) => {\r\n  const { size, borderWidth = 0 } = props\r\n  const baseHeight = size / Math.sqrt(3)\r\n  const sharedWidth = size / Math.sqrt(2)\r\n  const shared: CSSProperties = {\r\n    content: '\"\"',\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    backgroundColor: 'inherit',\r\n    width: `${sharedWidth}px`,\r\n    height: `${sharedWidth}px`,\r\n    transform: `scaleY(0.5774) rotate(-45deg)`,\r\n    left: `${0.1464466 * size - borderWidth}px`,\r\n    borderStyle: 'inherit',\r\n    borderColor: 'inherit',\r\n  }\r\n  return {\r\n    position: 'relative',\r\n    boxSizing: 'border-box',\r\n    zIndex: 2,\r\n    width: `${size}px`,\r\n    height: `${baseHeight}px`,\r\n    margin: `${baseHeight / 2}px`,\r\n    backgroundColor: props.color,\r\n    borderStyle: 'solid',\r\n    borderColor: props.borderColor,\r\n    borderLeftWidth: `${borderWidth}px`,\r\n    borderRightWidth: `${borderWidth}px`,\r\n    borderTopWidth: 0,\r\n    borderBottomWidth: 0,\r\n\r\n    ':before': {\r\n      ...shared,\r\n      boxSizing: 'border-box',\r\n      top: `${-1 * (sharedWidth / 2)}px`,\r\n      borderTopWidth: `${borderWidth * Math.sqrt(2)}px`,\r\n      borderBottomWidth: 0,\r\n      borderRightWidth: `${borderWidth * Math.sqrt(2)}px`,\r\n      borderLeftWidth: 0,\r\n    },\r\n    ':after': {\r\n      ...shared,\r\n      boxSizing: 'border-box',\r\n      bottom: `${-1 * (sharedWidth / 2)}px`,\r\n      borderTop: 0,\r\n      borderBottomWidth: `${borderWidth * Math.sqrt(2)}px`,\r\n      borderRightWidth: 0,\r\n      borderLeftWidth: `${borderWidth * Math.sqrt(2)}px`,\r\n    },\r\n  }\r\n})\r\n\r\nexport const Hexagon = (props: HexagonProps) => <StyledHexagon {...props} />\r\n","import { useState } from 'react'\r\nimport { Status } from '../../types/status/status'\r\nimport { Box } from '../_core/Box'\r\nimport { StatusCard } from '../_core/StatusCard'\r\nimport { Tooltip } from '../_core/Tooltip'\r\n\r\nexport type CombatCharacterStatusProps = {\r\n  status: Status\r\n}\r\n\r\nexport const CombatCharacterStatus = (props: CombatCharacterStatusProps) => {\r\n  const { status } = props\r\n  const [isHovering, setIsHovering] = useState(false)\r\n  return (\r\n    <Box\r\n      marginLeft='4px'\r\n      onMouseEnter={() => setIsHovering(true)}\r\n      onMouseLeave={() => setIsHovering(false)}\r\n    >\r\n      <Tooltip\r\n        isOpen={isHovering}\r\n        content={<StatusCard status={status} />}\r\n        options={{\r\n          placement: 'bottom-center',\r\n          triggerOffset: 4,\r\n        }}\r\n      >\r\n        <Box\r\n          style={{\r\n            fontSize: '10px',\r\n            fontWeight: 700,\r\n            textTransform: 'uppercase',\r\n          }}\r\n        >\r\n          {status.name}\r\n        </Box>\r\n      </Tooltip>\r\n    </Box>\r\n  )\r\n}\r\n","import { useMemo } from 'react'\r\nimport { Character } from '../../types/character/character'\r\nimport { getStats } from '../../types/character/util'\r\nimport { min } from '../../types/equation'\r\nimport { colorMap } from '../Move/ElementIcon'\r\nimport { Bar } from '../_core/Bar'\r\nimport { Box } from '../_core/Box'\r\nimport { Hexagon } from '../_core/Hexagon'\r\nimport { CombatCharacterStatus } from './CombatCharacterStatus'\r\n\r\nexport type CombatCharacterProps = {\r\n  character: Character\r\n}\r\n\r\nexport const CombatCharacter = (props: CombatCharacterProps) => {\r\n  const { character } = props\r\n  const stats = useMemo(() => getStats(character), [character])\r\n  const currentHealth = min(stats.health - character.damage, 0)\r\n  const currentEnergy = min(stats.energy - character.energyOffset, 0)\r\n  return (\r\n    <Box>\r\n      <Box\r\n        width='240px'\r\n        background='linear-gradient(\r\n        198deg,\r\n        rgba(45, 47, 56, 1) 0%,\r\n        rgba(80, 94, 116, 1) 100%\r\n      )'\r\n        border='1px solid rgba(255,255,255,0.56)'\r\n        margin='36px 0 0 24px'\r\n        flexDirection='row'\r\n      >\r\n        <Hexagon\r\n          color={colorMap[character.elements[0].element]}\r\n          borderColor='rgba(255,255,255,0.56)'\r\n          borderWidth={2}\r\n          size={72}\r\n          style={{\r\n            margin: '10px 0 0 -24px',\r\n          }}\r\n        />\r\n        <Box flex={1}>\r\n          <Box padding='4px'>\r\n            <Box color='white'>\r\n              <strong style={{ textShadow: '0 1px 3px rgba(0,0,0,0.56)' }}>\r\n                {character.name}\r\n              </strong>\r\n            </Box>\r\n          </Box>\r\n          <Bar\r\n            value={currentHealth}\r\n            max={stats.health}\r\n            height='16px'\r\n            background='lightcoral'\r\n            border='1px solid rgba(0,0,0,0.45)'\r\n            marginLeft='-8px'\r\n            color='rgba(0,0,0,0.56)'\r\n            style={{\r\n              fontSize: '12px',\r\n              fontWeight: 700,\r\n            }}\r\n          >\r\n            {currentHealth}/{stats.health}\r\n          </Bar>\r\n          <Bar\r\n            value={currentEnergy}\r\n            max={stats.energy}\r\n            height='12px'\r\n            background='darkseagreen'\r\n            border='1px solid rgba(0,0,0,0.45)'\r\n            borderTop='none'\r\n            marginLeft='-16px'\r\n            paddingRight='4px'\r\n            color='rgba(0,0,0,0.56)'\r\n            style={{\r\n              fontSize: '12px',\r\n              fontWeight: 700,\r\n            }}\r\n          >\r\n            {currentEnergy}/{stats.energy}\r\n          </Bar>\r\n        </Box>\r\n      </Box>\r\n      <Box justifyContent='flex-end' color='white' flexDirection='row'>\r\n        {character.statuses.map((status) => (\r\n          <CombatCharacterStatus key={status.id} status={status} />\r\n        ))}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { PropsWithChildren } from 'react'\r\nimport { useCombat } from '../../contexts/CombatContext'\r\nimport { CombatCharacter } from '../CombatCharacter'\r\nimport { Box } from '../_core/Box'\r\n\r\nexport type CombatPartiesProps = {}\r\n\r\nexport const CombatParties = (props: PropsWithChildren<CombatPartiesProps>) => {\r\n  const { children } = props\r\n  const { parties } = useCombat()\r\n  return (\r\n    <Box flex='1' overflow='hidden' flexDirection='row'>\r\n      <Box padding='8px'>\r\n        {parties[0] &&\r\n          parties[0].characters.map((c) => (\r\n            <CombatCharacter key={c.id} character={c} />\r\n          ))}\r\n      </Box>\r\n      {children}\r\n      <Box padding='8px'>\r\n        {parties[1] &&\r\n          parties[1].characters.map((c) => (\r\n            <CombatCharacter key={c.id} character={c} />\r\n          ))}\r\n      </Box>\r\n    </Box>\r\n  )\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const WaterElement: Elemental = {\r\n  element: 'water',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        waterDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        waterResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        grassResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { makeStatusFn } from '../util'\r\n\r\nexport const Wet = makeStatusFn({\r\n  name: 'Wet',\r\n  isStackable: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        specialDefense: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Wet } from '../../status/data/Wet'\r\nimport { Move } from '../move'\r\n\r\nexport const WaterShot: Move = {\r\n  id: v4(),\r\n  name: 'Water Shot',\r\n  type: 'special',\r\n  element: 'water',\r\n  target: 'uncontrolled-target',\r\n  checks: 3,\r\n  offset: -5,\r\n  power: 150,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Wet(0.95, 5, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [Wet(0.95, 5, false)],\r\n  },\r\n}\r\n","import { CharacterStats } from '../character'\r\n\r\nexport const ZERO_STATS: CharacterStats = {\r\n  health: 0,\r\n  speed: 0,\r\n  energy: 0,\r\n  initiative: 0,\r\n  criticalChance: 0,\r\n  criticalDamage: 0,\r\n  physicalAccuracy: 0,\r\n  physicalAttack: 0,\r\n  physicalDefense: 0,\r\n  specialAccuracy: 0,\r\n  specialAttack: 0,\r\n  specialDefense: 0,\r\n  fireDamage: 0,\r\n  fireResistance: 0,\r\n  waterDamage: 0,\r\n  waterResistance: 0,\r\n  grassDamage: 0,\r\n  grassResistance: 0,\r\n  earthDamage: 0,\r\n  earthResistance: 0,\r\n  thunderDamage: 0,\r\n  thunderResistance: 0,\r\n  airDamage: 0,\r\n  airResistance: 0,\r\n  ghostDamage: 0,\r\n  ghostResistance: 0,\r\n  darkDamage: 0,\r\n  darkResistance: 0,\r\n  lightDamage: 0,\r\n  lightResistance: 0,\r\n}\r\n","import { makeStatusFn } from '../util'\r\n\r\nexport const Burned = makeStatusFn({\r\n  name: 'Burned',\r\n  isStackable: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        physicalAttack: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Burned } from '../../status/data/Burning'\r\nimport { Move } from '../move'\r\n\r\nexport const FireBall: Move = {\r\n  id: v4(),\r\n  name: 'Fire Ball',\r\n  type: 'special',\r\n  element: 'fire',\r\n  target: 'uncontrolled-party',\r\n  checks: 1,\r\n  offset: -10,\r\n  power: 100,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Burned(0.95, 5, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [Burned(0.25, 5, false)],\r\n  },\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const EarthElement: Elemental = {\r\n  element: 'earth',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        earthDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        earthResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        airDamage: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { Move } from '../move'\r\n\r\nexport const RockSmash: Move = {\r\n  id: v4(),\r\n  name: 'Rock Smash',\r\n  type: 'physical',\r\n  element: 'earth',\r\n  target: 'uncontrolled-target',\r\n  checks: 3,\r\n  offset: 0,\r\n  power: 120,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const AirElement: Elemental = {\r\n  element: 'air',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        airDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        airResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        thunderResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { Move } from '../move'\r\n\r\nexport const AirSlash: Move = {\r\n  id: v4(),\r\n  name: 'Air Slash',\r\n  type: 'physical',\r\n  element: 'air',\r\n  target: 'uncontrolled-target',\r\n  checks: 2,\r\n  offset: 0,\r\n  power: 95,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const ThunderElement: Elemental = {\r\n  element: 'thunder',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        thunderDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        thunderResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        earthResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { makeStatusFn } from '../util'\r\n\r\nexport const Shocked = makeStatusFn({\r\n  name: 'Shocked',\r\n  isStackable: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        speed: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Shocked } from '../../status/data/Shocked'\r\nimport { Move } from '../move'\r\n\r\nexport const Thunderbolt: Move = {\r\n  id: v4(),\r\n  name: 'Thunderbolt',\r\n  type: 'special',\r\n  element: 'thunder',\r\n  target: 'uncontrolled-target',\r\n  checks: 2,\r\n  offset: -5,\r\n  power: 95,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Shocked(0.95, 5, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [Shocked(0.95, 5, false)],\r\n  },\r\n}\r\n","import { makeStatusFn } from '../util'\r\n\r\nexport const Dazed = makeStatusFn({\r\n  name: 'Dazed',\r\n  isStackable: false,\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        speed: {\r\n          m: -1,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { Dazed } from '../../status/data/Dazed'\r\nimport { Shocked } from '../../status/data/Shocked'\r\nimport { Move } from '../move'\r\n\r\nexport const ThunderPunch: Move = {\r\n  id: v4(),\r\n  name: 'Thunder Punch',\r\n  type: 'physical',\r\n  element: 'thunder',\r\n  target: 'uncontrolled-party',\r\n  checks: 3,\r\n  offset: -20,\r\n  power: 120,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [Dazed(0.55, 3, true), Shocked(0.75, 5, true)],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [Shocked(0.25, 5, false)],\r\n  },\r\n}\r\n","import { Elemental } from '../elemental'\r\n\r\nexport const GrassElement: Elemental = {\r\n  element: 'grass',\r\n  modifiers: [\r\n    {\r\n      stats: {\r\n        grassDamage: {\r\n          m: 0.25,\r\n          b: 0,\r\n        },\r\n        grassResistance: {\r\n          m: 0.5,\r\n          b: 0,\r\n        },\r\n        fireResistance: {\r\n          m: -0.5,\r\n          b: 0,\r\n        },\r\n      },\r\n    },\r\n  ],\r\n}\r\n","import { v4 } from 'uuid'\r\nimport { Move } from '../move'\r\n\r\nexport const RazorLeaf: Move = {\r\n  id: v4(),\r\n  name: 'Razor Leaf',\r\n  type: 'special',\r\n  element: 'grass',\r\n  target: 'uncontrolled-party',\r\n  checks: 2,\r\n  offset: -10,\r\n  power: 100,\r\n  recovery: 100,\r\n  energyCost: 10,\r\n  perfectStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n  failureStatuses: {\r\n    target: [],\r\n    source: [],\r\n  },\r\n}\r\n","import { useEffect } from 'react'\nimport { v4 } from 'uuid'\nimport { CombatBody } from './components/CombatBody'\nimport { CombatHeader } from './components/CombatHeader'\nimport { CombatParties } from './components/CombatParties'\nimport { Box } from './components/_core/Box'\nimport { useCombat } from './contexts/CombatContext'\nimport { Blastoise } from './types/character/data/entities/blastoise'\nimport { Charizard } from './types/character/data/entities/charizard'\nimport { Golem } from './types/character/data/entities/golem'\nimport { Pidgeot } from './types/character/data/entities/pidgeot'\nimport { Raichu } from './types/character/data/entities/raichu'\nimport { Venusaur } from './types/character/data/entities/venusaur'\nimport { Party } from './types/character/party'\n\nconst party = (): Party => ({\n  id: v4(),\n  characters: [Charizard(), Venusaur(), Blastoise()],\n})\n\nconst enemies = (): Party => ({\n  id: v4(),\n  characters: [Raichu(), Golem(), Pidgeot()],\n})\n\nfunction App() {\n  const { init } = useCombat()\n\n  useEffect(() => {\n    init([party(), enemies()])\n  }, [])\n\n  return (\n    <Box className='App' flex={1}>\n      <CombatHeader />\n      <CombatParties>\n        <CombatBody />\n      </CombatParties>\n    </Box>\n  )\n}\n\nexport default App\n","import { v4 } from 'uuid'\r\nimport { FireElement } from '../../../elemental'\r\nimport { FireBall } from '../../../move/data/FireBall'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\n\r\nexport const Charizard = (): Character => ({\r\n  id: v4(),\r\n  name: 'Charizard',\r\n  level: 100,\r\n  elements: [FireElement],\r\n  statuses: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 78 * 5,\r\n    speed: 100,\r\n    energy: 100,\r\n    initiative: 100,\r\n    criticalChance: 0.5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 64,\r\n    physicalAttack: 84,\r\n    physicalDefense: 78,\r\n    specialAccuracy: 85,\r\n    specialAttack: 108,\r\n    specialDefense: 85,\r\n  },\r\n  moves: [FireBall],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { GrassElement } from '../../../elemental/data/GrassElement'\r\nimport { RazorLeaf } from '../../../move/data/RazorLeaf'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\n\r\nexport const Venusaur = (): Character => ({\r\n  id: v4(),\r\n  name: 'Venusaur',\r\n  level: 100,\r\n  elements: [GrassElement],\r\n  statuses: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 80 * 5,\r\n    speed: 80,\r\n    energy: 100,\r\n    initiative: 100,\r\n    criticalChance: 0.5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 62,\r\n    physicalAttack: 82,\r\n    physicalDefense: 83,\r\n    specialAccuracy: 80,\r\n    specialAttack: 100,\r\n    specialDefense: 100,\r\n  },\r\n  moves: [RazorLeaf],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { WaterElement } from '../../../elemental/data/WaterElement'\r\nimport { WaterShot } from '../../../move/data/WaterShot'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\n\r\nexport const Blastoise = (): Character => ({\r\n  id: v4(),\r\n  name: 'Blastoise',\r\n  level: 100,\r\n  elements: [WaterElement],\r\n  statuses: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 79 * 5,\r\n    speed: 78,\r\n    energy: 100,\r\n    initiative: 100,\r\n    criticalChance: 0.5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 70,\r\n    physicalAttack: 83,\r\n    physicalDefense: 100,\r\n    specialAccuracy: 75,\r\n    specialAttack: 85,\r\n    specialDefense: 105,\r\n  },\r\n  moves: [WaterShot],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { ThunderElement } from '../../../elemental/data/ThunderElement'\r\nimport { AirSlash } from '../../../move/data/AirSlash'\r\nimport { Thunderbolt } from '../../../move/data/Thunderbolt'\r\nimport { ThunderPunch } from '../../../move/data/ThunderPunch'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\n\r\nexport const Raichu = (): Character => ({\r\n  id: v4(),\r\n  name: 'Raichu',\r\n  level: 100,\r\n  elements: [ThunderElement],\r\n  statuses: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 60 * 5,\r\n    speed: 105,\r\n    energy: 100,\r\n    initiative: 100,\r\n    criticalChance: 0.5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 95,\r\n    physicalAttack: 90,\r\n    physicalDefense: 55,\r\n    specialAccuracy: 80,\r\n    specialAttack: 90,\r\n    specialDefense: 80,\r\n  },\r\n  moves: [ThunderPunch, Thunderbolt],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { EarthElement } from '../../../elemental/data/EarthElement'\r\nimport { RockSmash } from '../../../move/data/RockSmash'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\n\r\nexport const Golem = (): Character => ({\r\n  id: v4(),\r\n  name: 'Golem',\r\n  level: 100,\r\n  elements: [EarthElement],\r\n  statuses: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 80 * 5,\r\n    speed: 45,\r\n    energy: 100,\r\n    initiative: 100,\r\n    criticalChance: 0.5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 85,\r\n    physicalAttack: 110,\r\n    physicalDefense: 130,\r\n    specialAccuracy: 70,\r\n    specialAttack: 55,\r\n    specialDefense: 65,\r\n  },\r\n  moves: [RockSmash],\r\n})\r\n","import { v4 } from 'uuid'\r\nimport { AirElement } from '../../../elemental/data/AirElement'\r\nimport { AirSlash } from '../../../move/data/AirSlash'\r\nimport { ThunderPunch } from '../../../move/data/ThunderPunch'\r\nimport { Character } from '../../character'\r\nimport { ZERO_STATS } from '../ZERO_STATS'\r\n\r\nexport const Pidgeot = (): Character => ({\r\n  id: v4(),\r\n  name: 'Pidgeot',\r\n  level: 100,\r\n  elements: [AirElement],\r\n  statuses: [],\r\n  damage: 0,\r\n  energyOffset: 0,\r\n  stats: {\r\n    ...ZERO_STATS,\r\n    health: 83 * 5,\r\n    speed: 91,\r\n    energy: 100,\r\n    initiative: 100,\r\n    criticalChance: 0.5,\r\n    criticalDamage: 1.5,\r\n    physicalAccuracy: 80,\r\n    physicalAttack: 80,\r\n    physicalDefense: 75,\r\n    specialAccuracy: 60,\r\n    specialAttack: 70,\r\n    specialDefense: 70,\r\n  },\r\n  moves: [AirSlash],\r\n})\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import styled from 'styled-components'\r\n\r\nexport const ModalContextWrapper = styled.div({\r\n  position: 'relative',\r\n  height: '100vh',\r\n  width: '100vw',\r\n  overflow: 'hidden',\r\n  display: 'flex',\r\n  flex: 1,\r\n})\r\n\r\nexport const ModalNodeWrapper = styled.div({\r\n  position: 'absolute',\r\n  background: 'rgba(0,0,0,0.5)',\r\n  top: 0,\r\n  bottom: 0,\r\n  left: 0,\r\n  right: 0,\r\n  zIndex: 99999,\r\n})\r\n","import {\r\n  createContext,\r\n  FunctionComponent,\r\n  PropsWithChildren,\r\n  useContext,\r\n  useRef,\r\n  useState,\r\n} from 'react'\r\nimport { ModalContextWrapper, ModalNodeWrapper } from './style'\r\n\r\nexport type ModalContextValue = {\r\n  open: <T>(Component: FunctionComponent<T>, props: T) => void\r\n  close: () => void\r\n}\r\nconst defaultValue: ModalContextValue = {\r\n  open: () => {},\r\n  close: () => {},\r\n}\r\n\r\nexport const ModalContext = createContext<ModalContextValue>(defaultValue)\r\nexport const useModal = () => useContext(ModalContext)\r\n\r\nexport const ModalContextProvider = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const componentProps = useRef<any>({})\r\n  const componentRef = useRef<FunctionComponent<any> | null>(null)\r\n  const Component = componentRef.current\r\n  const context: ModalContextValue = {\r\n    open: (c, p) => {\r\n      componentRef.current = c\r\n      componentProps.current = p\r\n      setIsOpen(true)\r\n    },\r\n    close: () => {\r\n      componentRef.current = null\r\n      componentProps.current = null\r\n      setIsOpen(false)\r\n    },\r\n  }\r\n  return (\r\n    <ModalContext.Provider value={context}>\r\n      <ModalContextWrapper>\r\n        {children}\r\n        {isOpen && Component && (\r\n          <ModalNodeWrapper onClick={context.close}>\r\n            <Component {...(componentProps || {})} />\r\n          </ModalNodeWrapper>\r\n        )}\r\n      </ModalContextWrapper>\r\n    </ModalContext.Provider>\r\n  )\r\n}\r\n","import { PropsWithChildren } from 'react'\r\nimport { CombatContextProvider } from './CombatContext'\r\nimport { ModalContextProvider } from './ModalContext'\r\n\r\nexport const AppContexts = (props: PropsWithChildren<{}>) => {\r\n  const { children } = props\r\n  return (\r\n    <CombatContextProvider>\r\n      <ModalContextProvider>{children}</ModalContextProvider>\r\n    </CombatContextProvider>\r\n  )\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport { AppContexts } from './contexts'\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppContexts>\n      <App />\n    </AppContexts>\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}